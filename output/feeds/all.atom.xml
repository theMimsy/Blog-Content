<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>mimsy.io</title><link href="/" rel="alternate"></link><link href="/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2017-09-30T12:00:00-07:00</updated><entry><title>A Primer on Bayesian Statistics (Part 2)</title><link href="/a_primer_on_bayesian_statistics_p2.html" rel="alternate"></link><published>2017-09-30T12:00:00-07:00</published><updated>2017-09-30T12:00:00-07:00</updated><author><name>Dawid Minorczyk</name></author><id>tag:None,2017-09-30:/a_primer_on_bayesian_statistics_p2.html</id><summary type="html">&lt;p class="first last"&gt;The second in a two part series about Bayesian Statistics&lt;/p&gt;
</summary><content type="html">&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; This is the second part in a two part series. You can find the first part &lt;a class="reference external" href="a_primer_on_bayesian_statistics_p1.html"&gt;right here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="a-primer-on-bayesian-statistics-part-2"&gt;
&lt;h2&gt;A Primer on Bayesian Statistics (Part 2)&lt;/h2&gt;
&lt;p&gt;Last time, we explained the basics surrounding Bayesian Statistics and its use in data science. We covered &lt;em&gt;Bayes' Theorem&lt;/em&gt;, &lt;em&gt;priors&lt;/em&gt;, &lt;em&gt;posteriors&lt;/em&gt;, and how we can use these tools to refine estimates. While this knowledge opens up a lot of doors, I left a few big questions unanswered:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;I never mentioned how one might use &lt;em&gt;Bayes' Theorem&lt;/em&gt; in conjunction with popular distributions; in fact, I didn't even define a single random variable! The Frequentist method has standard tools based (mostly) around the normal distribution, such as confidence intervals and p-values. What tools do we have for Bayesian analysis?&lt;/li&gt;
&lt;li&gt;Why would you want to use Bayesian statistics as opposed to classical methods in the first place? What advantages does it bring? Are there any disadvantages?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To answer these questions, I'll need to bring out a bit more mathematical machinery from this point on. As such, Part 2 will be harder (but also more interesting!) than the first part. Glance at the &lt;strong&gt;Notation&lt;/strong&gt; card below to get an idea of what I'll be using; see if everything makes sense. A word of warning: I'll be making &lt;em&gt;heavy&lt;/em&gt; use of the binomial distribution over the next few sections; I definitely recommend brushing up on it!&lt;/p&gt;
&lt;p&gt;&lt;div class="card"&gt;
  &lt;p class="notation"&gt;&lt;/p&gt;
&lt;div class="section" id="notation"&gt;
&lt;h3&gt;Notation&lt;/h3&gt;
&lt;p&gt;To try to keep things organized and clear, I'll use verbose and self-explanatory notation throughout the post:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Uppercase letters like &lt;span class="math"&gt;\(X\)&lt;/span&gt;, &lt;span class="math"&gt;\(N_b\)&lt;/span&gt;, or &lt;span class="math"&gt;\(U\)&lt;/span&gt; will represent &lt;em&gt;random variables&lt;/em&gt; only.&lt;/li&gt;
&lt;li&gt;I'll use lowercase letters like &lt;span class="math"&gt;\(x\)&lt;/span&gt;, &lt;span class="math"&gt;\(n_b\)&lt;/span&gt;, or &lt;span class="math"&gt;\(u\)&lt;/span&gt; to represent &lt;em&gt;constant parameters&lt;/em&gt; or &lt;em&gt;specific values of random variables&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;As before, the symbol &lt;span class="math"&gt;\(\boldsymbol{P}\)&lt;/span&gt; will represent the standard probability function.&lt;/li&gt;
&lt;li&gt;The symbol &lt;span class="math"&gt;\(\partial \boldsymbol{P}\)&lt;/span&gt; will represent continuous probability distributions. This is nonstandard notation, read on for an explanation.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="why-partial-boldsymbol-p"&gt;
&lt;h4&gt;Why &lt;span class="math"&gt;\(\partial \boldsymbol{P}\)&lt;/span&gt;?&lt;/h4&gt;
&lt;p&gt;The final piece of notation will probably be unfamiliar. When reading statistics textbooks, most authors tend to use a single function (usually a lower case &lt;span class="math"&gt;\(\boldsymbol{p}\)&lt;/span&gt;) to describe distributions of random variables:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;If &lt;span class="math"&gt;\(X\)&lt;/span&gt; is &lt;em&gt;any&lt;/em&gt; random variable (either discrete or continuous) with density function &lt;span class="math"&gt;\(f\)&lt;/span&gt;, then &lt;span class="math"&gt;\(f(x) \leftrightarrow \boldsymbol{p}(X = x)\)&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In fact, they usually don't mention &lt;span class="math"&gt;\(X\)&lt;/span&gt; at all and just write &lt;span class="math"&gt;\(\boldsymbol{p}(x)\)&lt;/span&gt;! This saves space and allows authors to sweep unneeded details under a rug. I want to be as clear as possible in this post, so I'll want to differentiate between discrete and continuous random variables. I'll write:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;If &lt;span class="math"&gt;\(X\)&lt;/span&gt; is a discrete random variable with density function &lt;span class="math"&gt;\(f_X\)&lt;/span&gt;, then &lt;span class="math"&gt;\(f_X(x) \leftrightarrow \boldsymbol{P}(X = x)\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;If &lt;span class="math"&gt;\(Y\)&lt;/span&gt; is a continuous random variable with density function &lt;span class="math"&gt;\(f_Y\)&lt;/span&gt;, then &lt;span class="math"&gt;\(f_Y(y) \leftrightarrow \partial \boldsymbol{P}(Y = y)\)&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you feel uncomfortable with having a partial (&lt;span class="math"&gt;\(\partial\)&lt;/span&gt;) in front of the probability function (&lt;span class="math"&gt;\(\boldsymbol{P}\)&lt;/span&gt;), rest assured there's a good reason for it!&lt;a class="footnote-reference" href="#id10" id="id1"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Hopefully, all of this housekeeping made sense. Let's move on to the actual material.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="example"&gt;
&lt;h4&gt;Example&lt;/h4&gt;
&lt;p&gt;Let's see this notation in action by reading through a classic card problem.&lt;/p&gt;
&lt;p&gt;Say we're playing cards with a standard &lt;span class="math"&gt;\(52\)&lt;/span&gt;-card deck. You draw &lt;span class="math"&gt;\(n = 5\)&lt;/span&gt; cards and you want to figure out the probability of getting &lt;span class="math"&gt;\(0\)&lt;/span&gt; to &lt;span class="math"&gt;\(4\)&lt;/span&gt; aces. We can let &lt;span class="math"&gt;\(N_a\)&lt;/span&gt; be a random variable representing the number of aces in your hand. In this case, we're looking for &lt;span class="math"&gt;\(\boldsymbol{P}(N_a = x)\)&lt;/span&gt; for &lt;span class="math"&gt;\(x \in \{0, 1, 2, 3, 4 \}\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Here, I set &lt;span class="math"&gt;\(n\)&lt;/span&gt; as a simple constant that does not change, &lt;span class="math"&gt;\(N_a\)&lt;/span&gt; as a random variable, and &lt;span class="math"&gt;\(x\)&lt;/span&gt; as a specific value for the random variable &lt;span class="math"&gt;\(N_a\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Although it's pretty standard, I will &lt;em&gt;not&lt;/em&gt; use the notation &lt;span class="math"&gt;\(\boldsymbol{P}(X)\)&lt;/span&gt; or &lt;span class="math"&gt;\(\boldsymbol{P}(x)\)&lt;/span&gt; as shorthand for &lt;span class="math"&gt;\(\boldsymbol{P}(X = x)\)&lt;/span&gt;. I do this to separate the notion of a random variable &lt;span class="math"&gt;\(X\)&lt;/span&gt; and the notion of an event &lt;span class="math"&gt;\(X = x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;  &lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="i-want-to-get-into-modeling"&gt;
&lt;h3&gt;I Want to Get Into Modeling&lt;/h3&gt;
&lt;p&gt;When we make predictions using the Bayesian approach, how do they differ from predictions made using the Frequentist approach? To answer this, I'll first go on a bit of a tangent about statistical modeling. This won't take long, and understanding the anatomy of statistical models is useful in and of itself. By the end of this section, we'll use our newfound knowledge pinpoint the exact locations where the two competing approaches diverge.&lt;/p&gt;
&lt;div class="section" id="what-do-models-look-like"&gt;
&lt;h4&gt;What Do Models Look Like?&lt;/h4&gt;
&lt;p&gt;In theory, modeling is a simple concept to understand; in practice it can be very tricky to implement. The simplest description of modeling is that it allows us to compartmentalize and organize probability spaces. For example, consider tossing a coin &lt;span class="math"&gt;\(n = 4\)&lt;/span&gt; times and counting the number of heads. The probability space for all possible outcomes looks like this (assuming a fair coin):&lt;/p&gt;
&lt;object class="align-center" data="images/4_toss_1.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;It would be a pain to have to refer to each event in the probability space individually, even in this simplistic example. Imagine doing this in something like image recognition, where we might not even know what the probability space looks like! This is where models come in. As you probably already know, we usually model counting heads in coin tosses with a single random variable, which I'll call &lt;span class="math"&gt;\(N_h\)&lt;/span&gt; (number of heads). This random variable partitions the probability space and allows us to talk about groups of events using the &lt;span class="math"&gt;\(N_h = x\)&lt;/span&gt; notation. For example, if we want to talk about getting &lt;span class="math"&gt;\(1\)&lt;/span&gt; or &lt;span class="math"&gt;\(2\)&lt;/span&gt; heads, we can say &lt;span class="math"&gt;\(N_h = 1\)&lt;/span&gt; or &lt;span class="math"&gt;\(N_h = 2\)&lt;/span&gt; instead of listing all the events ourselves:&lt;/p&gt;
&lt;object class="align-center" data="images/4_toss_2.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;To complete our model, we assign probabilities to each of our new compound events. Since coin tossing is such an elementary example, we already have a ready-made answer for this. We say that &lt;span class="math"&gt;\(N_h\)&lt;/span&gt; has a binomial distribution:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
N_h \sim \mathit{Binomial}(n, p) \implies \boldsymbol{P}(N_h = x) =
\binom{n}{x} \cdot p^x (1 - p)^{n - x}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Let's try to formalize what we just did. We started with a natural phenomena along with some underlying probability space. This phenomena took in some inputs (&lt;span class="math"&gt;\(x\)&lt;/span&gt;) and spat out some outputs (&lt;span class="math"&gt;\(y\)&lt;/span&gt;). Visually:&lt;/p&gt;
&lt;object class="align-center" data="images/Model_1.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;In our coin tossing case, we can view the input as the number of tosses we perform (&lt;span class="math"&gt;\(n\)&lt;/span&gt;) and the output as the number of heads we count (&lt;span class="math"&gt;\(N_h\)&lt;/span&gt;):&lt;/p&gt;
&lt;object class="align-center" data="images/Model_Coin_1.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;I should point out that this diagram is a bit misleading. Most natural phenomena are not fully deterministic&lt;a class="footnote-reference" href="#id11" id="id2"&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;, events usually involve some chance (especially when tossing a coin!). As such, we might not always get the same &lt;span class="math"&gt;\(y\)&lt;/span&gt; for the same &lt;span class="math"&gt;\(x\)&lt;/span&gt;, like the diagram might imply. I'll get back to this soon, but just keep it in the back of your head for now.&lt;/p&gt;
&lt;p&gt;After identifying the ins and outs of a phenomena, we start to build the model. We construct it by attempting to parameterize the probability space. In layman's terms, we build a mathematical formula with some knobs and levers (called parameters). We turn the knobs and pulls the levers (vary the parameters) to try to get the model to look as close as possible to our phenomena:&lt;/p&gt;
&lt;object class="align-center" data="images/Model_2.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;In the picture above, we tweak the model by varying the  &lt;span class="math"&gt;\(\theta\)&lt;/span&gt; terms, the parameters I spoke about. These quantities affect how the model makes it's predictions &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt;. Of course, we want these predictions to approximate &lt;span class="math"&gt;\(y\)&lt;/span&gt; as closely as possible.&lt;/p&gt;
&lt;p&gt;What does &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt; look like? Most of the time, &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt; looks like &lt;span class="math"&gt;\(y\)&lt;/span&gt;. I don't mean that &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt; equals &lt;span class="math"&gt;\(y\)&lt;/span&gt; (that would be quite an impressive model!). What I mean is, the two span the same range of values. If &lt;span class="math"&gt;\(y \in \{1, 2, ... , 10\}\)&lt;/span&gt;, then &lt;span class="math"&gt;\(\hat{y} \in \{1, 2, ... , 10\}\)&lt;/span&gt;. If &lt;span class="math"&gt;\(y\)&lt;/span&gt; is a vector with &lt;span class="math"&gt;\(3\)&lt;/span&gt; values, then &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt; is also a vector with &lt;span class="math"&gt;\(3\)&lt;/span&gt; values.&lt;/p&gt;
&lt;p&gt;If &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt; looks like &lt;span class="math"&gt;\(y\)&lt;/span&gt; most of the time, when does it not? Well, if we have a lot of uncertainty in our model, we might opt to output a set of answers, each with a probability attached, instead of a single value. For example, in our coin tossing case, the simplest &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt; we could output is a prediction for the number of heads. However, since our model involves a lot of uncertainty (by design), it would be safer to report a list all of the possibilities and attach probabilities to them. In other words, we output a distribution:&lt;/p&gt;
&lt;object class="align-center" data="images/Model_Coin_2.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;To summarize, instead of saying:&lt;/p&gt;
&lt;blockquote&gt;
&amp;quot;With &lt;span class="math"&gt;\(n = 4\)&lt;/span&gt; flips, we expect &lt;span class="math"&gt;\(\hat{y} = 2\)&lt;/span&gt; heads&amp;quot;&lt;/blockquote&gt;
&lt;p&gt;For our model, we say:&lt;/p&gt;
&lt;blockquote&gt;
&amp;quot;With &lt;span class="math"&gt;\(n = 4\)&lt;/span&gt; flips, there could be anywhere between &lt;span class="math"&gt;\(0\)&lt;/span&gt; and &lt;span class="math"&gt;\(4\)&lt;/span&gt; heads with such and such probabilities&amp;quot;.&lt;/blockquote&gt;
&lt;p&gt;These two views of &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt; (single value vs. a distributions) are usually only semantic differences. If your model outputs a distribution and you're forced to pick a single value, you can always pick the most likely value (the one with the highest probability).&lt;/p&gt;
&lt;p&gt;Congratulations! Now we know how models look like in general. It might seem simple, just a few boxes and arrows, but this picture is a very good way to get a handle on even the most complicated cases.&lt;/p&gt;
&lt;p&gt;For example, say you want to predict the price of a home. If you want to be accurate (and of course you do) you will probably use hundreds of variables, each representing a feature of the house, such as square footage and zip code. After exploring all the data, you might decide that this problems is complex enough to warrant the use of something like a neural network. Can we imagine what this model will look like? Yes!&lt;/p&gt;
&lt;object class="align-center" data="images/Model_NN.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;In this case, our input &lt;span class="math"&gt;\(x\)&lt;/span&gt;, our parameters &lt;span class="math"&gt;\(\theta\)&lt;/span&gt;, and our output &lt;span class="math"&gt;\(\hat{y}\)&lt;/span&gt; all grew in complexity. &lt;span class="math"&gt;\(x\)&lt;/span&gt; turned into a vector, our parameters into matrices, and our output into the network network function &lt;span class="math"&gt;\(nn(x)\)&lt;/span&gt;. Through all of this, notice that our two box structure remained the same!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="what-do-models-do"&gt;
&lt;h4&gt;What Do Models Do?&lt;/h4&gt;
&lt;p&gt;At this point, it should be pretty clear that models are a powerful tool&lt;a class="footnote-reference" href="#id12" id="id3"&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;. Anytime we want to describe or predict a phenomena using statistics, we always model the problem first. We can construct models that are quite simple (for example, models you see in introductory statistics classes and blogs), or quite complex (for example, &lt;a class="reference external" href="http://twiecki.github.io/blog/2017/02/08/bayesian-hierchical-non-centered/"&gt;hierarchical models&lt;/a&gt; or &lt;a class="reference external" href="http://www.wildml.com/2015/09/recurrent-neural-networks-tutorial-part-1-introduction-to-rnns/"&gt;RNNs&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;So, what exactly do we get out of model besides boxes? Two things:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;When we model a phenomena, we can use that model to make predictions about future outcomes. This means we can predict where a hurricane will hit, how a disease will spread, or how many ads to show you so that you buy that expensive new laptop.&lt;/li&gt;
&lt;li&gt;A model allows us to make sense of past observations. That is, if we have a model for a situation where we don't exactly know what is going on (our model is not perfect), we can use data to try and refine our model and learn more about the underlying situation.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To put it another way, we either want to our model to generate new data (&lt;strong&gt;1&lt;/strong&gt;), or we want to use data gathered about some phenomena to adjust our model (&lt;strong&gt;2&lt;/strong&gt;). David McKay&lt;a class="footnote-reference" href="#id13" id="id4"&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt; calls these two ideas &lt;em&gt;forward probability&lt;/em&gt; and &lt;em&gt;reverse probability&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Using this vocabulary, we can now locate where Bayesian and Frequentist methods differ! Both do &lt;em&gt;forward probability&lt;/em&gt; in the same way; it's &lt;em&gt;reverse probability&lt;/em&gt; where the two schools begin to diverge. The best way to show this is through examples:
&lt;span class="math"&gt;\(\require{color}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{cco}{RGB}{252, 141, 98}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{ccr}{RGB}{227, 26, 28}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{ccb}{RGB}{31, 120, 180}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{ccg}{RGB}{51, 160, 44}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{def}{RGB}{93, 93, 93}\)&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="forward-probability-example"&gt;
&lt;h4&gt;Forward Probability Example&lt;/h4&gt;
&lt;p&gt;An urn contains &lt;span class="math"&gt;\(k\)&lt;/span&gt; marbles, of which &lt;span class="math"&gt;\(b\)&lt;/span&gt; are black and &lt;span class="math"&gt;\(w = k - b\)&lt;/span&gt; are white. Fred draws a marble at random, notes its color, and puts it back in the urn. He does this &lt;span class="math"&gt;\(n\)&lt;/span&gt; times. What is the probability distribution of the number of black marbles drawn, &lt;span class="math"&gt;\(N_b\)&lt;/span&gt;?&lt;/p&gt;
&lt;p&gt;You might see this type of problem in any standard textbook on probability theory. In fact, I took it straight out of one! Here, we are given all of the necessary information to fully model the situation. It ends up being just another incarnation of the binomial distribution, with a modified value of &lt;span class="math"&gt;\(p\)&lt;/span&gt;:&lt;/p&gt;
&lt;object class="align-center" data="images/Model_Urn_1.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;And we're done! &lt;em&gt;Forward probability&lt;/em&gt;, where we already know the model as well as all the parameter values, typically never occurs out in the real world. Next up, a more realistic but still urn-related problem.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="reverse-probability-example"&gt;
&lt;h4&gt;Reverse Probability Example&lt;/h4&gt;
&lt;p&gt;In front of you are &lt;span class="math"&gt;\(11\)&lt;/span&gt; urns labeled by a number &lt;span class="math"&gt;\(u \in \{ 0, 1, ... , 10 \}\)&lt;/span&gt;. Each urn contains &lt;span class="math"&gt;\(10\)&lt;/span&gt; marbles. The urn labeled &lt;span class="math"&gt;\(u\)&lt;/span&gt; contains &lt;span class="math"&gt;\(u\)&lt;/span&gt; black marbles and &lt;span class="math"&gt;\(10 - u\)&lt;/span&gt; white marbles. Fred selects an urn at random (you don't know which) and draws from that urn  &lt;span class="math"&gt;\(n\)&lt;/span&gt; times, always putting back the marble he drew. He counts &lt;span class="math"&gt;\(N_b\)&lt;/span&gt; black marbles and &lt;span class="math"&gt;\(N_w = n - N_b\)&lt;/span&gt; white marbles. After &lt;span class="math"&gt;\(n = 10\)&lt;/span&gt; draws, he counted &lt;span class="math"&gt;\(N_b = 3\)&lt;/span&gt; black marbles. If we were to draw another marble (the &lt;span class="math"&gt;\(11^{th}\)&lt;/span&gt; draw) from the same urn, what is the probability that it would be black?&lt;/p&gt;
&lt;p&gt;Another textbook problem, except much harder than the previous one. Here is where Bayesian and Frequentist statistics start to differ. Let's solve this problem twice, once using &lt;em&gt;Bayes' Theorem&lt;/em&gt; and once using classical methods, so that we can directly compare and contrast.&lt;/p&gt;
&lt;p&gt;First up, the Bayesian approach.&lt;/p&gt;
&lt;p&gt;We start with our oh-so-handy chart for the model that we'll use. I've circled in &lt;span class="orange"&gt;orange&lt;/span&gt; the main difference between this problem and the &lt;em&gt;forward probability&lt;/em&gt; one we had earlier:&lt;/p&gt;
&lt;object class="align-center" data="images/Model_Urn_3.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Unlike all the other cases before, we don't know the correct value of one of our parameters; we don't know which urn Fred picked! The probability of getting a single black marble may have been &lt;span class="math"&gt;\(p = \frac{1}{10}\)&lt;/span&gt; if Fred chose &lt;span class="math"&gt;\(u = 1\)&lt;/span&gt;. It may have been &lt;span class="math"&gt;\(p = \frac{5}{10}\)&lt;/span&gt; if Fred chose &lt;span class="math"&gt;\(u = 5\)&lt;/span&gt;. Thus, we can't immediately use our model for prediction. Instead, we have data (shown in &lt;span class="green"&gt;green&lt;/span&gt;) that must use to try and &lt;em&gt;infer&lt;/em&gt; what &lt;span class="math"&gt;\(u\)&lt;/span&gt; might be. We can only do predictions after we get this sorted out.&lt;/p&gt;
&lt;p&gt;In the Bayesian view, we can never know for sure what the correct value of &lt;span class="math"&gt;\(u\)&lt;/span&gt; (and thus &lt;span class="math"&gt;\(p\)&lt;/span&gt;) actually is, and we won't try to. You probably noticed that I used capital letters &lt;span class="math"&gt;\(U\)&lt;/span&gt; and &lt;span class="math"&gt;\(P\)&lt;/span&gt; in our box diagram. This points to the way to our approach: we'll say that &lt;span class="math"&gt;\(u\)&lt;/span&gt; can have any value between &lt;span class="math"&gt;\(0\)&lt;/span&gt; and &lt;span class="math"&gt;\(10\)&lt;/span&gt; and try to find the probabilities of each of those values. In other words, we'll assume that there exists some random variable &lt;span class="math"&gt;\(U\)&lt;/span&gt; (and thus &lt;span class="math"&gt;\(P\)&lt;/span&gt;) that represents the urn Fred picked.&lt;/p&gt;
&lt;p&gt;The random variable &lt;span class="math"&gt;\(U\)&lt;/span&gt; will have some sort of initial distribution (our &lt;em&gt;prior&lt;/em&gt;). We'll use our &lt;span class="green"&gt;data&lt;/span&gt; to modify this &lt;em&gt;prior&lt;/em&gt; and turn it into a &lt;em&gt;posterior&lt;/em&gt; distribution. Yup! Our old friend is back:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\text{posterior} = \dfrac{\text{likelihood} \: \cdot \: \text{prior}}{\text{evidence}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Let's see what this looks like in action:&lt;/p&gt;
&lt;object class="align-center" data="images/Urn_Problem_1.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Ok, that was a lot of information all at once. What happened here? Unlike in &lt;a class="reference external" href="a_primer_on_bayesian_statistics_p1.html"&gt;Part 1&lt;/a&gt; we're not dealing with single events anymore. The unknown value &lt;span class="math"&gt;\(u\)&lt;/span&gt; parameterizes our &lt;em&gt;prior&lt;/em&gt;, &lt;em&gt;posterior&lt;/em&gt;, and &lt;em&gt;likelihood&lt;/em&gt; so that the probabilities change when &lt;span class="math"&gt;\(u\)&lt;/span&gt; changes. The charts above show this by having &lt;span class="math"&gt;\(u\)&lt;/span&gt; on their x-axes. A bit more information:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;strong&gt;PRIOR&lt;/strong&gt; &lt;br \&gt; Since Fred chose an urn at random, it makes sense to think that he didn't have a preference for any urn in particular. It should be safe to assume that each urn &lt;span class="math"&gt;\(u\)&lt;/span&gt; had a &lt;span class="math"&gt;\(\frac{1}{11}\)&lt;/span&gt; chance of being selected.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;strong&gt;LIKELIHOOD&lt;/strong&gt; &lt;br \&gt; In Bayesian analysis, this always comes from our model, which is binomial in our case. However, notice that the &lt;em&gt;likelihood&lt;/em&gt; plot in the top-right corner is not a traditional binomial plot! Normally, when we have a &lt;em&gt;binomal&lt;/em&gt; random variable:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
X \sim \mathit{Binomial}(n, p)
\end{equation*}
&lt;/div&gt;
&lt;p&gt;We usually see this as a function of &lt;span class="math"&gt;\(x\)&lt;/span&gt; with constant &lt;span class="math"&gt;\(n\)&lt;/span&gt; and &lt;span class="math"&gt;\(p\)&lt;/span&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\boldsymbol{P}(X = x) = \binom{n}{x} \cdot p^x (1 - p)^{n - x}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;However, in our case, we already know &lt;span class="math"&gt;\(x\)&lt;/span&gt;. From our data we have &lt;span class="math"&gt;\(\color{ccg}N_b = 3\)&lt;/span&gt; when &lt;span class="math"&gt;\(\color{ccg}n = 10\)&lt;/span&gt;. What we don't know is &lt;span class="math"&gt;\(p = u / 10\)&lt;/span&gt;. Thus, our situation looks like this:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\boldsymbol{P}(\color{ccg}N_b = 3\color{def} \,|\, U = u) = \binom{\color{ccg}10\color{def}}{\color{ccg}3\color{def}} p^{\color{ccg}3\color{def}} (1 - p)^{\color{ccg}10 - 3\color{def}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;We're looking at this binomial distribution as a function of our parameter &lt;span class="math"&gt;\(u\)&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;strong&gt;EVIDENCE&lt;/strong&gt; &lt;br \&gt; This value acts as a normalization constant. It does not depend on the value of &lt;span class="math"&gt;\(u\)&lt;/span&gt;, so we have no graph to draw&lt;a class="footnote-reference" href="#id14" id="id5"&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;strong&gt;POSTERIOR&lt;/strong&gt; &lt;br \&gt; The final distribution for &lt;span class="math"&gt;\(U\)&lt;/span&gt;. Since our &lt;em&gt;prior&lt;/em&gt; was &lt;em&gt;uniform&lt;/em&gt;, it looks almost exactly the same as our &lt;em&gt;likelihood&lt;/em&gt;. It doesn't have a closed form, so I won't write it here. For our purposes, the graph above (calculated numerically) is enough.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now, how do we go about making a prediction for the &lt;span class="math"&gt;\(11^{th}\)&lt;/span&gt; marble? Even after all that work, we still don't know for sure which urn we drew from. Most likely, &lt;span class="math"&gt;\(u = 3\)&lt;/span&gt;, so should the probability of drawing a black marble be &lt;span class="math"&gt;\(\frac{u}{10} = \frac{3}{10}\)&lt;/span&gt;? Not according to Bayes. The Bayesian approach doesn't decide on one value of &lt;span class="math"&gt;\(u\)&lt;/span&gt;, it averages out all of them to make a prediction:&lt;/p&gt;
&lt;object class="align-center" data="images/Urn_Problem_2.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Here, we looked at each possible value of &lt;span class="math"&gt;\(u\)&lt;/span&gt;, asked what the probability of drawing a black marble would be if that urn were picked, and then weighed that probability by our &lt;em&gt;posterior&lt;/em&gt;. The result was &lt;span class="math"&gt;\(\frac{1}{3}\)&lt;/span&gt;. Notice that this is a bit over &lt;span class="math"&gt;\(30\% = \frac{3}{10}\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Next up, the Frequentist method.&lt;/p&gt;
&lt;p&gt;Again, we start with a model:&lt;/p&gt;
&lt;object class="align-center" data="images/Model_Urn_2.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Looks similar doesn't it? No wait, there is one difference! I used a lowercase &lt;span class="math"&gt;\(u\)&lt;/span&gt; this time instead of and upper case &lt;span class="math"&gt;\(U\)&lt;/span&gt;. According to the Frequentist scheme, we do not assume that &lt;span class="math"&gt;\(u\)&lt;/span&gt; has some distribution. Instead we think of &lt;span class="math"&gt;\(u\)&lt;/span&gt; as a constant but unknown value. We then try to figure out value of &lt;span class="math"&gt;\(u\)&lt;/span&gt; by using an &lt;em&gt;estimator&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The most popular estimator around (and the most appropriate to use in this case) is the &lt;em&gt;maximum likelihood estimator&lt;/em&gt;, or MLE. Basically, we just calculate the &lt;em&gt;likelihood&lt;/em&gt;, &lt;span class="math"&gt;\(\boldsymbol{P}(\color{ccg}N_b = 3\color{def} \,|\, U = u)\)&lt;/span&gt;, like we would when using &lt;em&gt;Bayes' Theorem&lt;/em&gt;. Then, instead of using this as a building block for our &lt;em&gt;posterior&lt;/em&gt;, we pick the &lt;span class="math"&gt;\(u\)&lt;/span&gt; that gives us the highest probability.&lt;/p&gt;
&lt;p&gt;We've already done all the work for this!&lt;/p&gt;
&lt;object class="align-center" data="images/Urn_Problem_3.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Clearly, the most probable value of &lt;span class="math"&gt;\(u\)&lt;/span&gt; occurs at &lt;span class="math"&gt;\(u = 3\)&lt;/span&gt;. Thus, when we estimate what the &lt;span class="math"&gt;\(11^{th}\)&lt;/span&gt; draw will look like, we say we'll have a &lt;span class="math"&gt;\(30\% = \frac{3}{10}\)&lt;/span&gt; chance of getting a black marble. This is different than the Bayesian approach!&lt;/p&gt;
&lt;p&gt;But wait, this seems wrong. We don't know for sure that &lt;span class="math"&gt;\(u = 3\)&lt;/span&gt;, do we? We accounted for that in the Bayesian approach by averaging over all the values in the &lt;em&gt;posterior&lt;/em&gt;. How do we account for this uncertainty here?&lt;/p&gt;
&lt;p&gt;Classically, we usually do this using confidence intervals or p-values. When we use an &lt;em&gt;estimators&lt;/em&gt; like the MLE, we can calculate how sure/confident we are in our guess of &lt;span class="math"&gt;\(u\)&lt;/span&gt;. I won't do this here, but in the real world we would report that value alongside the &lt;span class="math"&gt;\(30\%\)&lt;/span&gt; we predicted earlier.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="compare-and-contrast"&gt;
&lt;h4&gt;Compare and Contrast&lt;/h4&gt;
&lt;p&gt;We solved Fred's marble problem with two approaches. How did they differ?&lt;/p&gt;
&lt;p&gt;When using the &lt;em&gt;Bayesian&lt;/em&gt; approach:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;We assumed the hole in our model was an unknown distribution represented by the random variable &lt;span class="math"&gt;\(U\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Using the data, we modified a uniform &lt;em&gt;prior&lt;/em&gt; to generate a &lt;em&gt;posterior&lt;/em&gt; distribution.&lt;/li&gt;
&lt;li&gt;Once we had a &lt;em&gt;posterior&lt;/em&gt; distribution, we averaged over all the values to generate our prediction. In this case, we found that the probability of getting a black marble in our &lt;span class="math"&gt;\(11^{th}\)&lt;/span&gt; sample as &lt;span class="math"&gt;\(\frac{1}{3}\)&lt;/span&gt;, slightly higher than with the &lt;em&gt;Frequentist&lt;/em&gt; method.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When using the &lt;em&gt;Frequentist&lt;/em&gt; approach:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;We assumed that the hole in our model was unknown but constant, a value &lt;span class="math"&gt;\(u\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Using the data, we constructed an estimator for the value &lt;span class="math"&gt;\(u\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Once we arrived at a value of &lt;span class="math"&gt;\(u\)&lt;/span&gt;, we reported how uncertain we were about this. In the real world, we usually do this using p-values or confidence intervals.&lt;/li&gt;
&lt;li&gt;After reporting our uncertainty, we simply used our estimate of &lt;span class="math"&gt;\(u\)&lt;/span&gt; in all future predictions that we generated out of our model. In this case, we found that the probability of getting a black marble in our &lt;span class="math"&gt;\(11^{th}\)&lt;/span&gt; sample was &lt;span class="math"&gt;\(\frac{3}{10}\)&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So which method is better? Looking at the above example, you might think that &lt;em&gt;Bayes&lt;/em&gt; wins hands down. After all, it's the more general estimate of the two. It takes into account all possible values of &lt;span class="math"&gt;\(U\)&lt;/span&gt; to make our prediction! Comparatively, the classical method seems to make assumptions that it doesn't need to.&lt;/p&gt;
&lt;p&gt;Of course, it's not that black and white. David McKay, the man who engineered this example, did so with the intention of creating this contrast. The classical method is called &amp;quot;classical&amp;quot; for a reason. Historically, people tended to use Frequentist methods much more often than Bayesian ones. What gives?&lt;/p&gt;
&lt;p&gt;For one, when using the Bayesian method, you have to keep track of the entire &lt;em&gt;prior&lt;/em&gt; distribution and the entire &lt;em&gt;posterior&lt;/em&gt; distribution. Compare this with a single MLE estimate (one value) that you might make when using the classical approach! Not only that, in real world examples, you won't have nice closed forms of probability distributions; the models grow way too complex for that. You'll have to numerically estimate the &lt;em&gt;posterior&lt;/em&gt;. Today this doesn't pose as much a challenge, but you can imagine it was a real show-stopper during most of the twentieth century.&lt;/p&gt;
&lt;p&gt;Then, there's the problem of &lt;em&gt;priors&lt;/em&gt;, a topic I spend the rest of this post discussing.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="priors"&gt;
&lt;h3&gt;Priors&lt;/h3&gt;
&lt;p&gt;Although Bayes published his seminal paper in 1763, doing inference through conditional
probabilities didn't really become popular until the 1990s, when &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Markov_chain_Monte_Carlo"&gt;Markov Chain Monte Carlo&lt;/a&gt; methods (used to estimate &lt;em&gt;posterior&lt;/em&gt; distributions), along with widespread computerization, pushed it to the mainstream. Why is this?&lt;/p&gt;
&lt;p&gt;One common complaint against Bayes was that choosing a &lt;em&gt;prior&lt;/em&gt; feels very subjective and unscientific&lt;a class="footnote-reference" href="#id15" id="id6"&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;. In the problems above, we always had a pretty obvious choice of &lt;em&gt;prior&lt;/em&gt;. For example, we assumed that each urn had the same probability of being chosen. In the real world, this choice becomes more tricky.&lt;/p&gt;
&lt;p&gt;The problem becomes easier to appreciate when you're modeling a complex situation. Say you're trying to infer (&lt;em&gt;reverse probability&lt;/em&gt;) the proportion of people that will vote for a specific mayoral candidate. Furthermore, say that you've constructed a sophisticated model for this situation that uses poll data. What's your &lt;em&gt;prior&lt;/em&gt;? Do you assume that all proportions are equally likely? This might sound appealing at first, but by doing this, you assume that mayoral candidates are just as likely to barely edge out the election (get &lt;span class="math"&gt;\(51\%\)&lt;/span&gt; of the vote) as they are to win in a complete landslide (get &lt;span class="math"&gt;\(99\%\)&lt;/span&gt; of the vote). To get a better &lt;em&gt;prior&lt;/em&gt;, you might first need to know how close most mayoral races are in general.&lt;/p&gt;
&lt;p&gt;Other factors could affect the &lt;em&gt;prior&lt;/em&gt;. For example, say this candidate is part of a particularly well-liked political party in this city. Should you try to include this in the &lt;em&gt;prior&lt;/em&gt;, or should you just assume that this information is already implicit in the poll data?&lt;/p&gt;
&lt;p&gt;As you'll see below, your choice of &lt;em&gt;prior&lt;/em&gt; can affect the distribution of the &lt;em&gt;posterior&lt;/em&gt;, so in some ways the fear of setting an unhelpful (or even hurtful) &lt;em&gt;prior&lt;/em&gt; is justified. In this last section I want to show you how to mitigate this problem and how, for sufficiently large datasets, choosing a &lt;em&gt;prior&lt;/em&gt; isn't a problem at all. And who will help me with this? Fred, of course.&lt;/p&gt;
&lt;div class="section" id="fred"&gt;
&lt;h4&gt;Fred&lt;/h4&gt;
&lt;p&gt;I know a guy; his name is Fred. When Fred walks into a room, a smell that people describe as &amp;quot;hair-gel ... probably&amp;quot; assaults all those unfortunate enough to stand near the entrance. Fred enjoys sporting his gold watch, always half visible below his white shirt, as well as his favorite tie, satin black patterned with subtle dollar bills. The first words that pop into the heads of most people who meet Fred? Used car salesman.&lt;/p&gt;
&lt;p&gt;One day, Fred comes up to you with a proposition for a simple betting game. Even though you feel slightly faint (most likely because of the inordinate amount of hair-gel particles entering your lungs) you manage to hear out the basic rules: it's a simple coin-toss, where you win &lt;span class="math"&gt;\(\$1\)&lt;/span&gt; for every heads and lose &lt;span class="math"&gt;\(\$1\)&lt;/span&gt; for every tails. You and Fred keep going until one of you decides to stop.&lt;/p&gt;
&lt;p&gt;Of course, you immediately suspect a rigged game. It would be wise to simply turn down the offer, but you don't want to refuse since you know this will make him angry. You agree on the condition that you toss the coin a few times before playing. How can you test for fairness?&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="solving-the-game"&gt;
&lt;h4&gt;Solving the Game&lt;/h4&gt;
&lt;p&gt;Let's translate Fred's game into the language of statistics, so that we can put it under heavy
analysis and quantify exactly how much we can trust Fred (if at all). To do this, we'll first define all of the variables/constants we need to solve the problem and create a model of the situation:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;span class="math"&gt;\(n\)&lt;/span&gt;: the number of times we flip the coin (this is a &lt;em&gt;constant&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(N_h\)&lt;/span&gt;: the number of heads we observe (this is a &lt;em&gt;random variable&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(P_h\)&lt;/span&gt;: the probability of getting heads in a single toss (this is also a &lt;em&gt;random
variable&lt;/em&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Notice that we're taking the &lt;em&gt;Bayesian&lt;/em&gt; approach here, because &lt;span class="math"&gt;\(P_H\)&lt;/span&gt; is a random variable as opposed to an unknown constant. Our goal is to answer the question: what is the probability distribution of &lt;span class="math"&gt;\(P_h\)&lt;/span&gt; given that we have performed &lt;span class="math"&gt;\(n\)&lt;/span&gt; tosses and found that &lt;span class="math"&gt;\(N_h\)&lt;/span&gt; of them ended up as heads? In other words, we want to find:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\partial\boldsymbol{P}( P_h = p \: | \: N_h = x)
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Notice that I used &lt;span class="math"&gt;\(\partial\boldsymbol{P}\)&lt;/span&gt; notation as opposed to &lt;span class="math"&gt;\(\boldsymbol{P}\)&lt;/span&gt;. This is because &lt;span class="math"&gt;\(P_h\)&lt;/span&gt; is a &lt;em&gt;continuous&lt;/em&gt; random variable as opposed to a discrete one. If the coin is fair, then &lt;span class="math"&gt;\(P_h\)&lt;/span&gt; has a high density around &lt;span class="math"&gt;\(p = 0.5\)&lt;/span&gt;, but it could theoretically take on any value in the interval &lt;span class="math"&gt;\([0, 1]\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;So, how do we actually go about finding this value? Well, we already know what model we should use. Say it with me:&lt;/p&gt;
&lt;object class="align-center" data="images/Model_Fred_1.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Furthermore, you may have noticed that this is an example of a &lt;em&gt;reverse probability&lt;/em&gt; problem, so that our friend Bayes can help us out. According to &lt;em&gt;Bayes Theorem&lt;/em&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\text{posterior} = \dfrac{\text{likelihood} \: \cdot \: \text{prior}}{\text{evidence}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Or, if we substitute in all of our variables:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\partial\boldsymbol{P}(P_h = p \: | \: N_h = x) =
\dfrac{\boldsymbol{P}(N_h = x \: | \: P_h = p) \:
\cdot \: \partial\boldsymbol{P}(P_h = p)}{\boldsymbol{P}(N_h = x)}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Let's tackle each term one at a time, explaining the intuition behind it and deriving it's value
along the way.&lt;/p&gt;
&lt;p&gt;First, we'll look at the &lt;em&gt;prior&lt;/em&gt; value &lt;span class="math"&gt;\(\partial\boldsymbol{P}(P_h = p)\)&lt;/span&gt;. This is the only term in the above relation that we have to guess at or assume. The prior term basically codifies what we originally think about the probability distribution of &lt;span class="math"&gt;\(P_h\)&lt;/span&gt;. Since this is Fred we're talking about, we probably don't want to assume that the coin is perfectly fair. In fact, we shouldn't rule out any possibility; it's equally likely to be any value. Thus, we will choose a &lt;em&gt;uniform&lt;/em&gt; distribution over all the values that &lt;span class="math"&gt;\(P_h\)&lt;/span&gt; can take on (values in the interval &lt;span class="math"&gt;\([0, 1]\)&lt;/span&gt;). This leads to:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
P_h \sim \mathit{Uniform}(0,1) \implies \partial\boldsymbol{P}(P_h = p) =
\mathbf{1}_{[0,1]}(p) = \left\{
\begin{array}{ll}
1, &amp;amp; \quad x \in [0, 1] \\
0, &amp;amp; \quad \text{otherwise}
\end{array}
\right.
\end{equation*}
&lt;/div&gt;
&lt;p&gt;The next value we have to calculate is the &lt;em&gt;likelihood&lt;/em&gt;. This quantity ask the question: if we
assume that &lt;span class="math"&gt;\(P_h = p\)&lt;/span&gt; is in fact true, then what is the probability that we get &lt;span class="math"&gt;\(N_h =
x\)&lt;/span&gt; heads in &lt;span class="math"&gt;\(n\)&lt;/span&gt; tosses? Of course, this is just our binomial model. With this knowledge, we can write:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
N_h \: | \: P_h \sim \mathit{Binomial}(n, p) \implies \boldsymbol{P}(N_h = x \: | \: P_h = p) =
\binom{n}{x} \cdot p^x (1 - p)^{n - x}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Finally, we turn towards the last value we need, the &lt;em&gt;evidence&lt;/em&gt;. This value is a bit
different because it doesn't depend at all on the random variable who's distribution we're trying to
estimate &lt;span class="math"&gt;\(P_h\)&lt;/span&gt;. Because of this, it's common to see this term as a sort of normalization term
that's not needed when comparing two different &amp;quot;estimates&amp;quot; for the &lt;em&gt;posterior&lt;/em&gt; distribution.&lt;/p&gt;
&lt;p&gt;In this case, however, we want to know the exact value of the &lt;em&gt;posterior&lt;/em&gt; so we go ahead and compute it. To do this, we note that we can rewrite &lt;span class="math"&gt;\(\boldsymbol{P}(N_h = x \: | \: n)\)&lt;/span&gt; using the join distribution between &lt;span class="math"&gt;\(N_h\)&lt;/span&gt; and &lt;span class="math"&gt;\(P_h\)&lt;/span&gt; and then marginalize over &lt;span class="math"&gt;\(P_h\)&lt;/span&gt;. The calculation is pretty cumbersome and also relies on the &lt;em&gt;Gamma&lt;/em&gt; integral&lt;a class="footnote-reference" href="#id16" id="id7"&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;, but the final result is strikingly simple:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\boldsymbol{P}(N_h = x) = \dfrac{1}{n + 1}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;This makes intuitive sense. The &lt;em&gt;evidence&lt;/em&gt; term in &lt;em&gt;Bayes' Theorem&lt;/em&gt; calculates the probability that &lt;span class="math"&gt;\(N_h = x\)&lt;/span&gt; regardless of the value of &lt;span class="math"&gt;\(P_h\)&lt;/span&gt;. We do this by averaging over all possible values of &lt;span class="math"&gt;\(P_h\)&lt;/span&gt; in the &lt;em&gt;prior&lt;/em&gt;. So, if we toss the coin &lt;span class="math"&gt;\(n = 5\)&lt;/span&gt; times, we have &lt;span class="math"&gt;\(6\)&lt;/span&gt; possible values of &lt;span class="math"&gt;\(x\)&lt;/span&gt;. The number of heads could anywhere between &lt;span class="math"&gt;\(0\)&lt;/span&gt; and &lt;span class="math"&gt;\(5\)&lt;/span&gt;: &lt;span class="math"&gt;\(x \in \{ 0, 1, 2, 3, 4, 5 \}\)&lt;/span&gt;. If we have a &lt;em&gt;uniform prior&lt;/em&gt; (the coin can be biased in either direction or fair) then the chances of getting &lt;span class="math"&gt;\(x = 0\)&lt;/span&gt; heads are &lt;span class="math"&gt;\(\frac{1}{1 + n} = \frac{1}{6}\)&lt;/span&gt;. The chances of getting &lt;span class="math"&gt;\(x = 1\)&lt;/span&gt; are also &lt;span class="math"&gt;\(\frac{1}{1 + n} = \frac{1}{6}\)&lt;/span&gt;. For a &lt;em&gt;uniform prior&lt;/em&gt; all values of &lt;span class="math"&gt;\(x\)&lt;/span&gt; are equally likely.&lt;/p&gt;
&lt;p&gt;Putting together the &lt;em&gt;prior&lt;/em&gt;, &lt;em&gt;likelihood&lt;/em&gt;, and &lt;em&gt;evidence&lt;/em&gt; yields us the following expression&lt;a class="footnote-reference" href="#id17" id="id8"&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\partial\boldsymbol{P}(P_h = p \: | \: N_h = x) =
(n + 1) \cdot \binom{n}{x} \cdot
p^x (1 - p)^{n - x} \cdot
\mathbf{1}_{[0,1]}(p)
\end{equation*}
&lt;/div&gt;
&lt;p&gt;This formula probably doesn't tell you much about how you should trust Fred. What does the &lt;em&gt;posterior&lt;/em&gt; actually look like? Well, it depends on the specific value of &lt;span class="math"&gt;\(n\)&lt;/span&gt; we use and the value of &lt;span class="math"&gt;\(x\)&lt;/span&gt; we get. To help you visualize this, I graphed both the &lt;em&gt;prior&lt;/em&gt; and &lt;em&gt;posterior&lt;/em&gt; in the visualization below. Play around with the values!&lt;/p&gt;
&lt;div class="d3-visual" id="bayes-uniform"&gt;
  &lt;h3&gt;&lt;span class="prior"&gt;Uniform Prior&lt;/span&gt; and
    &lt;span class="posterior"&gt;Resulting Posterior&lt;/span&gt; Distribution&lt;/h3&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class="labels"&gt;\(n\) :  &lt;/td&gt;
      &lt;td&gt;&lt;input class="ranges" id="n-range-uniform" type="range" min="0" max="160"&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span class="counts" id="n-count-uniform"&gt;80&lt;/span&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class="labels"&gt;\(x\) :  &lt;/td&gt;
      &lt;td&gt;&lt;input class="ranges" id="x-range-uniform" type="range" min="0" max="80"&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span class="counts" id="x-count-uniform"&gt;40&lt;/span&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;&lt;p&gt;To get better intuition about this, try the following combinations:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;span class="math"&gt;\(n = 0\)&lt;/span&gt; and &lt;span class="math"&gt;\(x = 0\)&lt;/span&gt;. Why does this happen?&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(n = 20\)&lt;/span&gt; compared to &lt;span class="math"&gt;\(n = 120\)&lt;/span&gt; with any value of &lt;span class="math"&gt;\(x\)&lt;/span&gt;. You can see how the &lt;em&gt;posterior&lt;/em&gt; starts wide, but as more information comes in (increasing &lt;span class="math"&gt;\(n\)&lt;/span&gt;), we get more and more sure of the true value.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now we can figure out whether Fred is using a fair coin or not. To do this we should test the &lt;em&gt;posterior&lt;/em&gt; for whatever conditions we want. For example, one way to check for a fair coin might be to check where the mean or median are after &lt;span class="math"&gt;\(n\)&lt;/span&gt; tosses. If they're within a specified range (say &lt;span class="math"&gt;\([0.49, 0.51]\)&lt;/span&gt;), then we can say the coin is fair. Another, probably more robust way to test for fairness is to require that &lt;span class="math"&gt;\(95\%\)&lt;/span&gt; of the probability lies in a specified range.&lt;/p&gt;
&lt;p&gt;The specifics of these tests depends on how stringent we want to be: being more confident requires a skinnier &lt;em&gt;posterior&lt;/em&gt; and that, in turn, requires more data. I'll let you decide how you would want to test for fairness in this case.&lt;/p&gt;
&lt;p&gt;What I want to do instead is focus on the &lt;em&gt;prior&lt;/em&gt;. I mentioned at the beginning of this section that we would see how a changing &lt;em&gt;prior&lt;/em&gt; can affect our final results. What if we wanted to use a different &lt;em&gt;prior&lt;/em&gt;?&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="fred-again"&gt;
&lt;h4&gt;Fred Again&lt;/h4&gt;
&lt;p&gt;I know a guy; his name is Fred. When Fred walks into a room, a ray of sunlight illuminates his face, even on cloudy days. Every morning, he asks about your day and listens intently. He makes an effort to organize fun events and always includes everyone he can. You've known him for years, but he's never missed your birthday. A few weeks ago, you heard a rumor that he risked his life to save a litter of puppies from a burning shelter; you believed it.&lt;/p&gt;
&lt;p&gt;One day, Fred comes up to you with a proposition for a simple betting game. Even though you feel slightly faint (most likely because of his blinding smile) you manage to hear out the basic rules: it's a simple coin-toss, where you win &lt;span class="math"&gt;\(\$1\)&lt;/span&gt; for every heads and lose &lt;span class="math"&gt;\(\$1\)&lt;/span&gt; for every tails. You and Fred keep going until one of you decides to stop.&lt;/p&gt;
&lt;p&gt;Of course, you immediately suspect a rigged game; rigged in your favor that is. He probably heard about your case of &lt;em&gt;can't-tell-the-weather-itus&lt;/em&gt; and wants to cheer you up. You don't want to take advantage of him so you agree on the condition that you toss the coin a few times before playing. How can you test for fairness?&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="you-already-know-the-answer"&gt;
&lt;h4&gt;You Already Know the Answer&lt;/h4&gt;
&lt;p&gt;Hopefully, the story above should sound a bit familiar. As opposed to Fred #1, most people would trust Fred #2 a lot more. It would seem a unfair to use a &lt;em&gt;uniform&lt;/em&gt; distribution as a &lt;em&gt;prior&lt;/em&gt; here with Fred #2, like we used for Fred #1. Can we change our &lt;em&gt;prior&lt;/em&gt; to reflect our newfound trust?&lt;/p&gt;
&lt;p&gt;Of course. We can use a more pointy and centered distribution instead! I recommend the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Beta_distribution"&gt;Beta&lt;/a&gt; distribution:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\partial\boldsymbol{P}(P_h = p) =
\dfrac{\Gamma(\alpha) \Gamma(\beta)}{\Gamma(\alpha + \beta)} p^{\alpha - 1} (1 - p)^{\beta - 1}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;I already did all the work for you here, it's very similar to the case with the &lt;em&gt;uniform&lt;/em&gt; distribution. Here's the result:&lt;/p&gt;
&lt;div class="d3-visual" id="bayes-beta"&gt;
  &lt;h3&gt;&lt;span class="prior"&gt;Beta Prior&lt;/span&gt; and
    &lt;span class="posterior"&gt;Resulting Posterior&lt;/span&gt; Distribution&lt;/br&gt;
    (Compared to a &lt;span class="gray"&gt;Posterior from Uniform Prior&lt;/span&gt;)&lt;/h3&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class="labels"&gt;\(n\) :  &lt;/td&gt;
      &lt;td&gt;&lt;input class="ranges" id="n-range-beta" type="range" min="0" max="200"&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span class="counts" id="n-count-beta"&gt;100&lt;/span&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class="labels"&gt;\(x\) :  &lt;/td&gt;
      &lt;td&gt;&lt;input class="ranges" id="x-range-beta" type="range" min="0" max="100"&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span class="counts" id="x-count-beta"&gt;50&lt;/span&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class="labels"&gt;\(\alpha\) :  &lt;/td&gt;
      &lt;td class="numeric"&gt;
        &lt;input id="alpha-numeric-beta" type="number" min="0" value="5"&gt;&lt;/td&gt;
      &lt;td class="labels"&gt;\(\beta\)  : &lt;/td&gt;
      &lt;td class="numeric"&gt;
        &lt;input id="beta-numeric-beta" type="number" min="0" value="5"&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;&lt;p&gt;Now, you can see exactly how changing &lt;em&gt;priors&lt;/em&gt; affects our &lt;em&gt;posterior&lt;/em&gt; distribution. Play around with the values for &lt;span class="math"&gt;\(n\)&lt;/span&gt;, &lt;span class="math"&gt;\(x\)&lt;/span&gt;, &lt;span class="math"&gt;\(\alpha\)&lt;/span&gt;, and &lt;span class="math"&gt;\(\beta\)&lt;/span&gt;. The third distribution (in gray) represents the &lt;em&gt;posterior&lt;/em&gt; assuming that used a &lt;em&gt;uniform prior&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Some fun values to try:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\alpha = 0\)&lt;/span&gt; and &lt;span class="math"&gt;\(\beta = 0\)&lt;/span&gt;. Yup! Plug in these value into the equation for the Beta distribution to see why.&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\alpha = 10\)&lt;/span&gt; and &lt;span class="math"&gt;\(\beta = 1\)&lt;/span&gt; or vice-versa. This makes the &lt;em&gt;prior&lt;/em&gt; very one-sided. You can see how this pulls the &lt;em&gt;posterior&lt;/em&gt;, especially for low values of &lt;span class="math"&gt;\(n\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\alpha = 0.05\)&lt;/span&gt; and &lt;span class="math"&gt;\(\beta = 0.05\)&lt;/span&gt;. What? It can do that?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Done playing?&lt;/p&gt;
&lt;p&gt;I think we can now finally answer our question on &lt;em&gt;priors&lt;/em&gt;. While varying inputs and parameters, I hope you noticed exactly how sensitive our &lt;em&gt;posteriors&lt;/em&gt; can be when we have low amounts of data. Conversely, I also hope you noticed how insignificant our &lt;em&gt;prior&lt;/em&gt; became when we had large amounts of data. The fact that &lt;em&gt;prior&lt;/em&gt; distributions don't matter much once we have enough input data is known as the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Bernstein%E2%80%93von_Mises_theorem"&gt;Bernstein von Mises Theorem&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusions"&gt;
&lt;h3&gt;Conclusions&lt;/h3&gt;
&lt;p&gt;We've gone through a lot of mathematics at this point in the tutorial. We covered &lt;em&gt;Bayes' Theorem&lt;/em&gt; and how we can view it as a means of updating prior knowledge with data. We talked about modeling, compared Bayes methods to Frequentist methods, as well as how each methodology has both it's strengths and weaknesses . Finally, just not, we explored how &lt;em&gt;priors&lt;/em&gt; affect &lt;em&gt;posteriors&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Is that all there is to learn? I think we both know the answer here.&lt;/p&gt;
&lt;p&gt;As much as I would have liked, there's a whole plethora of topics I haven't even mentioned nor scratched the surface of. We didn't talk about &lt;a class="reference external" href="http://lesswrong.com/lw/5sn/the_joys_of_conjugate_priors/"&gt;conjugate priors&lt;/a&gt;, a building block of many complex models. There's &lt;a class="reference external" href="http://stat.columbia.edu/~porbanz/papers/porbanz_BNP_draft.pdf"&gt;nonparametric models&lt;/a&gt;, where the parameters &lt;span class="math"&gt;\(\theta\)&lt;/span&gt; are infinite dimensional vectors. &lt;a class="reference external" href="https://wiseodd.github.io/techblog/2017/01/01/mle-vs-map/"&gt;Maximum a Posteriori&lt;/a&gt; (MAP) estimators, a combination of Bayesian and Frequentist methods. Not to mention the &lt;a class="reference external" href="http://fastml.com/bayesian-machine-learning/"&gt;Dirichlet Processes&lt;/a&gt; and it's applications to natural language processing.&lt;/p&gt;
&lt;p&gt;I hope you view this tutorial as a stepping stone for more learning in the future. Take a look at the resources and footnotes below for a new starting point!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="resources"&gt;
&lt;h3&gt;Resources&lt;/h3&gt;
&lt;div class="section" id="textbooks"&gt;
&lt;h4&gt;Textbooks&lt;/h4&gt;
&lt;p&gt;The credit for a lot of the examples in this post doesn't belong to me. I took several examples on this page from two sources:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;David MacKay's book &lt;em&gt;Information Theory, Inference, and Learning Algorithms&lt;/em&gt;. Both the textbook
and the lectures associated with them are free and available online with a simple search. Links
for the lazy: &lt;a class="reference external" href="http://www.inference.org.uk/itprnn/book.pdf"&gt;book&lt;/a&gt; and &lt;a class="reference external" href="http://videolectures.net/david_mackay/"&gt;lectures&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Andrew Gelman's book &lt;em&gt;Bayesian Data Analysis&lt;/em&gt;. Not only is this &lt;a class="reference external" href="https://www.amazon.com/gp/product/1439840954/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;creativeASIN=1439840954&amp;amp;linkCode=as2&amp;amp;tag=andrsblog0f-20&amp;amp;linkId=YPLI6GJ24RK74BHN"&gt;text&lt;/a&gt; well written, it also contains great one-lines like&lt;a class="footnote-reference" href="#id18" id="id9"&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt;:&lt;ul&gt;
&lt;li&gt;&amp;quot;As you know from teaching introductory statistics, 30 is infinity.&amp;quot;&lt;/li&gt;
&lt;li&gt;&amp;quot;Why is it Normal? Because that’s the only continuous multivariate distribution we have. Oh, we have the multivariate &lt;span class="math"&gt;\(t\)&lt;/span&gt; ... as if that’s a different distribution.”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="footnotes"&gt;
&lt;h4&gt;Footnotes&lt;/h4&gt;
&lt;table class="docutils footnote" frame="void" id="id10" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;The &lt;span class="math"&gt;\(\partial\)&lt;/span&gt; symbol notation comes from the fact that, for a continuous random variable, you can calculate it's distribution by taking a derivative. For example, if &lt;span class="math"&gt;\(X\)&lt;/span&gt; is a continuous random variable with density function &lt;span class="math"&gt;\(f\)&lt;/span&gt;, then we can write &lt;span class="math"&gt;\(f\)&lt;/span&gt; like this:&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{rcl}
  f(x) &amp;amp; = &amp;amp; \dfrac{d}{dx} \boldsymbol{P}(X &amp;lt; x)
\end{array}
\end{equation*}
&lt;/div&gt;
&lt;table class="docutils footnote" frame="void" id="id11" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id2"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;This can get philosophical very quickly. On one hand, we know about many systems that we can predict with almost absolute certainty. On the other hand, chaos theory and quantum mechanics and all that.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id12" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[3]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;If used correctly, of course. Even the most flexible models, such as neural nets or nearest neighbor approximations fail when used incorrectly. Words of advice: &amp;quot;Don't try to put a square model into a round phenomena&amp;quot;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id13" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id4"&gt;[4]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;David McKay was a British Physicist who wrote a great book on information theory. See the &lt;strong&gt;Textbooks&lt;/strong&gt; section above.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id14" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id5"&gt;[5]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;In any problem involving &lt;em&gt;Bayes' Theorem&lt;/em&gt;, the &lt;em&gt;evidence&lt;/em&gt; is usually the most difficult to calculate. Below is a derivation of the &lt;em&gt;evidence&lt;/em&gt; term for the urn problem. As far as I'm aware, there's no closed form for this summation, so I just calculated it numerically. I used &lt;span class="math"&gt;\(n = 10\)&lt;/span&gt; as the number of marbles drawn from the urn. I used &lt;span class="math"&gt;\(u_t = 11\)&lt;/span&gt; as the total amount of urns.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="math"&gt;
\begin{align*}
\boldsymbol{P}(N_b = 3) =&amp;amp; \dfrac{1}{u_t} \sum_{u = 0}^{u_t -1} \binom{n}{3} p^{3} (1 - p)^{n - 3} \\
=&amp;amp; \dfrac{1}{11} \sum_{u = 0}^{10} \binom{10}{3} \dfrac{u}{10}^{3} (1 - \dfrac{u}{10})^{n - 3} \\
=&amp;amp; 0.08272661
\end{align*}
&lt;/div&gt;
&lt;table class="docutils footnote" frame="void" id="id15" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id6"&gt;[6]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;The more important reason probably stemmed from the difficulty in calculating a &lt;em&gt;posterior&lt;/em&gt; distribution without computer aid. When doing Bayesian statistics by hand, you often cannot calculate the &lt;em&gt;posterior&lt;/em&gt; using analytical methods, especially more complex ones. So you have to numerically estimate them or their properties (like mode or median). This is a lot more tedious than simply calculating one number, the estimator (most likely MLE), that is required under the Frequentist paradigm.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id16" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id7"&gt;[7]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Here is the gruesome derivation for those interested. You know you did good math if the equation start simple, explodes into a unmanageable mess, and finally collapses into a surprisingly neat expression.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="math"&gt;
\begin{align*}
\boldsymbol{P}(N_h = x \: | \: n) =&amp;amp; \int_{p} \partial\boldsymbol{P}(N_h = x, P_h = p \: | \: n) \\
&amp;amp; \scriptstyle\text{By the relationship between marginal and joint distributions} \\
=&amp;amp; \int_{p} \boldsymbol{P}(N_h = x \: | \: P_h = p, n) \ \partial\boldsymbol{P}(P_h = p \: | \: n) \\
&amp;amp; \scriptstyle\text{By the definition of conditional probability} \\
=&amp;amp; \int_{p} \binom{n}{x} p^x (1 - p)^{n - x} \ \partial\boldsymbol{P}(P_h = p \: | \: n) \\
&amp;amp; \scriptstyle\text{By the definition of } \textit{likelihood } \text{above} \\
=&amp;amp; \int_{p} \binom{n}{x} p^x (1 - p)^{n - x} \: \mathbf{1}_{[0, 1]}(p) \: dp \\
&amp;amp; \scriptstyle\text{By the definition of } \textit{prior } \text{above} \\
=&amp;amp; \int_{0}^{1} \binom{n}{x} p^x (1 - p)^{n - x} \: dp \\
&amp;amp; \scriptstyle\text{By taking care of the indicator function} \\
=&amp;amp; \binom{n}{x} \dfrac{x! \: (n - x)!}{\Gamma (n + 2)} \\
&amp;amp; \scriptstyle\text{By integrating using the Gamma integral} \\
=&amp;amp; \binom{n}{x} \dfrac{x! \: (n - x)!}{(n + 1)!} \\
&amp;amp; \scriptstyle\text{By the definition of the Gamma function} \\
=&amp;amp; \dfrac{n!}{(n - x)! \: x!} \dfrac{x! \: (n - x)!}{(n + 1)!} \\
&amp;amp; \scriptstyle\text{By the definition of the Binomial Coefficient} \\
=&amp;amp; \dfrac{1}{n + 1} \\
&amp;amp; \scriptstyle\text{Canceling out the factorials}
\end{align*}
&lt;/div&gt;
&lt;table class="docutils footnote" frame="void" id="id17" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id8"&gt;[8]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;If you really know your distributions, you'll note that the &lt;em&gt;posterior&lt;/em&gt; in this case is a &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Beta_distribution"&gt;Beta&lt;/a&gt; distribution. This is no accident, and neither is the fact that I use the &lt;em&gt;Beta&lt;/em&gt; distribution as a &lt;em&gt;prior&lt;/em&gt; in the subsequent example! The &lt;em&gt;Beta&lt;/em&gt; distribution is called the &lt;em&gt;conjugate prior&lt;/em&gt; of the binomial distribution.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id18" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id9"&gt;[9]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;For more great statistics lines (and you know you want more) see this &lt;a class="reference external" href="http://www.stat.columbia.edu/~gelman/book/gelman_quotes.pdf"&gt;page of 77 best Gelman quotes&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "true";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Ajax.config.path['img'] = 'https://cdn.rawgit.com/pkra/mathjax-img/1.0.0/';" +
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js',], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js','[img]/img.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="learning"></category><category term="bayes"></category></entry><entry><title>A Primer on Bayesian Statistics (Part 1)</title><link href="/a_primer_on_bayesian_statistics_p1.html" rel="alternate"></link><published>2017-09-15T12:00:00-07:00</published><updated>2017-09-15T12:00:00-07:00</updated><author><name>Dawid Minorczyk</name></author><id>tag:None,2017-09-15:/a_primer_on_bayesian_statistics_p1.html</id><summary type="html">&lt;p class="first last"&gt;Heard about Bayesian statistics but don't really know what the hubbub is? Start here!&lt;/p&gt;
</summary><content type="html">&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; This is the first part in a two part series. You can find the second part &lt;a class="reference external" href="a_primer_on_bayesian_statistics_p2.html"&gt;right here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="a-primer-on-bayesian-statistics-part-1"&gt;
&lt;h2&gt;A Primer on Bayesian Statistics (Part 1)&lt;/h2&gt;
&lt;p&gt;Like many people first starting out on their journey into data science, I dove
straight into the cool and shiny stuff long before I really knew what I was doing&lt;a class="footnote-reference" href="#id10" id="id1"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;. It was
during this exploratory phase, while I oogled those fancy neural
networks, that I began noticing the term
&lt;em&gt;Bayesian Statistics&lt;/em&gt; with increasing frequency. It popped up in blogs, it popped up in books, it
popped up in online videos. &amp;quot;What are they talking about?&amp;quot; I thought, &amp;quot;That one equation I learned
about in my intro statistics course? What's the big deal here?&amp;quot;&lt;/p&gt;
&lt;p&gt;As I soon found out, I was missing out on a whole school of statistics knowledge and I didn't even
know about it! Unfortunately, sources I found on the subject tended to swing either towards textbook-levels of denseness or vague philosophical works about &amp;quot;Dutch Books&amp;quot;&lt;a class="footnote-reference" href="#id11" id="id2"&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;. This is a shame, because I think you &lt;em&gt;can&lt;/em&gt; explain the concept in some meaningful depth without writing a whole textbook; all you need is a few visuals and insightful examples.&lt;/p&gt;
&lt;div class="section" id="reviewing-bayes-theorem-with-a-few-visuals-and-insightful-examples"&gt;
&lt;h3&gt;Reviewing Bayes' Theorem With a Few Visuals and Insightful Examples&lt;/h3&gt;
&lt;p&gt;Unsurprisingly, I want to start this tutorial by reviewing &lt;em&gt;Bayes' Theorem&lt;/em&gt;. The math involved in the theorem isn't especially difficult, but I think many people really miss the point when they first see it. I myself remember learning the formula, thinking to myself &amp;quot;oh, that's cool&amp;quot;, and then moving on, leaving the knowledge in a dusty corner of my mind. In order to avoid that in this tutorial, I'll try to be thorough, and build up intuition as much as possible. I'll do this by taking a visual approach and deriving &lt;em&gt;Bayes' Theorem&lt;/em&gt; through an example:
&lt;span class="math"&gt;\(\require{color}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{cs}{RGB}{252, 141, 98}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{cc}{RGB}{102, 194, 165}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{cr}{RGB}{141, 160, 203}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{cj}{RGB}{231, 138, 195}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{ccr}{RGB}{227, 26, 28}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{ccb}{RGB}{31, 120, 180}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{ccw}{RGB}{51, 160, 44}\)&lt;/span&gt;
&lt;span class="math"&gt;\(\definecolor{def}{RGB}{93, 93, 93}\)&lt;/span&gt;&lt;/p&gt;
&lt;div class="section" id="weather-and-hobbies"&gt;
&lt;h4&gt;Weather and Hobbies&lt;/h4&gt;
&lt;p&gt;As all meteorologists will tell you, there are only three types of weather in the world: &lt;span class="sunny"&gt;sunny&lt;/span&gt;, &lt;span class="cloudy"&gt;cloudy&lt;/span&gt;, and &lt;span class="rainy"&gt;rainy&lt;/span&gt;. Here in California, the weather tends to favor long, dry days. As an approximation, let's say that it's &lt;span class="sunny"&gt;sunny&lt;/span&gt; &lt;span class="math"&gt;\(\color{cs}{60\%}\)&lt;/span&gt; of the time, &lt;span class="cloudy"&gt;cloudy&lt;/span&gt; &lt;span class="math"&gt;\(\color{cc}{30\%}\)&lt;/span&gt; of the time, and &lt;span class="rainy"&gt;rainy&lt;/span&gt; &lt;span class="math"&gt;\(\color{cr}{10\%}\)&lt;/span&gt; of the time. We can represent this situation quite simply with a visualization:&lt;/p&gt;
&lt;object class="align-center" data="images/1d_weather_only.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Now, when I make small talk about the weather, I usually talk about my hobbies as well. I'm a pretty simple guy, so you can segregate my hobbies into two categories: &lt;span class="jog"&gt;running&lt;/span&gt; and everything else. Out of these two groups, I estimate that I go &lt;span class="jog"&gt;running&lt;/span&gt; &lt;span class="math"&gt;\(\color{cj}{40\%}\)&lt;/span&gt; of all days:&lt;/p&gt;
&lt;object class="align-center" data="images/1d_running_only.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;That's an intuitive way to represent probabilities, but it doesn't allow us to compare everything directly. It would be great if we could talk about the weather and our hobbies at the same time. Fortunately, we can! Just combine the scales above into a 2D figure:&lt;/p&gt;
&lt;object class="align-center" data="images/2d_independent_plain.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Now we can show off both sets of events, just like we wanted. We can see all of the probabilities and even measure them out if we wanted to:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{rccl}
\boldsymbol{P}(\color{cs}sunny\color{def}) &amp;amp; = 0.60 &amp;amp; \rightarrow &amp;amp; \, \scriptstyle\text{The size of the sunny area } \img[-0.25em][1em][1em]{images/ss.svg} \text{ when compared to the whole area}. \\
\boldsymbol{P}(\color{cc}cloudy\color{def}) &amp;amp; = 0.30 &amp;amp; \rightarrow &amp;amp; \, \scriptstyle\text{The size of the cloudy area } \img[-0.25em][1em][1em]{images/sc.svg} \text{ when compared to the whole area}. \\
\boldsymbol{P}(\color{cr}rainy\color{def}) &amp;amp; = 0.10 &amp;amp; \rightarrow &amp;amp; \, \scriptstyle\text{The size of the rainy area } \img[-0.25em][1em][1em]{images/sr.svg} \text{ when compared to the whole area}. \\
\boldsymbol{P}(\color{cj}running\color{def}) &amp;amp; = 0.40 &amp;amp; \rightarrow &amp;amp; \, \scriptstyle\text{The size of the running area } \img[-0.25em][1em][1em]{images/sj.svg} \text{ when compared to the whole area}.
\end{array}
\end{equation*}
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="conditional-probability"&gt;
&lt;h4&gt;Conditional Probability&lt;/h4&gt;
&lt;p&gt;Hmmm, something seems off. You see, I actually don't like running when it's too hot outside. While my overall rate is &lt;span class="math"&gt;\(\color{cj}{40\%}\)&lt;/span&gt;, I tend to run &lt;em&gt;less&lt;/em&gt; than that if I think I might die of dehydration. Conversely, I also tend to run a lot &lt;em&gt;more&lt;/em&gt; on cool, rainy days. The diagram above doesn't show that. See all those right angles? Those are right angles of &lt;em&gt;independence&lt;/em&gt;! They imply that, no matter what kind of weather I'm currently experiencing, I will always have a &lt;span class="math"&gt;\(\color{cj}40\%\)&lt;/span&gt; running rate. Me &lt;span class="jog"&gt;running&lt;/span&gt; and the weather don't affect one another.&lt;/p&gt;
&lt;p&gt;We can visually prove this by looking at the &lt;em&gt;conditional probabilities&lt;/em&gt; of each event. For example, say it's a &lt;span class="sunny"&gt;sunny&lt;/span&gt; day and we want to know the probability of me going for a &lt;span class="jog"&gt;jog&lt;/span&gt;. In mathematical notation, we're looking for the quantity &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cs}sunny\color{def})\)&lt;/span&gt;. We can find it like this:&lt;/p&gt;
&lt;object class="align-center" data="images/2d_conditional_sunny.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;This image shows how I like to think about &lt;em&gt;conditional probability&lt;/em&gt;. When we assumed that it was a &lt;span class="sunny"&gt;sunny&lt;/span&gt; day, we essentially said that we must land in the &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/ss.svg}\)&lt;/span&gt; area (&lt;em&gt;you are here&lt;/em&gt;). To see how likely it is that I go &lt;span class="jog"&gt;running&lt;/span&gt; in &lt;span class="sunny"&gt;sunny&lt;/span&gt; weather, we then look for how likely it is that we land in the &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/sj.svg}\)&lt;/span&gt; area, knowing that we have to stay in the &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/ss.svg}\)&lt;/span&gt; area. Thus, the probability of me &lt;span class="jog"&gt;running&lt;/span&gt; given that it's &lt;span class="sunny"&gt;sunny&lt;/span&gt;, &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cs}sunny\color{def})\)&lt;/span&gt;, is the area of the intersection &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/sjs.svg}\)&lt;/span&gt; compared to the &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/ss.svg}\)&lt;/span&gt; area. Notice that this is still &lt;span class="math"&gt;\(40\%\)&lt;/span&gt;! Thus, &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cs}sunny\color{def}) = \boldsymbol{P}(\color{cj}running\color{def})\)&lt;/span&gt; and we have &lt;em&gt;independence&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;We can go a step further, take what I said above, and make it concrete with a formula:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{crcc}
&amp;amp; \boldsymbol{P}(\color{cj}running\color{def}) &amp;amp; \rightarrow &amp;amp; \img[-0.25em][1em][1em]{images/sj.svg} \\
&amp;amp; \boldsymbol{P}(\color{cs}sunny\color{def}) &amp;amp; \rightarrow &amp;amp; \img[-0.25em][1em][1em]{images/ss.svg} \\
&amp;amp; \boldsymbol{P}(\color{cj}running\color{def},\,\color{cs}sunny\color{def}) &amp;amp; \rightarrow &amp;amp; \img[-0.25em][1em][1em]{images/sjs.svg} \\
&amp;amp; \boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cs}sunny\color{def}) &amp;amp; \rightarrow &amp;amp; \dfrac{\img[-0.25em][1em][1em]{images/sjs.svg}}{\img[-0.25em][1em][1em]{images/ss.svg}}
\end{array}
\Large\Rightarrow\normalsize
\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cs}sunny\color{def}) = \dfrac{\boldsymbol{P}(\color{cj}running\color{def},\,\color{cs}sunny\color{def})}{\boldsymbol{P}(\color{cs}sunny\color{def})}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;To anyone who's taken a statistics course, this is the all-too-familiar formula for &lt;em&gt;conditional probability&lt;/em&gt;, derived using a purely visual method! It's usually presented with arbitrary events &lt;span class="math"&gt;\(A\)&lt;/span&gt; and &lt;span class="math"&gt;\(B\)&lt;/span&gt; in a somewhat bland way:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\boldsymbol{P}(A|B) \boldsymbol{P}(B) = \boldsymbol{P}(A,B) = \boldsymbol{P}(B|A) \boldsymbol{P}(A)
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Now that we've established &lt;em&gt;independence&lt;/em&gt; between &lt;span class="jog"&gt;running&lt;/span&gt; and all the weather events, how can we go about changing that? Well, we just have to get rid of the right angles:&lt;/p&gt;
&lt;object class="align-center" data="images/2d_fixed_plain.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Look at how the probability of &lt;span class="jog"&gt;running&lt;/span&gt; shifted away from &lt;span class="sunny"&gt;sunny&lt;/span&gt; towards &lt;span class="cloudy"&gt;cloudy&lt;/span&gt; and &lt;span class="rainy"&gt;rainy&lt;/span&gt; (the dotted line is the old boundary). The events now work out in a way that reflects my preferences:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{rccl}
\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cs}sunny\color{def}) &amp;amp; = 0.32 &amp;amp; &amp;lt; 0.40\\
\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cc}cloudy\color{def}) &amp;amp; = 0.50 &amp;amp; &amp;gt; 0.40\\
\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def}) &amp;amp; = 0.58 &amp;amp; &amp;gt; 0.40\\
\end{array}
\end{equation*}
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="bayes-theorem"&gt;
&lt;h4&gt;Bayes' Theorem&lt;/h4&gt;
&lt;p&gt;Bad luck, it seems you've suddenly developed an acute case of &lt;em&gt;can't-tell-the-weather-itus&lt;/em&gt;. It's an extremely rare disease that temporarily removes your ability to detect the weather (strangely, it doesn't affect your life in any other way). Just as this happens, you spot me &lt;span class="jog"&gt;jogging&lt;/span&gt; across the street. Aha! A way out of this predicament! You've read this post, so you know that I'm more likely to be &lt;span class="jog"&gt;running&lt;/span&gt; if it's &lt;span class="rainy"&gt;raining&lt;/span&gt; or &lt;span class="cloudy"&gt;cloudy&lt;/span&gt;. The chances of &lt;span class="rainy"&gt;rainy&lt;/span&gt; or &lt;span class="cloudy"&gt;cloudy&lt;/span&gt; weather must be high!&lt;/p&gt;
&lt;p&gt;No wait, that's wrong. You only know how the weather affects my tendency to run, not the other way around. In other words, you might know &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def})\)&lt;/span&gt; but you do not know &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def})\)&lt;/span&gt;, and these two values are &lt;em&gt;not&lt;/em&gt; necessarily equal. Visually:&lt;/p&gt;
&lt;object class="align-center" data="images/2d_bayes_rain.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;If we're looking for &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def})\)&lt;/span&gt;, we want to know how likely it is that we land in &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/sr.svg}\)&lt;/span&gt; assuming we're already in &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/sj.svg}\)&lt;/span&gt;; just looking at the diagram, you can surmise that this is a small number, especially when compared to &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def}) = 0.58\)&lt;/span&gt; (how likely we are to land in &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/sj.svg}\)&lt;/span&gt; assuming we're inside &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/sr.svg}\)&lt;/span&gt;). The discrepancy stems from that fact that, in California, the base rate of &lt;span class="rainy"&gt;rain&lt;/span&gt; starts low, &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cr}rainy\color{def}) = 0.10\)&lt;/span&gt;. If you want to get the correct prediction, you have to approach this from a different angle.&lt;/p&gt;
&lt;p&gt;Good thing we learned about &lt;em&gt;conditional probability&lt;/em&gt; in the last section! Just like last time, we can find &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def})\)&lt;/span&gt; as follows:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{crcc}
&amp;amp; \boldsymbol{P}(\color{cr}rainy\color{def}) &amp;amp; \rightarrow &amp;amp; \img[-0.25em][1em][1em]{images/sr.svg} \\
&amp;amp; \boldsymbol{P}(\color{cj}running\color{def}) &amp;amp; \rightarrow &amp;amp; \img[-0.25em][1em][1em]{images/sj.svg} \\
&amp;amp; \boldsymbol{P}(\color{cr}rainy\color{def},\,\color{cj}running\color{def}) &amp;amp; \rightarrow &amp;amp; \img[-0.25em][1em][1em]{images/sjr.svg} \\
&amp;amp; \boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def}) &amp;amp; \rightarrow &amp;amp; \dfrac{\img[-0.25em][1em][1em]{images/sjr.svg}}{\img[-0.25em][1em][1em]{images/sj.svg}}
\end{array}
\Large\Rightarrow\normalsize
\boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def}) = \dfrac{\boldsymbol{P}(\color{cr}rainy\color{def},\,\color{cj}running\color{def})}{\boldsymbol{P}(\color{cj}running\color{def})}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;The only problem here is that we don't know the numerical value of the &lt;span class="math"&gt;\(\img[-0.25em][1em][1em]{images/sjr.svg}\)&lt;/span&gt; area, the intersection &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cr}rainy\color{def},\,\color{cj}running\color{def})\)&lt;/span&gt;. We can fix this by applying &lt;em&gt;conditional probability&lt;/em&gt; in the other direction, basically switching the roles of &lt;span class="jog"&gt;running&lt;/span&gt; and &lt;span class="rainy"&gt;rainy&lt;/span&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{align*}
&amp;amp; \boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def}) = \dfrac{\boldsymbol{P}(\color{cr}rainy\color{def},\,\color{cj}running\color{def})}{\boldsymbol{P}(\color{cr}rainy\color{def})} \\
\Large\Rightarrow\normalsize
&amp;amp; \boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def}) \boldsymbol{P}(\color{cr}rainy\color{def}) = \boldsymbol{P}(\color{cr}rainy\color{def},\,\color{cj}running\color{def})
\end{align*}
&lt;/div&gt;
&lt;p&gt;Finally, we substitute and get our answer:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def}) = \dfrac{\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def}) \boldsymbol{P}(\color{cr}rainy\color{def})}{\boldsymbol{P}(\color{cj}running\color{def})}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Or, in case you prefer to do all your math using colorful squares&lt;a class="footnote-reference" href="#id12" id="id3"&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\dfrac{\img[-0.25em][1em][1em]{images/sjr.svg}}{\img[-0.25em][1em][1em]{images/sj.svg}} = \dfrac{\img[-0.25em][1em][1em]{images/sjr.svg}}{\img[-0.25em][1em][1em]{images/sr.svg}} \cdot \dfrac{\img[-0.25em][1em][1em]{images/sr.svg}}{\img[-0.25em][1em][1em]{images/sj.svg}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;This formula is known as &lt;em&gt;Bayes' Theorem&lt;/em&gt;. The most immediate result of &lt;em&gt;Bayes' Theorem&lt;/em&gt; is that it allows you to flip &lt;em&gt;conditional probabilities&lt;/em&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def})
\leftrightarrow
\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def})
\end{equation*}
&lt;/div&gt;
&lt;p&gt;In our case, for example, it allows us to solve the big problem you were having just a little while ago:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{align*}
\boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def}) = &amp;amp; \dfrac{\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def}) \boldsymbol{P}(\color{cr}rainy\color{def})}{\boldsymbol{P}(\color{cj}running\color{def})} \\
= &amp;amp; \dfrac{0.58 \cdot 0.10}{0.40} = 0.145
\end{align*}
&lt;/div&gt;
&lt;p&gt;Similarly, we can use this method to find the other probabilities as well:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{align*}
&amp;amp; \boldsymbol{P}(\color{cc}cloudy\color{def}\,|\,\color{cj}running\color{def}) = \dfrac{\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cc}cloudy\color{def}) \boldsymbol{P}(\color{cc}cloudy\color{def})}{\boldsymbol{P}(\color{cj}running\color{def})} =
0.375 \\
&amp;amp; \boldsymbol{P}(\color{cs}sunny\color{def}\,|\,\color{cj}running\color{def}) = \dfrac{\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cs}sunny\color{def}) \boldsymbol{P}(\color{cs}sunny\color{def})}{\boldsymbol{P}(\color{cj}running\color{def})} =
0.48
\end{align*}
&lt;/div&gt;
&lt;p&gt;Predicament solved! Even though I prefer &lt;span class="rainy"&gt;rain&lt;/span&gt; to &lt;span class="sunny"&gt;sun&lt;/span&gt; when &lt;span class="jog"&gt;jogging&lt;/span&gt;, the fact that California has mostly &lt;span class="sunny"&gt;sunny&lt;/span&gt; weather beats out my preferences. If you see me out for a &lt;span class="jog"&gt;jog&lt;/span&gt;, I'm probably dehydrated (I should start working out with a water bottle).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="a-different-way-to-think-about-bayes"&gt;
&lt;h4&gt;A Different Way to Think About Bayes&lt;/h4&gt;
&lt;p&gt;The ability to switch &lt;em&gt;conditional probabilities&lt;/em&gt; sounds useful, but how can you create a whole school of thought based around it? How can people write whole textbooks on the subject? How come this tutorial is only half over? Well, the real power of &lt;em&gt;Bayes' Theorem&lt;/em&gt; doesn't lie in it's ability to switch &lt;em&gt;conditional probabilities&lt;/em&gt;, and I wouldn't want you to come away from this tutorial thinking that. Instead, statisticians view &lt;em&gt;Bayes' Theorem&lt;/em&gt; like so:&lt;/p&gt;
&lt;object class="align-center" data="images/Bayes_Theorem_Explained.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;This view of &lt;em&gt;Bayes' Theorem&lt;/em&gt; says you can combine the base rate of an event (the &lt;em&gt;prior&lt;/em&gt;) and modify it with new information to get a better estimate of the same event (the &lt;em&gt;posterior&lt;/em&gt;). In the picture above, you start with base knowledge about the probability of &lt;span class="rainy"&gt;rain&lt;/span&gt;. If you don't have any other information, you can only rely on the this base rate, so &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cr}rainy\color{def}) = 0.10\)&lt;/span&gt;. However, once you get a piece of data (whether I'm &lt;span class="jog"&gt;running&lt;/span&gt; that day or not), &lt;em&gt;Bayes' Theorem&lt;/em&gt; says that you integrate this information into a new estimate and get a &lt;em&gt;posterior&lt;/em&gt; probability. In this case, you find that &lt;span class="math"&gt;\(\boldsymbol{P}(\color{cr}rainy\color{def}\,|\,\color{cj}running\color{def}) = 0.145\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The modifying term compares the likelihood of me &lt;span class="jog"&gt;running&lt;/span&gt; in &lt;span class="rainy"&gt;rainy&lt;/span&gt; weather (the numerator) to the flat chance of me &lt;span class="jog"&gt;running&lt;/span&gt; in any weather (the denominator). These two terms have names, the &lt;em&gt;likelihood&lt;/em&gt; and the &lt;em&gt;evidence&lt;/em&gt;&lt;a class="footnote-reference" href="#id13" id="id4"&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;object class="align-center" data="images/Bayes_Theorem_Full.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;In effect, the &lt;em&gt;likelihood&lt;/em&gt; and the &lt;em&gt;evidence&lt;/em&gt; measure how much information we get out of the data. If the modifier ends up greater than &lt;span class="math"&gt;\(1\)&lt;/span&gt;, our &lt;em&gt;posterior&lt;/em&gt; probability ends up higher than our &lt;em&gt;prior&lt;/em&gt;. The same is true in the other direction; if the modifier is less than &lt;span class="math"&gt;\(1\)&lt;/span&gt;, the &lt;em&gt;posterior&lt;/em&gt; probability will be lower than the &lt;em&gt;prior&lt;/em&gt;. For example:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\dfrac{\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cr}rainy\color{def})}{\boldsymbol{P}(\color{cj}running\color{def})}
= \dfrac{0.58}{0.40} &amp;gt; 1
\Large\Rightarrow\normalsize
\text{posterior} \, &amp;gt; \, \text{prior}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
\dfrac{\boldsymbol{P}(\color{cj}running\color{def}\,|\,\color{cs}sunny\color{def})}{\boldsymbol{P}(\color{cj}running\color{def})}
= \dfrac{0.32}{0.40} &amp;lt; 1
\Large\Rightarrow\normalsize
\text{posterior} \, &amp;lt; \, \text{prior}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Since you know that I prefer &lt;span class="rainy"&gt;rainy&lt;/span&gt; weather when working out, your estimate of &lt;span class="rainy"&gt;rain&lt;/span&gt; goes up from the base rate if you see me &lt;span class="jog"&gt;running&lt;/span&gt;. Similarly, your estimate on the chances of &lt;span class="sunny"&gt;sunny&lt;/span&gt; weather go down. Why is this so useful? Because now, we have a way to incorporate data into initial estimates and refine them! Isn't that exciting!&lt;/p&gt;
&lt;p&gt;What's that? You still don't see what the big deal is? Maybe we need another example.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="a-new-example-and-a-change-of-colors"&gt;
&lt;h3&gt;A New Example and a Change of Colors&lt;/h3&gt;
&lt;p&gt;To appreciate the power of incorporating data into estimates, let's change gears and work through a new, more serious, example.&lt;/p&gt;
&lt;p&gt;Consider a city with two competing cab companies: the &lt;span class="red"&gt;red&lt;/span&gt; and &lt;span class="blue"&gt;blue&lt;/span&gt; company. The &lt;span class="red"&gt;red&lt;/span&gt; company dominates the market with &lt;span class="math"&gt;\(\color{ccr}75\%\)&lt;/span&gt; of cabs in the city, leaving &lt;span class="math"&gt;\(\color{ccb}25\%\)&lt;/span&gt; to the &lt;span class="blue"&gt;blue&lt;/span&gt; company. One day, a hit-and-run occurs. Local camera footage manages to see that a cab driver was the perpetrator. Unfortunately, the camera did not catch the logo on the cab, the only distinguishing feature between the two companies. Because of your vast statistics knowledge, you've been chosen to act as a judge on this case. Which company do you believe should be fined&lt;a class="footnote-reference" href="#id14" id="id5"&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;? Most likely, guilt lies with the &lt;span class="red"&gt;red&lt;/span&gt; company, simply due to chance:&lt;/p&gt;
&lt;object class="align-center" data="images/cabs_1.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;This sets up our &lt;em&gt;prior&lt;/em&gt;. Right now, we only know the following:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{rccl}
\boldsymbol{P}(\color{ccb}blue\color{def}) &amp;amp; = 0.25 &amp;amp; \rightarrow &amp;amp; \, \scriptstyle\text{The probability that the cab belonged to the blue company.} \\
\boldsymbol{P}(\color{ccr}red\color{def}) &amp;amp; = 0.75 &amp;amp; \rightarrow &amp;amp; \, \scriptstyle\text{The probability that the cab belonged to the red company.}
\end{array}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Of course, the story doesn't end there. Not wanting to pay hefty fees, the &lt;span class="red"&gt;red&lt;/span&gt; company produces a &lt;span class="wit"&gt;witness&lt;/span&gt; that says he saw the &lt;span class="blue"&gt;blue&lt;/span&gt; company logo. You check the camera footage and notice that this &lt;span class="wit"&gt;witness&lt;/span&gt; was indeed nearby when the crime happened. The &lt;span class="blue"&gt;blue&lt;/span&gt; company, aware that eyewitnesses can be unreliable, proposes a test to see if the &lt;span class="wit"&gt;witness&lt;/span&gt; can correctly differentiate company logos when a cab drives past him. The &lt;span class="wit"&gt;witness&lt;/span&gt; takes the test and, much to the &lt;span class="red"&gt;red&lt;/span&gt; companies' chagrin, it's found he can only identify the correct logo &lt;span class="math"&gt;\(\color{ccw}60\%\)&lt;/span&gt; of the time.&lt;/p&gt;
&lt;p&gt;Ok judge, which company do you suspect now? Well, let's look at the data we just got:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{rccl}
\boldsymbol{P}(\color{ccw}witness \color{def} \text{ says } \color{ccb}blue \color{def}\,|\,\color{ccb}blue\color{def}) &amp;amp; = 0.60 &amp;amp; \rightarrow &amp;amp; \, \scriptstyle\text{The witness is correct.} \\
\boldsymbol{P}(\color{ccw}witness \color{def} \text{ says } \color{ccb}blue \color{def}\,|\,\color{ccr}red\color{def}) &amp;amp; = 0.40 &amp;amp; \rightarrow &amp;amp; \, \scriptstyle\text{The witness is incorrect.}
\end{array}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;The testimony represents a single data point that we can use to modify the base rate of either &lt;span class="math"&gt;\(\boldsymbol{P}(\color{ccb}blue\color{def})\)&lt;/span&gt; or &lt;span class="math"&gt;\(\boldsymbol{P}(\color{ccr}red\color{def})\)&lt;/span&gt;. Looking at the probability space can give us some good intuition about the case:&lt;/p&gt;
&lt;object class="align-center" data="images/cabs_2.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;Since the &lt;span class="wit"&gt;witness&lt;/span&gt; testified against the &lt;span class="blue"&gt;blue&lt;/span&gt; company, we know we're in the striped region. Just looking at the picture, the &lt;span class="red"&gt;red&lt;/span&gt; company remains the most likely suspect: the area of the lower-right striped region (culprit was &lt;span class="red"&gt;red&lt;/span&gt; and the &lt;span class="wit"&gt;witness&lt;/span&gt; is wrong) looks larger than the upper-left striped region (culprit was &lt;span class="blue"&gt;blue&lt;/span&gt; and &lt;span class="wit"&gt;witness&lt;/span&gt; is right).&lt;/p&gt;
&lt;p&gt;Of course, we need to test this out rigorously. Let's try to find the &lt;em&gt;posterior&lt;/em&gt; probability for &lt;span class="blue"&gt;blue&lt;/span&gt; (we could have also chosen to calculate the &lt;em&gt;posterior&lt;/em&gt; for &lt;span class="red"&gt;red&lt;/span&gt;, I just made a random choice). To find &lt;span class="math"&gt;\(\boldsymbol{P}(\color{ccb}blue\color{def} \,|\, \color{ccw}witness\color{def} \text{ says } \color{ccb}blue\color{def})\)&lt;/span&gt; we use &lt;em&gt;Bayes' Theorem&lt;/em&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{rcl}
posterior &amp;amp; = &amp;amp; \dfrac{likelihood}{evidence} \cdot prior \\
\boldsymbol{P}(\color{ccb}blue\color{def} \,|\, \color{ccw}witness\color{def} \text{ says } \color{ccb}blue\color{def}) &amp;amp; = &amp;amp; \dfrac{\boldsymbol{P}(\color{ccw}witness\color{def} \text{ says } \color{ccb}blue\color{def} \,|\, \color{ccb}blue\color{def})}{\boldsymbol{P}(\color{ccw}witness\color{def} \text{ says } \color{ccb}blue\color{def})} \cdot \boldsymbol{P}(\color{ccb}blue\color{def})
\end{array}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;The only term that we don't immediately know here is the &lt;em&gt;evidence&lt;/em&gt;, the probability that the &lt;span class="wit"&gt;witness&lt;/span&gt; says &lt;span class="blue"&gt;blue&lt;/span&gt;. However, we can easily figure this out, we just need to consider all the situations that can lead to the &lt;span class="wit"&gt;witness&lt;/span&gt; saying &lt;span class="blue"&gt;blue&lt;/span&gt;. There are two, each represented by one of the striped regions in the probability space:&lt;/p&gt;
&lt;object class="align-center" data="images/cabs_3.svg" type="image/svg+xml"&gt;
Whoops, something went wrong when fetching this svg.&lt;/object&gt;
&lt;p&gt;We arrive at a pretty expected answer:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\boldsymbol{P}(\color{ccb}blue\color{def} \,|\, \color{ccw}witness\color{def} \text{ says } \color{ccb}blue\color{def}) = \dfrac{(0.60)(0.25)}{(0.60)(0.25) + (0.40)(0.75)} = 0.333
\end{equation*}
&lt;/div&gt;
&lt;p&gt;So, even with the testimony, we find that most guilt still lies with the &lt;span class="red"&gt;red&lt;/span&gt; company. The chances of the culprit being &lt;span class="blue"&gt;blue&lt;/span&gt; are only &lt;span class="math"&gt;\(1\)&lt;/span&gt; in &lt;span class="math"&gt;\(3\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;But wait, just as you're about to pass your judgment, someone bursts into the courtroom&lt;a class="footnote-reference" href="#id15" id="id6"&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;. It's a second &lt;span class="wit"&gt;witness&lt;/span&gt;, who also says he saw a &lt;span class="blue"&gt;blue&lt;/span&gt; logo. And behind him? There's a third &lt;span class="wit"&gt;witness&lt;/span&gt;, and a fourth, and a fifth, ...&lt;/p&gt;
&lt;p&gt;Each &lt;span class="wit"&gt;witness&lt;/span&gt; has their own story, ready to supply evidence for either the &lt;span class="red"&gt;red&lt;/span&gt; or &lt;span class="blue"&gt;blue&lt;/span&gt; company. They all took the test and each of them also got a &lt;span class="math"&gt;\(\color{ccw}60\%\)&lt;/span&gt; (really blurry logos)&lt;a class="footnote-reference" href="#id16" id="id7"&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;. If running out of the courtroom while screaming is not an option, how can you handle this situation? Will &lt;em&gt;Bayes' Theorem&lt;/em&gt; stop working now that we have multiple data points? Of course not! For example, if we have two &lt;span class="wit"&gt;witnesses&lt;/span&gt; and both say they saw &lt;span class="blue"&gt;blue&lt;/span&gt;, we could calculate:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{rcl}
posterior &amp;amp; = &amp;amp; \dfrac{likelihood}{evidence} \cdot prior \\
\boldsymbol{P}(\color{ccb}b\color{def} \,|\, \color{ccw}w_1\color{def} \text{ says } \color{ccb}b\color{def}, \color{ccw}w_2\color{def} \text{ says } \color{ccb}b\color{def}) &amp;amp; = &amp;amp; \dfrac{\boldsymbol{P}(\color{ccw}w_1\color{def} \text{ says } \color{ccb}b\color{def}, \color{ccw}w_2\color{def} \text{ says } \color{ccb}b\color{def} \,|\, \color{ccb}b\color{def})}{\boldsymbol{P}(\color{ccw}w_1\color{def} \text{ says } \color{ccb}b\color{def}, \color{ccw}w_2\color{def} \text{ says } \color{ccb}b\color{def})} \cdot \boldsymbol{P}(\color{ccb}b\color{def})
\end{array}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Here, I used a shorthand &lt;span class="math"&gt;\(\color{ccb}blue\color{def} \leftrightarrow \color{ccb}b\color{def}\)&lt;/span&gt; and &lt;span class="math"&gt;\(\color{ccw}witness\color{def} \leftrightarrow \color{ccw}w\color{def}\)&lt;/span&gt; to save space. So clearly, &lt;em&gt;Bayes' Theorem&lt;/em&gt; can handle any amount of data, we simply treat the two (or potentially more) data points as one event. To make this even more clear, we can rewrite our data &lt;span class="math"&gt;\((\color{ccw}w_1\color{def} \text{ says } \color{ccb}b\color{def}, \color{ccw}w_2\color{def} \text{ says } \color{ccb}b\color{def})\)&lt;/span&gt; as an ambiguous &lt;span class="math"&gt;\(\color{ccw}d\color{def}\)&lt;/span&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\begin{array}{rcl}
\boldsymbol{P}(\color{ccb}b\color{def} \,|\, \color{ccw}d\color{def}) &amp;amp; = &amp;amp; \dfrac{\boldsymbol{P}(\color{ccw}d\color{def} \,|\, \color{ccb}b\color{def})}{\boldsymbol{P}(\color{ccw}d\color{def})} \cdot \boldsymbol{P}(\color{ccb}b\color{def})
\end{array}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Unfortunately, I won't be able to draw probability spaces (like the ones I drew above) to explain the actual calculations that go on here. This stems from the fact that, to keep each data point &lt;em&gt;independent&lt;/em&gt;, we would need to move from 2D into 3D, 4D, 5D, etc. We can, however, demonstrate the power of this approach by generating actual samples. Take a look at the following graph, which shows the outcome of using &lt;em&gt;Bayes' Theorem&lt;/em&gt; with a &lt;em&gt;LOT&lt;/em&gt; of &lt;span class="wit"&gt;witnesses&lt;/span&gt;:&lt;/p&gt;
&lt;img alt="Whoops, something went wrong when fetching this png." class="align-center" src="images/Bayes_Multi.png" /&gt;
&lt;p&gt;I randomly generated the &lt;span class="blue"&gt;blue&lt;/span&gt; line above by assuming that &lt;span class="blue"&gt;blue&lt;/span&gt; was the real culprit. This would mean that &lt;span class="math"&gt;\(60\%\)&lt;/span&gt; of the &lt;span class="wit"&gt;witnesses&lt;/span&gt; would testify against &lt;span class="blue"&gt;blue&lt;/span&gt;, so that if we have &lt;span class="math"&gt;\(10\)&lt;/span&gt; of them, &lt;span class="math"&gt;\(6\)&lt;/span&gt; (on average) would say they saw a &lt;span class="blue"&gt;blue&lt;/span&gt; logo. I randomly generated the &lt;span class="red"&gt;red&lt;/span&gt; line by assuming the opposite: the &lt;span class="red"&gt;red&lt;/span&gt; company was the culprit. This means that &lt;span class="math"&gt;\(60\%\)&lt;/span&gt; of the &lt;span class="wit"&gt;witnesses&lt;/span&gt; testified against the &lt;span class="red"&gt;red&lt;/span&gt; company. The y-axis represents our &lt;em&gt;posterior&lt;/em&gt; in every case.&lt;/p&gt;
&lt;p&gt;Looking at the graph, it seems that within &lt;span class="math"&gt;\(\color{ccw}20\)&lt;/span&gt; &lt;span class="wit"&gt;witnesses&lt;/span&gt;, we had about &lt;span class="math"&gt;\(99\%\)&lt;/span&gt; confidence we knew the true culprit. This number would have been lower if each &lt;span class="wit"&gt;witness&lt;/span&gt; could identify the logos at a better rate than &lt;span class="math"&gt;\(\color{ccw}60\%\)&lt;/span&gt;&lt;a class="footnote-reference" href="#id17" id="id8"&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Notice also, that our data eventually overrode the &lt;em&gt;prior&lt;/em&gt;. Even though we initially believed that &lt;span class="red"&gt;red&lt;/span&gt; was the culprit in both cases (the &lt;em&gt;prior&lt;/em&gt;), we always end up believing in the correct outcome once we got enough information. This is an important aspect of the &lt;em&gt;Bayesian&lt;/em&gt; approach that I hope to flesh out later: &lt;em&gt;priors&lt;/em&gt; can skew &lt;em&gt;posteriors&lt;/em&gt; when we have low amounts of data, but the &lt;em&gt;posterior&lt;/em&gt; always converges to the same answer.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="moving-onto-the-harder-stuff"&gt;
&lt;h3&gt;Moving Onto the Harder Stuff&lt;/h3&gt;
&lt;p&gt;If you care about using data to try and tease out answers, hopefully you see how fundamental &lt;em&gt;Bayes' Theorem&lt;/em&gt; is. You can take initially available information, encode it in a &lt;em&gt;prior&lt;/em&gt;, and modify it through data. But how is this different than what statisticians have been doing for decades using classical estimators and p-values? And what if we don't know what &lt;em&gt;prior&lt;/em&gt; to pick? Are we out of luck?&lt;/p&gt;
&lt;p&gt;Discovering the connections between &lt;em&gt;Bayes&lt;/em&gt; and the &lt;em&gt;Frequentist&lt;/em&gt; (classical) approach and developing those consequences takes a bit more mathematical know-how than what I've used so far. If you're curious and feel up to the task, read on to &lt;a class="reference external" href="a_primer_on_bayesian_statistics_p2.html"&gt;Part 2&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="resources"&gt;
&lt;h3&gt;Resources&lt;/h3&gt;
&lt;div class="section" id="textbooks"&gt;
&lt;h4&gt;Textbooks&lt;/h4&gt;
&lt;p&gt;The credit for a lot of the examples in this post doesn't belong to me. I took several examples on this page from two sources:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;David MacKay's book &lt;em&gt;Information Theory, Inference, and Learning Algorithms&lt;/em&gt;. Both the textbook
and the lectures associated with them are free and available online with a simple search. Links
for the lazy: &lt;a class="reference external" href="http://www.inference.org.uk/itprnn/book.pdf"&gt;book&lt;/a&gt; and &lt;a class="reference external" href="http://videolectures.net/david_mackay/"&gt;lectures&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Andrew Gelman's book &lt;em&gt;Bayesian Data Analysis&lt;/em&gt;. Not only is this &lt;a class="reference external" href="https://www.amazon.com/gp/product/1439840954/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;creativeASIN=1439840954&amp;amp;linkCode=as2&amp;amp;tag=andrsblog0f-20&amp;amp;linkId=YPLI6GJ24RK74BHN"&gt;text&lt;/a&gt; well written, it also contains great one-lines like&lt;a class="footnote-reference" href="#id18" id="id9"&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt;:&lt;ul&gt;
&lt;li&gt;&amp;quot;As you know from teaching introductory statistics, 30 is infinity.&amp;quot;&lt;/li&gt;
&lt;li&gt;&amp;quot;Why is it Normal? Because that’s the only continuous multivariate distribution we have. Oh, we have the multivariate &lt;span class="math"&gt;\(t\)&lt;/span&gt; ... as if that’s a different distribution.”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="footnotes"&gt;
&lt;h4&gt;Footnotes&lt;/h4&gt;
&lt;table class="docutils footnote" frame="void" id="id10" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Disclaimer: I still don't. I'm active learning about this topic as I write. Please don't hesitate to tell me about anything that seems wrong.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id11" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id2"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Not that there's anything wrong with textbooks of philosophical works. If you're looking for the former, check out the two books I mention right above these footnotes. If you're looking for the latter, try some &lt;a class="reference external" href="https://plato.stanford.edu/entries/epistemology-bayesian/"&gt;Bayesian Epistemology&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id12" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[3]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;I don't know about you, but I was personally surprised by this version of &lt;em&gt;Bayes' Theorem&lt;/em&gt;. You're just canceling out areas!&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id13" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id4"&gt;[4]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Yes, this is the exact same &lt;em&gt;likelihood&lt;/em&gt; function that you use when constructing a &lt;em&gt;maximum likelihood estimate&lt;/em&gt; (MLE). In fact, &lt;em&gt;Bayes&lt;/em&gt; essentially becomes &lt;em&gt;maximum likelihood&lt;/em&gt; under certain conditions! Here's a good &lt;a class="reference external" href="https://stats.stackexchange.com/questions/74082/what-is-the-difference-in-bayesian-estimate-and-maximum-likelihood-estimate"&gt;Stack Overflow&lt;/a&gt; post about it.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id14" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id5"&gt;[5]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;If this were a real case, the legal system would obviously not work like this. This is just an example.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id15" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id6"&gt;[6]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Again, not how real courtrooms work. Pretend this is a TV drama.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id16" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id7"&gt;[7]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;What I'm doing here is setting up a set of independent and identically distributed samples; the bread and butter of pretty much all statistical inference.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id17" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id8"&gt;[8]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Luckily, it wasn't &lt;span class="math"&gt;\(50\%\)&lt;/span&gt;! I leave it as an exercise for you to imagine what would happen in that case. Hint, do the calculation for one data point assuming a &lt;span class="math"&gt;\(50\%\)&lt;/span&gt; reliable witness.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id18" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id9"&gt;[9]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;For more great statistics lines (and you know you want more) see this &lt;a class="reference external" href="http://www.stat.columbia.edu/~gelman/book/gelman_quotes.pdf"&gt;page of 77 best Gelman quotes&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "true";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Ajax.config.path['img'] = 'https://cdn.rawgit.com/pkra/mathjax-img/1.0.0/';" +
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js',], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js','[img]/img.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="learning"></category><category term="bayes"></category></entry><entry><title>Introducing the Sinclair Broadcast Group</title><link href="/sinclair_1_3.html" rel="alternate"></link><published>2017-08-30T12:00:00-07:00</published><updated>2017-08-30T12:00:00-07:00</updated><author><name>Dawid Minorczyk</name></author><id>tag:None,2017-08-30:/sinclair_1_3.html</id><summary type="html">&lt;p class="first last"&gt;The first part in a three part series examining the Sinclair Broadcast Group and their affect on American political sentiment.&lt;/p&gt;
</summary><content type="html">&lt;p class="head-info"&gt;&lt;em&gt;This post is the first in a three part series on the Sinclair Broadcast Group. I will be posting
links to the second and third parts here once I finish them.&lt;/em&gt;&lt;/p&gt;
&lt;p class="head-info"&gt;&lt;em&gt;I skim over a lot of technical work in this post. If you want to see the code that generated
the graphs I show, try looking through&lt;/em&gt;
&lt;a class="reference external" href="sinclair-station-exploration.html"&gt;this notebook on Sinclair stations&lt;/a&gt;
&lt;em&gt;or&lt;/em&gt;
&lt;a class="reference external" href="sinclair-dma-exploration.html"&gt;this notebook on DMAs and how they apply to Sinclair&lt;/a&gt;
&lt;em&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;div class="section" id="introducing-the-sinclair-broadcast-group"&gt;
&lt;h2&gt;Introducing the Sinclair Broadcast Group&lt;/h2&gt;
&lt;p&gt;Do you remember broadcast television? Yes, that ancient technology the internet completely replaced
like 10 years ago? Oh boy, those were the days. Saturday morning cartoons; watching &lt;em&gt;How It's Made&lt;/em&gt;
episodes about styrofoam; local news stories about that one guy who tried to
sell himself on eBay. Today, of course, it's pretty obvious that Facebook and Twitter have
completely supplanted TV's role as ...&lt;/p&gt;
&lt;p&gt;What's that?&lt;/p&gt;
&lt;p&gt;Only the younger population is &lt;a class="reference external" href="http://www.marketingcharts.com/featured-24817/attachment/nielsen-traditional-tv-viewing-by-age-q12011-q12017-jul2017"&gt;watching less TV&lt;/a&gt;? People 40 and over watch &lt;a class="reference external" href="http://www.marketingcharts.com/featured-24817/attachment/nielsen-traditional-tv-viewing-trends-by-age-group-in-q1-2017-jul2017"&gt;about as much TV&lt;/a&gt;
today as they did 5 years ago? Traditional TV still makes up the
&lt;a class="reference external" href="http://www.marketingcharts.com/featured-24817/attachment/nielsen-video-viewing-by-device-in-q42016-jul2017"&gt;single largest video consumption source&lt;/a&gt; in the US?&lt;a class="footnote-reference" href="#id14" id="id1"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Yup! Even in the age of social media, millions of American still get their entertainment and news
from sources other than tweets and newsfeeds. While I personally found this surprising (I'm a
classic example of a cord cutter), it seems hosts of popular HBO news shows were already in the
know.&lt;/p&gt;
&lt;p&gt;I'm talking, of course, about John Oliver and his show &lt;em&gt;Last Week Tonight&lt;/em&gt;. He recently talked about
broadcast television and local news. No, it wasn't an in depth exposition on that guy who tried to
sell himself on eBay (I wish). Instead, John looked into political bias in our local news broadcasts
by examining the Sinclair Broadcast Group, or as he called it: &amp;quot;Maybe the most influential media
company that you've never heard of.&amp;quot;&lt;a class="footnote-reference" href="#id15" id="id2"&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For the uninitiated (or those that don't have HBO), here's a bullet point summary of the episode:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;The Sinclair Broadcast Group is the largest owner of local TV stations in the country, yet not
many Americans have heard about the company before.&lt;/li&gt;
&lt;li&gt;Sinclair is currently in the process of &lt;a class="reference external" href="http://www.latimes.com/business/hollywood/la-fi-ct-tribune-sinclair-20170508-story.html"&gt;acquiring Tribune Media&lt;/a&gt;, which would increase its
holdings by 42 TV stations.&lt;/li&gt;
&lt;li&gt;Sinclair forces the stations that it owns to broadcast content labeled as &lt;em&gt;must runs&lt;/em&gt; on a regular
basis.&lt;/li&gt;
&lt;li&gt;The &lt;em&gt;must runs&lt;/em&gt;, John argues, show a clear conservative slant. I don't really want to get into
this, but if you want to know more, Wikipedia has a &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Sinclair_Broadcast_Group#Political_views"&gt;brief description&lt;/a&gt; of these editorials and
their content.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This episode of &lt;em&gt;Last Week Tonight&lt;/em&gt; serves as a starting point for the rest of this post. After
seeing the episode, I really wanted to know more. So what if John is right? What if Sinclair
really &lt;em&gt;does&lt;/em&gt; present a conservative slant. Does it matter?  Yes, there's that whole
journalistic-integrity-in-local-news thing on the line, but are there other consequences? For
example, can Sinclair affect how many people vote and who they vote for?&lt;/p&gt;
&lt;p&gt;These are the questions I'll try to answer below; hopefully you'll stay along for the ride.&lt;/p&gt;
&lt;div class="section" id="the-general-plan"&gt;
&lt;h3&gt;The General Plan&lt;/h3&gt;
&lt;p&gt;We've known for a while that media plays a pretty large role in affecting political views&lt;a class="footnote-reference" href="#id16" id="id3"&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;&lt;a class="footnote-reference" href="#id17" id="id4"&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;
(with the notable exception of social media, which doesn't seem to change political views as much as
affirm existing ones&lt;a class="footnote-reference" href="#id18" id="id5"&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;&lt;a class="footnote-reference" href="#id19" id="id6"&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;). However, controlled studies measuring exactly &lt;em&gt;how much&lt;/em&gt; a specific
medium can shift votes are few and far in between.&lt;/p&gt;
&lt;p&gt;This is where the Sinclair Broadcast Group comes in. The fact that Sinclair does not broadcast its
&lt;em&gt;must runs&lt;/em&gt; to every location in the United States, only to locations where they have a nearby TV
station, means that the company is fundamentally a nationwide natural experiment and that teasing
out the information we want is, in theory, pretty simple. We just need to follow these steps:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Find all pairs of counties in the US where one county has never had access to Sinclair
programming but the second one has. We use counties as our standard unit of measurement because
we want to be as fine-grained as possible while still having access to complete voting data.&lt;/li&gt;
&lt;li&gt;Out of all those county pairs, we keep only the ones that were politically similar &lt;em&gt;before&lt;/em&gt;
Sinclair acquired a station in the area. I'll define what &amp;quot;politically similar&amp;quot; means formally
later on, but we basically want to look for counties that have similar demographics and voting
records.&lt;/li&gt;
&lt;li&gt;Look at the voting patterns of the two counties &lt;em&gt;after&lt;/em&gt; Sinclair buys a TV station in one of
them and test to see if the voting patterns begin to differ (and if they do, by how much).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ok, you got me, these steps aren't that simple. However, using this approach should get us some
strong evidence either for or against Sinclair and their effect on American politics. Also, I'll
be doing all the work, so no complaining!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="some-background-information-on-sinclair"&gt;
&lt;h3&gt;Some Background Information on Sinclair&lt;/h3&gt;
&lt;p&gt;Before we take on the daunting task of trying to measure &amp;quot;political similarity&amp;quot; (step &lt;strong&gt;2&lt;/strong&gt; above),
we need to get a better look at the Sinclair Broadcast Group itself; specifically, we want to know
both &lt;em&gt;where&lt;/em&gt; its stations are located as well as &lt;em&gt;when&lt;/em&gt; Sinclair built/acquired each station. I'll
make exploring this (step &lt;strong&gt;1&lt;/strong&gt;) the focus of the rest of this post.&lt;/p&gt;
&lt;div class="section" id="so-how-many-tv-stations-does-sinclair-own"&gt;
&lt;h4&gt;So, How Many TV Stations Does Sinclair Own?&lt;/h4&gt;
&lt;p&gt;That's easy, the answer is 173&lt;a class="footnote-reference" href="#id20" id="id7"&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;! Erm, no wait, 285&lt;a class="footnote-reference" href="#id21" id="id8"&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt;? Maybe 139&lt;a class="footnote-reference" href="#id22" id="id9"&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;As it turns out, even this seemingly simple question is a bit tough to answer. For example, consider
the TV stations WTTO and WBDD, both located in Alabama. Since Sinclair acquired the stations in
1995, WBDD has broadcast (mostly) the same content as WTTO. In TV jargon, WBDD is called a
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Broadcast_relay_station#Satellite_stations"&gt;satellite station&lt;/a&gt; of WTTO. Should we count these two as separate stations?&lt;/p&gt;
&lt;p&gt;Moreover, what about stations that Tribune Media currently owns, but that Sinclair is in the process
of buying? Should we count those?&lt;/p&gt;
&lt;p&gt;Then there's also the problem of &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Local_marketing_agreement"&gt;local marketing agreements&lt;/a&gt;, which allow one entity to own a
station, but another to operate it (choose the programming). How should we count these?&lt;/p&gt;
&lt;p&gt;Luckily for us, Wikipedia already filtered these options for us. According to the data found there,
173 stations is the correct number. This number double counts satellite stations (so WBDD and WTTO
count as two separate stations), does not include stations that Tribune Media currently owns, and
counts &amp;quot;ownership&amp;quot; as who gets to decide the programming in a station.&lt;/p&gt;
&lt;p&gt;With the technicalities out of the way, let's jump right to the data! The graph below shows how
Sinclair has grown since Julian Sinclair Smith founded the company in 1971:&lt;/p&gt;
&lt;img alt="Whoops, something went wrong when fetching this png image." class="align-center" src="images/Sinclair_Growth.png" style="width: 80%;" /&gt;
&lt;p&gt;Nothing too surprising here; we knew that Sinclair Broadcast was a successful group, so we expected
a general upward trend in growth. In my opinion, the really interesting aspect of this graph is how
well it explains the history of Sinclair, with large growth spikes occurring when the company goes
on a buying spree and dips during financial trouble. Look at the following summary and see if you
can spot the effects of major events:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;strong&gt;1971:&lt;/strong&gt; Julian Sinclair Smith establishes the company as the Chesapeake Television Corporation
with one TV station.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1980:&lt;/strong&gt; Smith's son David Smith begins taking a more active role in the company.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1985:&lt;/strong&gt; The company changes its name to the Sinclair Broadcast Group.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1990:&lt;/strong&gt; David Smith, along with his three brothers, buy their parents' stock and take control of
the company.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1991:&lt;/strong&gt; The company pioneers the concept of a local marketing agreement for TV broadcasting
(it's been done before in radio broadcasting). This tool later becomes a large part of their
business strategy.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1994:&lt;/strong&gt; Sinclair acquires &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Act_III_Broadcasting"&gt;Act III Broadcasting&lt;/a&gt; and its 8 stations.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1997:&lt;/strong&gt; Sinclair merges with &lt;a class="reference external" href="https://en.wikipedia.org/wiki/River_City_Broadcasting"&gt;River City Broadcasting&lt;/a&gt;, gaining 6 stations.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1998:&lt;/strong&gt; Sinclair acquires &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Guy_Gannett_Communications"&gt;Guy Gannett Communications&lt;/a&gt; and its 6 stations.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2007:&lt;/strong&gt; The financial crisis hits and Sinclair stops its expansion, actually selling off some
stations.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2009:&lt;/strong&gt; The company almost files for Chapter 11 Bankruptcy in July.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2011:&lt;/strong&gt; Sinclair seemingly recovers and acquires &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Four_Points_Media_Group"&gt;Four Points Media Group&lt;/a&gt; along with 6 of its
stations.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2012:&lt;/strong&gt; Sinclair acquires both &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Freedom_Communications"&gt;Freedom Communications&lt;/a&gt; (7 stations) and &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Newport_Television"&gt;Newport Television&lt;/a&gt;
(8 stations).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2013:&lt;/strong&gt; Sinclair acquires both &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Barrington_Broadcasting"&gt;Barrington Broadcasting&lt;/a&gt; (15 stations) and
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Fisher_Communications"&gt;Fisher Communications&lt;/a&gt; (17 stations).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2014:&lt;/strong&gt; Sinclair acquires &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Allbritton_Communications"&gt;Allbritton Communications&lt;/a&gt; (6 stations).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2017:&lt;/strong&gt; Sinclair files for acquisition of Tribune Media.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The animation below reiterates this history, but gives a more complete view of the company's growth.
We see not only &lt;em&gt;when&lt;/em&gt; Sinclair made acquisitions, but &lt;em&gt;where&lt;/em&gt; these new stations were. From this,
we can also track the 40 year long expansion from the Eastern seaboard to the Western one. (Manifest
Destiny, anyone?)&lt;/p&gt;
&lt;img alt="Whoops, something went wrong when fetching this gif." class="align-center" src="images/Sinclair_Stations.gif" /&gt;
&lt;p&gt;A quick note: in the map above, you probably noticed that I've included transmitter power as part of
the data. This number basically corresponds to how large any particular station is. Originally, I
thought that using this information would give me a good idea of how far the programming of each station reaches, knowledge that we'll need in the future, so that we can compare which counties in the US have access to Sinclair programming and which don't. For vairous reasons, this turned out to be a naive assumption&lt;a class="footnote-reference" href="#id23" id="id10"&gt;&lt;sup&gt;10&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So now we hit a roadblock. If transmitter power gave us inaccurate forecasts about which locations
have access to which stations, what else can we try? For our plan to work, we need to know which
locations have access to which stations. Luckily people have already figured this out: TV markets!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="television-has-markets"&gt;
&lt;h4&gt;Television Has Markets?&lt;/h4&gt;
&lt;p&gt;Ok, admittedly, this question can go straight into the &amp;quot;well duh&amp;quot; category. Any company worth their
stock price would want to find out which places they should market to and which demographics they
should target; why would TV be any different? And the granddaddy of all research on TV, radio, and
internet? &lt;a class="reference external" href="http://www.nielsen.com/us/en.html"&gt;Nielsen&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Nielsen collects data on media audiences. These include newspapers, television, radio, and films.
If you've ever had a favorite TV show cancelled because of low ratings, you can probably blame the
&lt;a class="reference external" href="https://www.forbes.com/sites/seamuskirst/2015/12/18/what-are-nielsen-ratings-and-how-are-they-calculated/#1fbd1fa656e0"&gt;Nielsen ratings system&lt;/a&gt; which &amp;quot;has been the deciding factor in cancelling or renewing television
shows by television networks for years&amp;quot;&lt;a class="footnote-reference" href="#id24" id="id11"&gt;&lt;sup&gt;11&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Another product the company famously provides: &lt;em&gt;Designated Market Areas&lt;/em&gt; or DMAs. These areas divide
the United States into jigsaw-like pieces that allow marketers or researchers to organize TV
viewership geographically. Since having a blog automatically qualifies me as a veteran researcher,
I'll be using these marketing regions to quantify all that Sinclair growth we've talked about in
the last few sections.&lt;/p&gt;
&lt;p&gt;So here they are, in all their glory; how media moguls (at least the TV ones) see the United States&lt;a class="footnote-reference" href="#id25" id="id12"&gt;&lt;sup&gt;12&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class="d3-visual"&gt;&lt;/div&gt;&lt;p&gt;The visualization above holds information about each DMA (just hover over it with your mouse). This
includes the name, the number of homes with TVs, the percentage of homes with cable, the population
as a percentage of the US total, and rank according to Nielsen.&lt;/p&gt;
&lt;p&gt;We can combine our previous results about Sinclair stations with this population data to get a
better view of the market share that Sinclair has in the US. The way we do this is by first seeing
where Sinclair has TV stations (we already know this). We then look up which market goes with each
station. Finally we make the assumption that each station can broadcast to it's entire market (as
far as I can tell, this is standard) and count the population.&lt;/p&gt;
&lt;p&gt;Voilà! We now know the percentage of the US population that has access to Sincliar programming&lt;a class="footnote-reference" href="#id26" id="id13"&gt;&lt;sup&gt;13&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;img alt="Whoops, something went wrong when fetchin this png." class="align-center" src="images/Sinclair_Viewership.png" style="width: 80%;" /&gt;
&lt;p&gt;In case you're wondering, the graph peaks at 36.287% in 2014 and is currently at 35.494%. In
addition to this graph, we can once again take a look at which markets Sinclair operates in by using
an animated map.&lt;/p&gt;
&lt;img alt="Whoops, something went wrong when fetching this gif." class="align-center" src="images/Sinclair_DMAs.gif" /&gt;
&lt;p&gt;If the last two graphs about DMAs look similar to the earlier graphs describing stations, it's
because they are. This points to the fact that Sinclair doesn't just buy stations nilly-willy; they
make most purchases in new markets, so as to expand their viewing audience as much as possible.&lt;/p&gt;
&lt;p&gt;It also reflects the fact that the Federal Communications Commission (FCC) actually has rules in
place for regulating television broadcasts. That's right ...&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="television-has-rules"&gt;
&lt;h4&gt;Television Has Rules?&lt;/h4&gt;
&lt;p&gt;Yes, and they're more involved than &amp;quot;Don't shout obscenities during a broadcast&amp;quot;.&lt;/p&gt;
&lt;p&gt;You may be interested in learning that the FCC, in addition to licensing broadcast rights to TV
stations, has a &lt;a class="reference external" href="https://www.fcc.gov/consumers/guides/fccs-review-broadcast-ownership-rules"&gt;law prohibiting duopolies&lt;/a&gt; within a single market. This rule historically exists
on the premise that owning two (or more) stations in the same region gives too much influence to
one company. This rule also helps explain &lt;em&gt;some&lt;/em&gt; of the correlation between stations and markets we
saw above; Sinclair usually wants to buy new stations in new markets to avoid fines and lawsuits.&lt;/p&gt;
&lt;p&gt;Of course, station owners have long since figured out loopholes in the law through local marketing
agreements, in effect creating virtual duopolies. In addition, in 2002, the FCC voted to
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Duopoly_(broadcasting)"&gt;allow duopolies&lt;/a&gt; under certain criteria, so the rule is not a strong as it initially appears.&lt;/p&gt;
&lt;p&gt;The FCC also sets a ceiling on the total number of households a single station group (like Sinclair)
broadcasts to. This number? 39% of all US households. With about 35%, it seems Sinclair is set to
soon reach this maximum.&lt;/p&gt;
&lt;p&gt;Except they're not, because of something known as the Ultra High Frequency (UHF) Discount. I can go
into this in more detail, but it's not actually necessary for our ultimate goal, just something I
came across in my research. For those interested, &lt;a class="reference external" href="https://www.bloomberg.com/news/articles/2017-05-07/sinclair-said-close-to-buying-tribune-for-about-45-a-share"&gt;here's a good article&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="up-next"&gt;
&lt;h3&gt;Up Next&lt;/h3&gt;
&lt;p&gt;Now that we know &lt;em&gt;where&lt;/em&gt; and &lt;em&gt;when&lt;/em&gt; the Sinclair Broadcast Group acquired its holdings, we've
essentially fulfilled step &lt;strong&gt;1&lt;/strong&gt; above. Technically, I haven't looked at county data yet, but as
it turns out, the DMAs we talked about align very nicely with county boundaries. We just need to
connect each DMA with the counties it contains.&lt;/p&gt;
&lt;p&gt;Up next, we'll look at different measures of political sentiment and political polarization across
all 3000 counties in the USA and attempt to assign similarity ratings to each pair.&lt;/p&gt;
&lt;/div&gt;
&lt;hr class="docutils" /&gt;
&lt;div class="section" id="resources"&gt;
&lt;h3&gt;Resources&lt;/h3&gt;
&lt;p&gt;The data and code used in this post can be found in &lt;a class="reference external" href="https://github.com/theMimsy/Blog---Sinclair-Broadcast-Group"&gt;this GitHub repo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I created two annotated JUPYTER &lt;strong&gt;R&lt;/strong&gt; notebooks describing how I got and created the graphs here:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="sinclair-station-exploration.html"&gt;Sinclair Station Exploration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="sinclair-dma-exploration.html"&gt;Sinclair DMA Exploration&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="footnotes"&gt;
&lt;h4&gt;Footnotes&lt;/h4&gt;
&lt;table class="docutils footnote" frame="void" id="id14" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;You can find the full marketing report for these statistics from &lt;a class="reference external" href="http://www.marketingcharts.com/featured-24817"&gt;Marketing Charts&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id15" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id2"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Here's &lt;a class="reference external" href="https://www.youtube.com/watch?v=GvtNyOzGogc"&gt;the segment&lt;/a&gt;, for those wanting to see it themselves.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id16" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[3]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Here's a general overview of how the media can affect politcs by the &lt;a class="reference external" href="http://journalism.uoregon.edu/news/six-ways-media-influences-elections/"&gt;University of Oregon&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id17" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id4"&gt;[4]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;For those interested, here's a &lt;a class="reference external" href="https://www.washingtonpost.com/news/monkey-cage/wp/2016/06/24/a-deep-dive-into-the-news-medias-role-in-the-rise-of-donald-j-trump/?utm_term=.17f7bd101845"&gt;Washington Post&lt;/a&gt; breakdown of how media coverage affected
the 2016 presidential election.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id18" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id5"&gt;[5]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;There exist a few papers that tested this rigorously. The most influential seem to be
&lt;a class="reference external" href="http://www.nber.org/papers/w15916"&gt;Ideological Segregation Online and Offline&lt;/a&gt; and &lt;a class="reference external" href="http://www.nber.org/papers/w20681"&gt;Evidence from Twitter&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id19" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id6"&gt;[6]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Curiously, a new paper emerged recently that seems to say that social media doesn't account
for &lt;em&gt;all&lt;/em&gt; recent polarization, so other culprits might be print news and TV (my speculation).
Here's an overview from &lt;a class="reference external" href="https://www.nytimes.com/2017/04/13/us/political-polarization-internet.html"&gt;The New York Times&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id20" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id7"&gt;[7]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;According to the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/List_of_stations_owned_or_operated_by_Sinclair_Broadcast_Group"&gt;Wikipedia page on Sinclair stations&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id21" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id8"&gt;[8]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;According to a site called &lt;a class="reference external" href="http://rabbitears.info/search.php?request=owner_search&amp;amp;owner=Sinclair&amp;amp;sort=state"&gt;RabbitEars&lt;/a&gt;. I only found out about this site after writing the
majority of this article, but these guys have some serious data on all stations in the US.  They
have location, tower height, tower power, tower coverage and contour, population served, video
quality (720i, 480i, etc), and even the exact dielectrics used in the transmitters.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id22" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id9"&gt;[9]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;So say the &lt;a class="reference external" href="http://www.latimes.com/business/hollywood/la-fi-ct-tribune-sinclair-20170508-story.html"&gt;LA Times&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id23" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id10"&gt;[10]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;There are many reasons why you wouldn't be able to accurately look at the reach of a station
using only transmitter power. Geographic features are one reason; broadcasts have a hard time
going over mountains. Air temperature and quality are another. Then there's the fact that some
transmitters use beamforming to transmitt signals in particular directions. For example, the TV
station KCVU in Paradise CA uses most of it's power to transmitt only North (where the majority
of the population resides):&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;img alt="Whoops, something went wrong when fetching this image." class="align-center" src="images/KCVU_Power.png" style="width: 25%;" /&gt;
&lt;table class="docutils footnote" frame="void" id="id24" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id11"&gt;[11]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;I got the last part of this sentence verbatim from the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Nielsen_Media_Research"&gt;Nielsen Wikipedia page&lt;/a&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id25" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id12"&gt;[12]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;I took the bulk of the code here from &lt;a class="reference external" href="http://bl.ocks.org/simzou/6459889"&gt;Simon Zou's Github page&lt;/a&gt;. Since his code uses old
Nielsen data, I first updated it from the newest (2017) rankings on &lt;a class="reference external" href="https://www.tvb.org/Default.aspx?TabID=1579"&gt;TVB&lt;/a&gt;. I then tweaked the
some aesthetics to make it conform to this blog page.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id26" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id13"&gt;[13]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;I confess, this chart isn't 100% accurate. I used population percentages from 2017 in &lt;em&gt;all&lt;/em&gt;
the years on the chart. This isn't a big deal because most cities stayed roughly where they always
were (Chicago, for example, was about 3% of the population since the 1970s), but there can be
discreptencies.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="sinclair"></category><category term="last week tonight"></category></entry><entry><title>Sinclair Station Exploration</title><link href="/sinclair-station-exploration.html" rel="alternate"></link><published>2017-08-30T12:00:00-07:00</published><updated>2017-08-30T12:00:00-07:00</updated><author><name>Dawid Minorczyk</name></author><id>tag:None,2017-08-30:/sinclair-station-exploration.html</id><summary type="html">&lt;p&gt;A step-by-step guide through my analysis of Sinclair Broadcast Group stations.&lt;/p&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;You can find the main story that goes with the code developed below &lt;a href="http://mimsy.io/sinclair_1_3.html"&gt;right here&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="Sinclair-Station-Exploration"&gt;Sinclair Station Exploration&lt;a class="anchor-link" href="#Sinclair-Station-Exploration"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;In this JUPYTER notebook, we'll be cleaning and analyzing a small dataset scraped from Wikipedia. This dataset contains information about stations owned by the Sinclair Broadcasting Group, how these stations are spread throughout the United States, and how this distribution has changed over time.&lt;/p&gt;
&lt;p&gt;For the remainder of this notebook, I'll assume that the current working directory is a clone of &lt;a href="https://github.com/theMimsy/Blog---Sinclair-Broadcast-Group"&gt;this github repo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To analyze this data, we'll first load some libraries that we'll need throughout the notebook. These include libraries for basic join/merge commands as well as mapping and plotting libraries for producing our final visualizations.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dplyr&lt;/code&gt;: Used for &lt;code&gt;group_by()&lt;/code&gt;, &lt;code&gt;filter()&lt;/code&gt;, &lt;code&gt;summarize()&lt;/code&gt;, and &lt;code&gt;mutate()&lt;/code&gt; functions.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;maps&lt;/code&gt;: A very simple R library containing outlines of the USA and USA states. Although we won't be using these, this library also contains world maps, locations of large US cities, and the locations of large world cities.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ggplot2&lt;/code&gt;: A flexible plotting tool that generates graphics using a &lt;a href="http://byrneslab.net/classes/biol607/readings/wickham_layered-grammar.pdf"&gt;layered grammar of graphics&lt;/a&gt;. If you want to know more, I'd recommend spending a bit of time reading through chapters 1 and 2 in &lt;a href="http://ms.mcmaster.ca/~bolker/misc/ggplot2-book.pdf"&gt;Hadley Wickham's ggplot2 book&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RColorBrewer&lt;/code&gt;: Pretty colors for our graphs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Load up some libraries&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dplyr&lt;span class="p"&gt;,&lt;/span&gt; warn.conflicts &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;maps&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;ggplot2&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;RColorBrewer&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="The-Scraped-Data"&gt;The Scraped Data&lt;a class="anchor-link" href="#The-Scraped-Data"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;All of the custom data we will be working with for this notebook exists under the &lt;code&gt;Scraper/sinclair_stations.csv&lt;/code&gt; and &lt;code&gt;Scraper/sinclair_stations_previous.csv&lt;/code&gt; files. I collected this data from the following URL:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/List_of_stations_owned_or_operated_by_Sinclair_Broadcast_Group"&gt;Sinclair Group Stations&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A quick disclaimer: I scraped &lt;em&gt;some&lt;/em&gt; of the data (the columns labeled &lt;code&gt;Location&lt;/code&gt; and &lt;code&gt;Power&lt;/code&gt;) by following links present in the original URL, not from the actual page itself. To see the (admittedly incomplete) module/script used to extract the data, have a look-see at &lt;code&gt;Scraper/scrape_wiki.py&lt;/code&gt; and &lt;code&gt;Scraper/wikitable.py&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;For the first part of this notebook, we'll be exploring and cleaning the data present in the two csvs mentioned above. &lt;code&gt;sinclair_stations.csv&lt;/code&gt; contains information on all stations &lt;em&gt;currently&lt;/em&gt; owned or operated by Sinclair. This is in contrast to &lt;code&gt;sinclair_stations_previous.csv&lt;/code&gt; which contains information on stations that were &lt;em&gt;previously&lt;/em&gt; owned or operated by Sinclair but are now under different management.&lt;/p&gt;
&lt;h4 id="Cleaning-up-the-Data"&gt;Cleaning up the Data&lt;a class="anchor-link" href="#Cleaning-up-the-Data"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Now that we have a little bit of information on what's to come, lets load up both of these csv files into R, clean them up a bit, and create some nice visualizations.&lt;/p&gt;
&lt;p&gt;First up, we have &lt;code&gt;sinclair_stations.csv&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_station_path &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"Scraper/sinclair_stations.csv"&lt;/span&gt;
sinclair_station_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; read.csv&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_path&lt;span class="p"&gt;,&lt;/span&gt; stringsAsFactors &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_station_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_df&lt;span class="p"&gt;[,&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;11&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Channel.RF.&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power&lt;/th&gt;&lt;th scope="col"&gt;Location&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WTTO                                  &lt;/td&gt;&lt;td&gt;21 (28)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;765 kW                                &lt;/td&gt;&lt;td&gt;33.484583; -86.807083                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80708                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WABM                                  &lt;/td&gt;&lt;td&gt;68 (36)                               &lt;/td&gt;&lt;td&gt;2001                                  &lt;/td&gt;&lt;td&gt;885 kW                                &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WDBB                                  &lt;/td&gt;&lt;td&gt;17 (18)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                              &lt;/td&gt;&lt;td&gt;       NA                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WBMA-LD                               &lt;/td&gt;&lt;td&gt;58 (40)                               &lt;/td&gt;&lt;td&gt;2014                                  &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;See table below                       &lt;/td&gt;&lt;td&gt;      NA                              &lt;/td&gt;&lt;td&gt;       NA                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WEAR-TV                                                                           &lt;/td&gt;&lt;td&gt;3 (17)                                                                            &lt;/td&gt;&lt;td&gt;1997                                                                              &lt;/td&gt;&lt;td&gt;1,000 kW                                                                          &lt;/td&gt;&lt;td&gt;30.612611; -87.644889                                                             &lt;/td&gt;&lt;td&gt;30.61261                                                                          &lt;/td&gt;&lt;td&gt;-87.64489                                                                         &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WPMI-TV                                                                           &lt;/td&gt;&lt;td&gt;15 (15)                                                                           &lt;/td&gt;&lt;td&gt;2012                                                                              &lt;/td&gt;&lt;td&gt;1000 kW                                                                           &lt;/td&gt;&lt;td&gt;30.61139; -87.607333                                                              &lt;/td&gt;&lt;td&gt;30.61139                                                                          &lt;/td&gt;&lt;td&gt;-87.60733                                                                         &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;There are a couple of things to notice in the code and results above.&lt;/p&gt;
&lt;p&gt;First, I specifically skipped over columns 5-8 when reading the csv. These columns contain information on the DT affiliations (FOX, CBS, NBC, etc.) of each station that I thought might be useful in future research but that are not going to be useful to us today.&lt;/p&gt;
&lt;p&gt;Second, some rows are missing information under the &lt;code&gt;Location&lt;/code&gt; and &lt;code&gt;Power&lt;/code&gt; columns. Missing information occured because of two reasons: the information was actually missing (station WDBB), or the information was moved to a non-standard location on the wikipedia page (this is the case for station WBMA-LD). Instead of shaming me on creating a bad web-scraper, lets just manually fill in the stations that I originally missed.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Columns to fill and column to select by&lt;/span&gt;
fill_cols &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Power"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Location"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Latitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Longitude"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
select_col &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Station

&lt;span class="c1"&gt;# Manual labor :(&lt;/span&gt;
sinclair_station_df&lt;span class="p"&gt;[&lt;/span&gt;select_col &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;"WBMA-LD"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; fill_cols&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"885 kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"33.484583; -86.807056"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;33.484583&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;-86.807056&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_station_df&lt;span class="p"&gt;[&lt;/span&gt;select_col &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;"WWHB-CA"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; fill_cols&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"27.025222; -80.178528"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;27.025222&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;-80.178528&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_station_df&lt;span class="p"&gt;[&lt;/span&gt;select_col &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;"KECI-TV"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; fill_cols&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"30 kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"47.017250; -114.014056"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;47.017250&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;-114.014056&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_station_df&lt;span class="p"&gt;[&lt;/span&gt;select_col &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;"KCFW-TV"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; fill_cols&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"2.5 kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"48.01333; -114.36639"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;48.01333&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;-114.36639&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_station_df&lt;span class="p"&gt;[&lt;/span&gt;select_col &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;"KTVM-TV"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; fill_cols&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"11.2 kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"46.00750; -112.44250"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;46.00750&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;-112.44250&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_station_df&lt;span class="p"&gt;[&lt;/span&gt;select_col &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;"KDBZ-CD"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; fill_cols&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"15 kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"45.67333; -110.86722"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;45.67333&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;-110.86722&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Make sure that Latitude and Longitude are still numeric columns&lt;/span&gt;
sinclair_station_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Latitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Longitude"&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;sapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    sinclair_station_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Latitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Longitude"&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt; &lt;span class="kp"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Channel.RF.&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power&lt;/th&gt;&lt;th scope="col"&gt;Location&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WTTO                                  &lt;/td&gt;&lt;td&gt;21 (28)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;765 kW                                &lt;/td&gt;&lt;td&gt;33.484583; -86.807083                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80708                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WABM                                  &lt;/td&gt;&lt;td&gt;68 (36)                               &lt;/td&gt;&lt;td&gt;2001                                  &lt;/td&gt;&lt;td&gt;885 kW                                &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WDBB                                  &lt;/td&gt;&lt;td&gt;17 (18)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                              &lt;/td&gt;&lt;td&gt;       NA                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WBMA-LD                               &lt;/td&gt;&lt;td&gt;58 (40)                               &lt;/td&gt;&lt;td&gt;2014                                  &lt;/td&gt;&lt;td&gt;885 kW                                &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WEAR-TV                                                                           &lt;/td&gt;&lt;td&gt;3 (17)                                                                            &lt;/td&gt;&lt;td&gt;1997                                                                              &lt;/td&gt;&lt;td&gt;1,000 kW                                                                          &lt;/td&gt;&lt;td&gt;30.612611; -87.644889                                                             &lt;/td&gt;&lt;td&gt;30.61261                                                                          &lt;/td&gt;&lt;td&gt;-87.64489                                                                         &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WPMI-TV                                                                           &lt;/td&gt;&lt;td&gt;15 (15)                                                                           &lt;/td&gt;&lt;td&gt;2012                                                                              &lt;/td&gt;&lt;td&gt;1000 kW                                                                           &lt;/td&gt;&lt;td&gt;30.61139; -87.607333                                                              &lt;/td&gt;&lt;td&gt;30.61139                                                                          &lt;/td&gt;&lt;td&gt;-87.60733                                                                         &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;This looks better but we still have some missing data. How much?&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;total &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;nrow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="p"&gt;)&lt;/span&gt;
missing_power &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Power&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Power &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
missing_location &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Location&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Location &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kp"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Missing Power   "&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; missing_power&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"/"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; total&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="kp"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Missing Location"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; missing_location&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"/"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; total&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[1] "Missing Power    22 / 190"
[1] "Missing Location 25 / 190"
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;While it might seem alarming that we're missing more than 10% of our data, after looking into the missing values I found that most corresponded to satellite versions of stations that do &lt;em&gt;not&lt;/em&gt; have missing values. For example, the station WDBB (which has missing values) is just a satellite version of the station WTTO (which does not have missing values). With this in mind, we safely ignore the missing values and continue the analysis.&lt;/p&gt;
&lt;p&gt;One last bit of cleanup work to do for our first csv file: we need to convert the &lt;code&gt;Power&lt;/code&gt; column from character to numeric values. While its informative that we have units for each station/transmitter, it would be a lot more useful to just have this as a numeric column. We can put the units in the column name.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Power &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;" kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Power&lt;span class="p"&gt;)&lt;/span&gt;   &lt;span class="c1"&gt;# Remove units&lt;/span&gt;
sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Power &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;","&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Power&lt;span class="p"&gt;)&lt;/span&gt;     &lt;span class="c1"&gt;# Remove commas&lt;/span&gt;
sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Power &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Power&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="c1"&gt;# Convert to numeric values&lt;/span&gt;
&lt;span class="kp"&gt;colnames&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"Power.kW"&lt;/span&gt;  &lt;span class="c1"&gt;# Change column name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Don't worry, I made sure all of the rows were given in "kW" so I didn't have to check for other units like "MW" or "W".&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Channel.RF.&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power.kW&lt;/th&gt;&lt;th scope="col"&gt;Location&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WTTO                                  &lt;/td&gt;&lt;td&gt;21 (28)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt; 765                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807083                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80708                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WABM                                  &lt;/td&gt;&lt;td&gt;68 (36)                               &lt;/td&gt;&lt;td&gt;2001                                  &lt;/td&gt;&lt;td&gt; 885                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WDBB                                  &lt;/td&gt;&lt;td&gt;17 (18)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;  NA                                  &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                              &lt;/td&gt;&lt;td&gt;       NA                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WBMA-LD                               &lt;/td&gt;&lt;td&gt;58 (40)                               &lt;/td&gt;&lt;td&gt;2014                                  &lt;/td&gt;&lt;td&gt; 885                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WEAR-TV                                                                           &lt;/td&gt;&lt;td&gt;3 (17)                                                                            &lt;/td&gt;&lt;td&gt;1997                                                                              &lt;/td&gt;&lt;td&gt;1000                                                                              &lt;/td&gt;&lt;td&gt;30.612611; -87.644889                                                             &lt;/td&gt;&lt;td&gt;30.61261                                                                          &lt;/td&gt;&lt;td&gt;-87.64489                                                                         &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WPMI-TV                                                                           &lt;/td&gt;&lt;td&gt;15 (15)                                                                           &lt;/td&gt;&lt;td&gt;2012                                                                              &lt;/td&gt;&lt;td&gt;1000                                                                              &lt;/td&gt;&lt;td&gt;30.61139; -87.607333                                                              &lt;/td&gt;&lt;td&gt;30.61139                                                                          &lt;/td&gt;&lt;td&gt;-87.60733                                                                         &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Now, let's move onto cleaning up the second csv file &lt;code&gt;sinclair_stations_previous.csv&lt;/code&gt;. This file basically contains the same information as the first, except that the &lt;code&gt;Year&lt;/code&gt; column is now a character column with two dates: the start date and the end date.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_station_prev_path &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"Scraper/sinclair_stations_previous.csv"&lt;/span&gt;
sinclair_station_prev_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; read.csv&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_prev_path&lt;span class="p"&gt;,&lt;/span&gt; stringsAsFactors &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_station_prev_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_prev_df&lt;span class="p"&gt;[,&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_prev_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Channel.RF.&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power&lt;/th&gt;&lt;th scope="col"&gt;Location&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Anniston, AL                 &lt;/td&gt;&lt;td&gt;WJSU-TV                      &lt;/td&gt;&lt;td&gt;40 (9)                       &lt;/td&gt;&lt;td&gt;2014-2015                    &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                     &lt;/td&gt;&lt;td&gt;        NA                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Tuscaloosa, AL               &lt;/td&gt;&lt;td&gt;WCFT-TV                      &lt;/td&gt;&lt;td&gt;33 (33)                      &lt;/td&gt;&lt;td&gt;2014-2015                    &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                     &lt;/td&gt;&lt;td&gt;        NA                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Stockton - Sacramento, CA    &lt;/td&gt;&lt;td&gt;KOVR                         &lt;/td&gt;&lt;td&gt;13 (25)                      &lt;/td&gt;&lt;td&gt;1997-2005                    &lt;/td&gt;&lt;td&gt;1,000 kW                     &lt;/td&gt;&lt;td&gt;38.24000; -121.50083         &lt;/td&gt;&lt;td&gt;38.24000                     &lt;/td&gt;&lt;td&gt;-121.50083                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Colorado Springs - Pueblo, CO&lt;/td&gt;&lt;td&gt;KXRM-TV                      &lt;/td&gt;&lt;td&gt;21 (22)                      &lt;/td&gt;&lt;td&gt;2013-2014                    &lt;/td&gt;&lt;td&gt;51 kW                        &lt;/td&gt;&lt;td&gt;38.745389; -104.860889       &lt;/td&gt;&lt;td&gt;38.74539                     &lt;/td&gt;&lt;td&gt;-104.86089                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Colorado Springs - Pueblo, CO&lt;/td&gt;&lt;td&gt;KXTU-LD                      &lt;/td&gt;&lt;td&gt;57 (20)                      &lt;/td&gt;&lt;td&gt;2013-2014                    &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                     &lt;/td&gt;&lt;td&gt;        NA                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;St. Petersburg - Tampa       &lt;/td&gt;&lt;td&gt;WTTA                         &lt;/td&gt;&lt;td&gt;38 (32)                      &lt;/td&gt;&lt;td&gt;1991-2014                    &lt;/td&gt;&lt;td&gt;1,000 kW                     &lt;/td&gt;&lt;td&gt;27.84250; -82.262528         &lt;/td&gt;&lt;td&gt;27.84250                     &lt;/td&gt;&lt;td&gt; -82.26253                   &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Good news and bad news.&lt;/p&gt;
&lt;p&gt;Good news: this time around the web-scraper didn't miss any information! All of the missing values you see above actually don't exist on Wikipedia.&lt;/p&gt;
&lt;p&gt;Bad news: out of 27 rows of data, 7 of them have missing &lt;code&gt;Location&lt;/code&gt; and &lt;code&gt;Power&lt;/code&gt; information. Since I will be combining this dataset with the previous one, this missing data isn't the end of the world, but it may be worth it to independently chase it down if someone has time.&lt;/p&gt;
&lt;p&gt;Now, we will do the same &lt;code&gt;Power&lt;/code&gt; transformation that we did on the previous file.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Power &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;" kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Power&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# Remove units&lt;/span&gt;
sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Power &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;","&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Power&lt;span class="p"&gt;)&lt;/span&gt;    &lt;span class="c1"&gt;# Remove commas&lt;/span&gt;
sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Power &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Power&lt;span class="p"&gt;)&lt;/span&gt;      &lt;span class="c1"&gt;# Convert to numeric&lt;/span&gt;
&lt;span class="kp"&gt;colnames&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_prev_df&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"Power.kW"&lt;/span&gt; &lt;span class="c1"&gt;# Change column name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_prev_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Channel.RF.&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power.kW&lt;/th&gt;&lt;th scope="col"&gt;Location&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Anniston, AL                 &lt;/td&gt;&lt;td&gt;WJSU-TV                      &lt;/td&gt;&lt;td&gt;40 (9)                       &lt;/td&gt;&lt;td&gt;2014-2015                    &lt;/td&gt;&lt;td&gt;  NA                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                     &lt;/td&gt;&lt;td&gt;        NA                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Tuscaloosa, AL               &lt;/td&gt;&lt;td&gt;WCFT-TV                      &lt;/td&gt;&lt;td&gt;33 (33)                      &lt;/td&gt;&lt;td&gt;2014-2015                    &lt;/td&gt;&lt;td&gt;  NA                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                     &lt;/td&gt;&lt;td&gt;        NA                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Stockton - Sacramento, CA    &lt;/td&gt;&lt;td&gt;KOVR                         &lt;/td&gt;&lt;td&gt;13 (25)                      &lt;/td&gt;&lt;td&gt;1997-2005                    &lt;/td&gt;&lt;td&gt;1000                         &lt;/td&gt;&lt;td&gt;38.24000; -121.50083         &lt;/td&gt;&lt;td&gt;38.24000                     &lt;/td&gt;&lt;td&gt;-121.50083                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Colorado Springs - Pueblo, CO&lt;/td&gt;&lt;td&gt;KXRM-TV                      &lt;/td&gt;&lt;td&gt;21 (22)                      &lt;/td&gt;&lt;td&gt;2013-2014                    &lt;/td&gt;&lt;td&gt;  51                         &lt;/td&gt;&lt;td&gt;38.745389; -104.860889       &lt;/td&gt;&lt;td&gt;38.74539                     &lt;/td&gt;&lt;td&gt;-104.86089                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Colorado Springs - Pueblo, CO&lt;/td&gt;&lt;td&gt;KXTU-LD                      &lt;/td&gt;&lt;td&gt;57 (20)                      &lt;/td&gt;&lt;td&gt;2013-2014                    &lt;/td&gt;&lt;td&gt;  NA                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                     &lt;/td&gt;&lt;td&gt;        NA                   &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;St. Petersburg - Tampa       &lt;/td&gt;&lt;td&gt;WTTA                         &lt;/td&gt;&lt;td&gt;38 (32)                      &lt;/td&gt;&lt;td&gt;1991-2014                    &lt;/td&gt;&lt;td&gt;1000                         &lt;/td&gt;&lt;td&gt;27.84250; -82.262528         &lt;/td&gt;&lt;td&gt;27.84250                     &lt;/td&gt;&lt;td&gt; -82.26253                   &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;To finish the cleanup, we separate out the start and end dates from the &lt;code&gt;Year&lt;/code&gt; column and split them out into their own. It helps that (almost) every entry is given in &lt;code&gt;&lt;year&gt;-&lt;year&gt;&lt;/code&gt; form; it makes it much easier to extract.&lt;/p&gt;
&lt;p&gt;There are a few entries that only show one year. This implies that Sinclair only owned that station for a single year before selling it. We can handle this by setting the end date equal to the start date.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Separate start and end dates&lt;/span&gt;
sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Year&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# First 4 characters&lt;/span&gt;
sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Year.End &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Year&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# Last 4 characters&lt;/span&gt;

&lt;span class="c1"&gt;# Some stations were only owned for a year so only one piece of data was listed&lt;/span&gt;
&lt;span class="c1"&gt;# Take care of this by creating a mask and copying over the right values&lt;/span&gt;
one_year_mask &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Year.End &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;
sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Year.End&lt;span class="p"&gt;[&lt;/span&gt;one_year_mask&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    sinclair_station_prev_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;[&lt;/span&gt;one_year_mask&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="c1"&gt;# Remember to conver to numeric&lt;/span&gt;
sinclair_station_prev_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Year.Start"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.End"&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; 
    &lt;span class="kp"&gt;sapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_prev_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Year.Start"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.End"&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt; &lt;span class="kp"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_station_prev_df&lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Market"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Station"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Power.kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
      &lt;span class="s"&gt;"Latitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Longitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.Start"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.End"&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power.kW&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Anniston, AL                             &lt;/td&gt;&lt;td&gt;WJSU-TV                                  &lt;/td&gt;&lt;td&gt;2014-2015                                &lt;/td&gt;&lt;td&gt;    NA                                   &lt;/td&gt;&lt;td&gt;      NA                                 &lt;/td&gt;&lt;td&gt;        NA                               &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;td&gt;2015                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Tuscaloosa, AL                           &lt;/td&gt;&lt;td&gt;WCFT-TV                                  &lt;/td&gt;&lt;td&gt;2014-2015                                &lt;/td&gt;&lt;td&gt;    NA                                   &lt;/td&gt;&lt;td&gt;      NA                                 &lt;/td&gt;&lt;td&gt;        NA                               &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;td&gt;2015                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Stockton - Sacramento, CA                &lt;/td&gt;&lt;td&gt;KOVR                                     &lt;/td&gt;&lt;td&gt;1997-2005                                &lt;/td&gt;&lt;td&gt;1000.0                                   &lt;/td&gt;&lt;td&gt;38.24000                                 &lt;/td&gt;&lt;td&gt;-121.50083                               &lt;/td&gt;&lt;td&gt;1997                                     &lt;/td&gt;&lt;td&gt;2005                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Colorado Springs - Pueblo, CO            &lt;/td&gt;&lt;td&gt;KXRM-TV                                  &lt;/td&gt;&lt;td&gt;2013-2014                                &lt;/td&gt;&lt;td&gt;  51.0                                   &lt;/td&gt;&lt;td&gt;38.74539                                 &lt;/td&gt;&lt;td&gt;-104.86089                               &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Colorado Springs - Pueblo, CO            &lt;/td&gt;&lt;td&gt;KXTU-LD                                  &lt;/td&gt;&lt;td&gt;2013-2014                                &lt;/td&gt;&lt;td&gt;    NA                                   &lt;/td&gt;&lt;td&gt;      NA                                 &lt;/td&gt;&lt;td&gt;        NA                               &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;St. Petersburg - Tampa                   &lt;/td&gt;&lt;td&gt;WTTA                                     &lt;/td&gt;&lt;td&gt;1991-2014                                &lt;/td&gt;&lt;td&gt;1000.0                                   &lt;/td&gt;&lt;td&gt;27.84250                                 &lt;/td&gt;&lt;td&gt; -82.26253                               &lt;/td&gt;&lt;td&gt;1991                                     &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Tallahassee, FL - Thomasville, GA        &lt;/td&gt;&lt;td&gt;WTXL-TV                                  &lt;/td&gt;&lt;td&gt;2001-2006                                &lt;/td&gt;&lt;td&gt;1000.0                                   &lt;/td&gt;&lt;td&gt;30.66833                                 &lt;/td&gt;&lt;td&gt; -83.96944                               &lt;/td&gt;&lt;td&gt;2001                                     &lt;/td&gt;&lt;td&gt;2006                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Idaho Falls - Pocatello                  &lt;/td&gt;&lt;td&gt;KIDK                                     &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;td&gt; 200.0                                   &lt;/td&gt;&lt;td&gt;43.49739                                 &lt;/td&gt;&lt;td&gt;-112.66464                               &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Idaho Falls - Pocatello                  &lt;/td&gt;&lt;td&gt;KXPI-LD                                  &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;td&gt;   5.2                                   &lt;/td&gt;&lt;td&gt;42.86611                                 &lt;/td&gt;&lt;td&gt;-112.51333                               &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Bloomington - Indianapolis               &lt;/td&gt;&lt;td&gt;WIIB                                     &lt;/td&gt;&lt;td&gt;1988-1997                                &lt;/td&gt;&lt;td&gt;    NA                                   &lt;/td&gt;&lt;td&gt;      NA                                 &lt;/td&gt;&lt;td&gt;        NA                               &lt;/td&gt;&lt;td&gt;1988                                     &lt;/td&gt;&lt;td&gt;1997                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Bloomington - Indianapolis               &lt;/td&gt;&lt;td&gt;WTTV                                     &lt;/td&gt;&lt;td&gt;1997-2002                                &lt;/td&gt;&lt;td&gt; 870.0                                   &lt;/td&gt;&lt;td&gt;39.40750                                 &lt;/td&gt;&lt;td&gt; -86.14778                               &lt;/td&gt;&lt;td&gt;1997                                     &lt;/td&gt;&lt;td&gt;2002                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Kokomo, Indiana                          &lt;/td&gt;&lt;td&gt;WTTK                                     &lt;/td&gt;&lt;td&gt;1997-2002                                &lt;/td&gt;&lt;td&gt;    NA                                   &lt;/td&gt;&lt;td&gt;      NA                                 &lt;/td&gt;&lt;td&gt;        NA                               &lt;/td&gt;&lt;td&gt;1997                                     &lt;/td&gt;&lt;td&gt;2002                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Springfield - Holyoke, MA                &lt;/td&gt;&lt;td&gt;WGGB-TV                                  &lt;/td&gt;&lt;td&gt;1998-2007                                &lt;/td&gt;&lt;td&gt; 460.0                                   &lt;/td&gt;&lt;td&gt;42.24167                                 &lt;/td&gt;&lt;td&gt; -72.64917                               &lt;/td&gt;&lt;td&gt;1998                                     &lt;/td&gt;&lt;td&gt;2007                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;New Bedford, MA - Providence, RI         &lt;/td&gt;&lt;td&gt;WLWC                                     &lt;/td&gt;&lt;td&gt;2012-2013                                &lt;/td&gt;&lt;td&gt; 350.0                                   &lt;/td&gt;&lt;td&gt;41.77733                                 &lt;/td&gt;&lt;td&gt; -70.92756                               &lt;/td&gt;&lt;td&gt;2012                                     &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Lansing, Michigan                        &lt;/td&gt;&lt;td&gt;WLAJ                                     &lt;/td&gt;&lt;td&gt;2012-2013                                &lt;/td&gt;&lt;td&gt; 483.3                                   &lt;/td&gt;&lt;td&gt;42.42028                                 &lt;/td&gt;&lt;td&gt; -84.52361                               &lt;/td&gt;&lt;td&gt;2012                                     &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Marquette, Michigan                      &lt;/td&gt;&lt;td&gt;WLUC-TV                                  &lt;/td&gt;&lt;td&gt;2013-2016                                &lt;/td&gt;&lt;td&gt;  63.0                                   &lt;/td&gt;&lt;td&gt;46.33683                                 &lt;/td&gt;&lt;td&gt; -87.84908                               &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;td&gt;2016                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Kansas City, Missouri                    &lt;/td&gt;&lt;td&gt;KSMO-TV                                  &lt;/td&gt;&lt;td&gt;1996-2005                                &lt;/td&gt;&lt;td&gt;1000.0                                   &lt;/td&gt;&lt;td&gt;39.09050                                 &lt;/td&gt;&lt;td&gt; -94.47200                               &lt;/td&gt;&lt;td&gt;1996                                     &lt;/td&gt;&lt;td&gt;2005                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Plattsburgh, NY - Burlington, VT         &lt;/td&gt;&lt;td&gt;WPTZ                                     &lt;/td&gt;&lt;td&gt;1997-1998                                &lt;/td&gt;&lt;td&gt; 650.0                                   &lt;/td&gt;&lt;td&gt;44.52556                                 &lt;/td&gt;&lt;td&gt; -72.81556                               &lt;/td&gt;&lt;td&gt;1997                                     &lt;/td&gt;&lt;td&gt;1998                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Syracuse, NY                             &lt;/td&gt;&lt;td&gt;WNYS-TV                                  &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; 680.0                                   &lt;/td&gt;&lt;td&gt;42.88056                                 &lt;/td&gt;&lt;td&gt; -76.20000                               &lt;/td&gt;&lt;td&gt;  NA                                     &lt;/td&gt;&lt;td&gt;  NA                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Syracuse, NY                             &lt;/td&gt;&lt;td&gt;WSYT                                     &lt;/td&gt;&lt;td&gt;1998-2013                                &lt;/td&gt;&lt;td&gt; 621.0                                   &lt;/td&gt;&lt;td&gt;42.88056                                 &lt;/td&gt;&lt;td&gt; -76.20000                               &lt;/td&gt;&lt;td&gt;1998                                     &lt;/td&gt;&lt;td&gt;2013                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Harrisburg - Lancaster - Lebanon - York  &lt;/td&gt;&lt;td&gt;WLYH-TV                                  &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;    NA                                   &lt;/td&gt;&lt;td&gt;      NA                                 &lt;/td&gt;&lt;td&gt;        NA                               &lt;/td&gt;&lt;td&gt;  NA                                     &lt;/td&gt;&lt;td&gt;  NA                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Harrisburg - Lancaster - Lebanon - York  &lt;/td&gt;&lt;td&gt;WHTM-TV                                  &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;td&gt;  16.2                                   &lt;/td&gt;&lt;td&gt;40.31611                                 &lt;/td&gt;&lt;td&gt; -76.95028                               &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Charleston, SC                           &lt;/td&gt;&lt;td&gt;WCIV                                     &lt;/td&gt;&lt;td&gt;2014-2015                                &lt;/td&gt;&lt;td&gt;    NA                                   &lt;/td&gt;&lt;td&gt;      NA                                 &lt;/td&gt;&lt;td&gt;        NA                               &lt;/td&gt;&lt;td&gt;2014                                     &lt;/td&gt;&lt;td&gt;2015                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Greenville, Tennessee (Tri-Cities, TN-VA)&lt;/td&gt;&lt;td&gt;WEMT                                     &lt;/td&gt;&lt;td&gt;2000-2006                                &lt;/td&gt;&lt;td&gt;1000.0                                   &lt;/td&gt;&lt;td&gt;36.44950                                 &lt;/td&gt;&lt;td&gt; -82.10797                               &lt;/td&gt;&lt;td&gt;2000                                     &lt;/td&gt;&lt;td&gt;2006                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Jacksonville - Tyler - Longview, TX      &lt;/td&gt;&lt;td&gt;KETK-TV                                  &lt;/td&gt;&lt;td&gt;1998-2004                                &lt;/td&gt;&lt;td&gt;1000.0                                   &lt;/td&gt;&lt;td&gt;32.06111                                 &lt;/td&gt;&lt;td&gt; -95.31389                               &lt;/td&gt;&lt;td&gt;1998                                     &lt;/td&gt;&lt;td&gt;2004                                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Hartford, VT - Hanover, N.H.             &lt;/td&gt;&lt;td&gt;WNNE                                     &lt;/td&gt;&lt;td&gt;1997-1998                                &lt;/td&gt;&lt;td&gt; 117.0                                   &lt;/td&gt;&lt;td&gt;43.44333                                 &lt;/td&gt;&lt;td&gt; -72.45417                               &lt;/td&gt;&lt;td&gt;1997                                     &lt;/td&gt;&lt;td&gt;1998                                     &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Merging-the-Datasets"&gt;Merging the Datasets&lt;a class="anchor-link" href="#Merging-the-Datasets"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Now that we finished the cleanup of both csv files, we are almost ready to get on to the fun part: analysis! However, our life will be much easier once we start plotting if we first combine both datasets into one large one.&lt;/p&gt;
&lt;p&gt;This is pretty simple to do; we'll just add the &lt;code&gt;Year.Start&lt;/code&gt; and &lt;code&gt;Year.End&lt;/code&gt; columns to the &lt;code&gt;sinclair_stations_df&lt;/code&gt; so that it looks like &lt;code&gt;sinclair_stations_prev_df&lt;/code&gt;. "But the stations in the first dataset don't have end dates!", you say. Well, we can just give all those stations the value &lt;code&gt;NA&lt;/code&gt; for their &lt;code&gt;Year.End&lt;/code&gt; column. It's important to remember that we've done this, however, so that we correctly set the limits on our graphs later.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Add start and end dates to our first dataset&lt;/span&gt;
sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Year
sinclair_station_df&lt;span class="o"&gt;$&lt;/span&gt;Year.End &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kc"&gt;NA&lt;/span&gt;

&lt;span class="c1"&gt;# Concatenate the datasets&lt;/span&gt;
sinclair_station_all_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;rbind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_df&lt;span class="p"&gt;,&lt;/span&gt; sinclair_station_prev_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Channel.RF.&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power.kW&lt;/th&gt;&lt;th scope="col"&gt;Location&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WTTO                                  &lt;/td&gt;&lt;td&gt;21 (28)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt; 765                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807083                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80708                             &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;NA                                    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WABM                                  &lt;/td&gt;&lt;td&gt;68 (36)                               &lt;/td&gt;&lt;td&gt;2001                                  &lt;/td&gt;&lt;td&gt; 885                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;td&gt;2001                                  &lt;/td&gt;&lt;td&gt;NA                                    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WDBB                                  &lt;/td&gt;&lt;td&gt;17 (18)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;  NA                                  &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                              &lt;/td&gt;&lt;td&gt;       NA                             &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;NA                                    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WBMA-LD                               &lt;/td&gt;&lt;td&gt;58 (40)                               &lt;/td&gt;&lt;td&gt;2014                                  &lt;/td&gt;&lt;td&gt; 885                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;td&gt;2014                                  &lt;/td&gt;&lt;td&gt;NA                                    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WEAR-TV                                                                           &lt;/td&gt;&lt;td&gt;3 (17)                                                                            &lt;/td&gt;&lt;td&gt;1997                                                                              &lt;/td&gt;&lt;td&gt;1000                                                                              &lt;/td&gt;&lt;td&gt;30.612611; -87.644889                                                             &lt;/td&gt;&lt;td&gt;30.61261                                                                          &lt;/td&gt;&lt;td&gt;-87.64489                                                                         &lt;/td&gt;&lt;td&gt;1997                                                                              &lt;/td&gt;&lt;td&gt;NA                                                                                &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WPMI-TV                                                                           &lt;/td&gt;&lt;td&gt;15 (15)                                                                           &lt;/td&gt;&lt;td&gt;2012                                                                              &lt;/td&gt;&lt;td&gt;1000                                                                              &lt;/td&gt;&lt;td&gt;30.61139; -87.607333                                                              &lt;/td&gt;&lt;td&gt;30.61139                                                                          &lt;/td&gt;&lt;td&gt;-87.60733                                                                         &lt;/td&gt;&lt;td&gt;2012                                                                              &lt;/td&gt;&lt;td&gt;NA                                                                                &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;As a sanity check, make sure that all of the columns in our data have the expected types.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;sapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kp"&gt;class&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;dl class="dl-horizontal"&gt;
&lt;dt&gt;Market&lt;/dt&gt;
&lt;dd&gt;'character'&lt;/dd&gt;
&lt;dt&gt;Station&lt;/dt&gt;
&lt;dd&gt;'character'&lt;/dd&gt;
&lt;dt&gt;Channel.RF.&lt;/dt&gt;
&lt;dd&gt;'character'&lt;/dd&gt;
&lt;dt&gt;Year&lt;/dt&gt;
&lt;dd&gt;'character'&lt;/dd&gt;
&lt;dt&gt;Power.kW&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;dt&gt;Location&lt;/dt&gt;
&lt;dd&gt;'character'&lt;/dd&gt;
&lt;dt&gt;Latitude&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;dt&gt;Longitude&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;dt&gt;Year.Start&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;dt&gt;Year.End&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Looks good. We'll be using &lt;code&gt;Latitude&lt;/code&gt;, &lt;code&gt;Longitude&lt;/code&gt;, &lt;code&gt;Year.Start&lt;/code&gt;, &lt;code&gt;Year.End&lt;/code&gt;, and &lt;code&gt;Power.kW&lt;/code&gt; in our plots so its important that these columns are numeric.&lt;/p&gt;
&lt;p&gt;Of course, we don't want all our hard work to go to waste so we'll also save the merged dataframe into a csv file.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_station_all_path &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"sinclair_station_all.csv"&lt;/span&gt;
write.csv&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="p"&gt;,&lt;/span&gt; file &lt;span class="o"&gt;=&lt;/span&gt; sinclair_station_all_path&lt;span class="p"&gt;,&lt;/span&gt; row.names &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Now, lets get to graphing!&lt;/p&gt;
&lt;h3 id="Graph-and-Analyze"&gt;Graph and Analyze&lt;a class="anchor-link" href="#Graph-and-Analyze"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;We have two questions that we want to answer in this notebook:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;How has the number of stations owned/operated by Sinclair changed over time?&lt;/li&gt;
&lt;li&gt;How does the spread of stations look like spatially, from the viewpoint of the US as a whole?&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="Stations-vs-Time"&gt;Stations vs Time&lt;a class="anchor-link" href="#Stations-vs-Time"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Unsurprisingly, we'll tackle question &lt;strong&gt;1&lt;/strong&gt; first.&lt;/p&gt;
&lt;p&gt;Since we've already done the hard part of getting a coherent dataframe together, this will be pretty easy to do. We'll just look at every year between the minimum and maximum years in our dataset; for each of these years we'll count up all stations owned by Sinclair and substract the stations that they've sold off. Finally, we'll take this data and present it in a tidy line graph.&lt;/p&gt;
&lt;p&gt;The code below generates the data we want:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get temporal limits of the data&lt;/span&gt;
max_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;,&lt;/span&gt; na.rm &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
min_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;,&lt;/span&gt; na.rm &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Get rid of data that has missing year values&lt;/span&gt;
no_na_year_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_all_df &lt;span class="o"&gt;%&gt;%&lt;/span&gt; filter&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Year.Start&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# Create aliases for the two year columns&lt;/span&gt;
start_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; no_na_year_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start
end_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; no_na_year_df&lt;span class="o"&gt;$&lt;/span&gt;Year.End

&lt;span class="c1"&gt;# Make a new data.frame and fill it using a for-loop&lt;/span&gt;
&lt;span class="c1"&gt;# This is a slow way to do it but our dataset is not huge &lt;/span&gt;
station_count_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kt"&gt;data.frame&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="kr"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;year &lt;span class="kr"&gt;in&lt;/span&gt; min_year&lt;span class="o"&gt;:&lt;/span&gt;max_year&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;# Generate the station count&lt;/span&gt;
    &lt;span class="c1"&gt;# Remember to take care of possible NA values in `end_year`&lt;/span&gt;
    new_row &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;year&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kp"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;start_year &lt;span class="o"&gt;&lt;=&lt;/span&gt; year &lt;span class="o"&gt;&amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;end_year &lt;span class="o"&gt;&gt;=&lt;/span&gt; year &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;end_year&lt;span class="p"&gt;)))&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    station_count_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;rbind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;station_count_df&lt;span class="p"&gt;,&lt;/span&gt; new_row&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="kp"&gt;colnames&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;station_count_df&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Year"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Station.Count"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Here's a random unordered sample of years just to see what the output looks like.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [20]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;station_count_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kp"&gt;sample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="kp"&gt;nrow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;station_count_df&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Station.Count&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th scope="row"&gt;9&lt;/th&gt;&lt;td&gt;1979&lt;/td&gt;&lt;td&gt; 1  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;23&lt;/th&gt;&lt;td&gt;1993&lt;/td&gt;&lt;td&gt; 5  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;2&lt;/th&gt;&lt;td&gt;1972&lt;/td&gt;&lt;td&gt; 1  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;5&lt;/th&gt;&lt;td&gt;1975&lt;/td&gt;&lt;td&gt; 1  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;38&lt;/th&gt;&lt;td&gt;2008&lt;/td&gt;&lt;td&gt;54  &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Now, we use my favorite plotting library (&lt;code&gt;ggplot2&lt;/code&gt; in case you were wondering) to visualize this data.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [21]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Set the size of output graphics&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;repr&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kp"&gt;options&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;repr.plot.width&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; repr.plot.height&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [22]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Create the plot&lt;/span&gt;
sinclair_growth_plot &lt;span class="o"&gt;&lt;-&lt;/span&gt; ggplot&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; station_count_df&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    geom_line&lt;span class="p"&gt;(&lt;/span&gt;aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; Year&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; Station.Count&lt;span class="p"&gt;),&lt;/span&gt; color &lt;span class="o"&gt;=&lt;/span&gt; brewer.pal&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Set2"&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    ggtitle&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Sinclair Growth"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    xlab&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Year"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    ylab&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Stations Owned by Sinclair"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    theme&lt;span class="p"&gt;(&lt;/span&gt;plot.title &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;color&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"#666666"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; face&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"bold"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

sinclair_growth_plot
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAJYCAMAAACaSn8zAAAAZlBMVEUAAAAzMzNNTU1mZmZo
aGh8fHyMjIyUlJSampqkpKSnp6ewsLCysrK6urq9vb3CwsLHx8fKysrQ0NDR0dHX19fZ2dnd
3d3h4eHj4+Po6Ojp6enr6+vt7e3w8PDx8fH29vb8jWL///9JnFzTAAAACXBIWXMAABJ0AAAS
dAHeZh94AAAgAElEQVR4nO2diVbbSBBFhbBZTEiAhLAMBPz/PzmWvNsyWHJXqV7rvnMmGGOu
3zRctLWkYkoIkU3RdwFCSPcgMCHCQWBChIPAhAgHgQkRDgITIhwEJkQ4CEyIcBCYEOEgMCHC
SSfw39vL8/Pzm1/Pq2fOqxwP+OLlR5FeftcNLm9//zv+Tb/Kx22Ldyekj6QS+PnyfJnrl8Vz
rgI/X5+vc/N2/NsezJ/lWyIwCZtEAv8538xiIewp8K/z86YK3fNyfY7AJHzSCPxv257LTpBT
PLk5382pBm+0QWASNmkEvq+1rZz5W/+2/+kCOcGT2/m6+3O18ftye8IfkcY2CEzCJo3A9Qbw
fLuzXpm+6QLp7snz9l+NP93/iDS2QWASNmkE3vgV/1g/Xj2af3z7NdusvP79sfqut/tqzffm
/m0f8rtejO5/qf74Mvu2m81V5OsdYesN4uvG1z//uqx2VP9df+P8+25Xf3aqdYiNHWLrd/8z
w1zfr+sT0n8SCry353dbu9vdrdP1fqf77Zcvlqh1fu+Tnje+p87LytdFPi5v/7x8NLz+ZbWv
vF7fn/6ePbrdefOq5+99gVe72U/ePUZIuqQReL7I2zV4S7uN3UzzhdjmfqdfWy9/2fjK3Jct
0uXun4tat7+NxbZfv7WvvDL6bcl9WzPrB/sC79YnJELSCLz4hb/5uzWFYku7maUf07fLpTpz
62YrpPOF4vPmy2/mB3L/1cvs2wbS8ulFbneE3q2wfH39h6Fa9M6XppXy1YPqsPV6s7n6X7mc
bq3Qr+vXq9a/kwwZISmS6Djw/VKUy/uX1ZPb2tXK1auz1bbmx/5Tq5f/+z1fmNevudwn7S5t
N1zbzdbra23rPzH/luRfCyF/rSpWf1h+TfcFrru+LLsSEiOpZmKtDJ6JsdydtK1dLfZqF9fv
5XJ35tVig3Xfw23A6sH9dNr8sunW6u7u6583Ht8vvH5eCHm5+pab8531gc367JAmwZJsLvTb
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
cBCYEOH8D084qLn1uNJRAAAAAElFTkSuQmCC" /&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Yup, that's a healthy looking business! We can see that their real growth started during the mid 1990s (a few small acquisitions), dropped a little bit in the late 2000s (not really good times for anyone), but skyrocketed after late 2011-2012.&lt;/p&gt;
&lt;p&gt;We can also see from the chart the global maximum is the last datapoint (2017). What exactly is this number?&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [23]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;station_count_df&lt;span class="o"&gt;$&lt;/span&gt;Station.Count&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
174
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Starting from just a single tower, Sinclair has done well for itself! As of 2017 they've grown to own or operate 174 stations.&lt;/p&gt;
&lt;h4 id="Stations-vs-USA"&gt;Stations vs USA&lt;a class="anchor-link" href="#Stations-vs-USA"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Now that we've had a good idea of how fast the Sinclair Group has grown, we need to answer question &lt;strong&gt;2&lt;/strong&gt; and take a look at &lt;em&gt;where&lt;/em&gt; in the US that growth has occured.&lt;/p&gt;
&lt;p&gt;To do this, we'll once again use &lt;code&gt;ggplot2&lt;/code&gt;. To anyone with a background in GIS (Geographic Information Systems), they might find it useful to know that I'll be using the Albers projection optimized for viewing the USA (&lt;code&gt;lat0 = 37.5, lat1 = 29.5&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;After creating a simple plot of the USA, I'll use the layers feature of &lt;code&gt;ggplot2&lt;/code&gt; to add markers of each station on top. The size of each station marker will correspond to the &lt;code&gt;Power&lt;/code&gt; of that station. I decided that the best way to visualize the spread of Sinclair stations is by looking at "snapshots" of stations during every year. This means that I'll create a different map for every year in the dataset and plot the stations owned during that year.&lt;/p&gt;
&lt;p&gt;Onto the code! Before getting to &lt;code&gt;ggplot2&lt;/code&gt; we'll have to filter out any missing data from &lt;code&gt;sinclair_station_all_df&lt;/code&gt; and get the spatial coordinates for drawing a map of the USA.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get USA spatial data&lt;/span&gt;
usa_map_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; map_data&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"usa"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;     &lt;span class="c1"&gt;# Tells ggplot2 how to plot outline of the US&lt;/span&gt;
state_map_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; map_data&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"state"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# Tells ggplot2 how to plot outlines of each US state&lt;/span&gt;

&lt;span class="c1"&gt;# Extract only that station data that we'll need for plotting&lt;/span&gt;
sinclair_final_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_all_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Station"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Power.kW"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Latitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                 &lt;span class="s"&gt;"Longitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.Start"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.End"&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="c1"&gt;# Get rid of rows that don't have the necessary data&lt;/span&gt;
has_location &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;Latitude&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;Longitude&lt;span class="p"&gt;)&lt;/span&gt;
has_power &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;Power&lt;span class="p"&gt;)&lt;/span&gt;
has_start &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_final_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_final_df&lt;span class="p"&gt;[&lt;/span&gt;has_location &lt;span class="o"&gt;&amp;&lt;/span&gt; has_power &lt;span class="o"&gt;&amp;&lt;/span&gt; has_start&lt;span class="p"&gt;,]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [25]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Power.kW&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th scope="row"&gt;1&lt;/th&gt;&lt;td&gt;WTTO     &lt;/td&gt;&lt;td&gt; 765     &lt;/td&gt;&lt;td&gt;33.48458 &lt;/td&gt;&lt;td&gt;-86.80708&lt;/td&gt;&lt;td&gt;1995     &lt;/td&gt;&lt;td&gt;NA       &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;2&lt;/th&gt;&lt;td&gt;WABM     &lt;/td&gt;&lt;td&gt; 885     &lt;/td&gt;&lt;td&gt;33.48458 &lt;/td&gt;&lt;td&gt;-86.80706&lt;/td&gt;&lt;td&gt;2001     &lt;/td&gt;&lt;td&gt;NA       &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;4&lt;/th&gt;&lt;td&gt;WBMA-LD  &lt;/td&gt;&lt;td&gt; 885     &lt;/td&gt;&lt;td&gt;33.48458 &lt;/td&gt;&lt;td&gt;-86.80706&lt;/td&gt;&lt;td&gt;2014     &lt;/td&gt;&lt;td&gt;NA       &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;5&lt;/th&gt;&lt;td&gt;WEAR-TV  &lt;/td&gt;&lt;td&gt;1000     &lt;/td&gt;&lt;td&gt;30.61261 &lt;/td&gt;&lt;td&gt;-87.64489&lt;/td&gt;&lt;td&gt;1997     &lt;/td&gt;&lt;td&gt;NA       &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;6&lt;/th&gt;&lt;td&gt;WPMI-TV  &lt;/td&gt;&lt;td&gt;1000     &lt;/td&gt;&lt;td&gt;30.61139 &lt;/td&gt;&lt;td&gt;-87.60733&lt;/td&gt;&lt;td&gt;2012     &lt;/td&gt;&lt;td&gt;NA       &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;7&lt;/th&gt;&lt;td&gt;WFGX     &lt;/td&gt;&lt;td&gt;1000     &lt;/td&gt;&lt;td&gt;30.61261 &lt;/td&gt;&lt;td&gt;-87.64489&lt;/td&gt;&lt;td&gt;2001     &lt;/td&gt;&lt;td&gt;NA       &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Since I'll be plotting the stations owned by Sinclair for every year in the dataset, it would be best to put all of the necessary code into one function that takes the &lt;code&gt;year&lt;/code&gt; as its only argument. This function will separate the data in &lt;code&gt;sinclair_final_df&lt;/code&gt; by the given &lt;code&gt;year&lt;/code&gt; variable and label it appropriately. It will then filter out the stations not currently owned and graph the remaining ones on top of a map of the US. The code is quite involved, but I hope the comments make it easy to read.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;plot_sinclair_stations &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;year&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    
    &lt;span class="c1"&gt;# Separate the spatial data into four datasets&lt;/span&gt;
    &lt;span class="c1"&gt;# The output is a dataframe with an additional column that labels a particular&lt;/span&gt;
    &lt;span class="c1"&gt;# station as either "acquired this year", "sold this year",&lt;/span&gt;
    &lt;span class="c1"&gt;# "acquired previous years", or "not held".&lt;/span&gt;
    final_spatial_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_final_df &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
        mutate&lt;span class="p"&gt;(&lt;/span&gt;Acquired &lt;span class="o"&gt;=&lt;/span&gt; case_when&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;Year.Start &lt;span class="o"&gt;&lt;&lt;/span&gt; year&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;Year.End &lt;span class="o"&gt;&gt;&lt;/span&gt; year &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Year.End&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt; 
                &lt;span class="s"&gt;"acquired\nprevious years"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            Year.Start &lt;span class="o"&gt;==&lt;/span&gt; year &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="s"&gt;"acquired\nthis year"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            Year.End &lt;span class="o"&gt;==&lt;/span&gt; year &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="s"&gt;"sold\nthis year"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="kc"&gt;TRUE&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="s"&gt;"not held"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# We don't want to show the station that were not held during the given year&lt;/span&gt;
    &lt;span class="c1"&gt;# Filter out unwanted stations using a mask&lt;/span&gt;
    held_mask &lt;span class="o"&gt;&lt;-&lt;/span&gt; final_spatial_df&lt;span class="o"&gt;$&lt;/span&gt;Acquired &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s"&gt;"not held"&lt;/span&gt;
    final_spatial_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; final_spatial_df&lt;span class="p"&gt;[&lt;/span&gt;held_mask&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
    factor_levels &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"acquired\nprevious years"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"acquired\nthis year"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"sold\nthis year"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    final_spatial_df&lt;span class="o"&gt;$&lt;/span&gt;Acquired &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;factor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;final_spatial_df&lt;span class="o"&gt;$&lt;/span&gt;Acquired&lt;span class="p"&gt;,&lt;/span&gt; levels &lt;span class="o"&gt;=&lt;/span&gt; factor_levels&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# Pick some nice colors&lt;/span&gt;
    nice_colors &lt;span class="o"&gt;&lt;-&lt;/span&gt; brewer.pal&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Set2"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# Make the plot&lt;/span&gt;
    ggplot&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        &lt;span class="c1"&gt;# Set the projection to USA-Albers&lt;/span&gt;
        coord_map&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"albers"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; lat0 &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;37.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; lat1 &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;29.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
        &lt;span class="c1"&gt;# Graph the outline of the US&lt;/span&gt;
        geom_polygon&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; usa_map_df&lt;span class="p"&gt;,&lt;/span&gt;
                     aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; long&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; group &lt;span class="o"&gt;=&lt;/span&gt; group&lt;span class="p"&gt;),&lt;/span&gt;
                     color &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"gray60"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        &lt;span class="c1"&gt;# Graph the outline of each state&lt;/span&gt;
        geom_polygon&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; state_map_df&lt;span class="p"&gt;,&lt;/span&gt;
                     aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; long&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; group &lt;span class="o"&gt;=&lt;/span&gt; group&lt;span class="p"&gt;),&lt;/span&gt;
                     color &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"gray60"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        &lt;span class="c1"&gt;# Graph the location of each station&lt;/span&gt;
        geom_point&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; final_spatial_df&lt;span class="p"&gt;,&lt;/span&gt;
                   aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; Longitude&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; Latitude&lt;span class="p"&gt;,&lt;/span&gt; size &lt;span class="o"&gt;=&lt;/span&gt; Power.kW&lt;span class="p"&gt;,&lt;/span&gt; color &lt;span class="o"&gt;=&lt;/span&gt; Acquired&lt;span class="p"&gt;),&lt;/span&gt;
                   alpha &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0.75&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        &lt;span class="c1"&gt;# Set size/radius and color of the station markers&lt;/span&gt;
        scale_radius&lt;span class="p"&gt;(&lt;/span&gt;limits &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        scale_color_manual&lt;span class="p"&gt;(&lt;/span&gt;values &lt;span class="o"&gt;=&lt;/span&gt; nice_colors&lt;span class="p"&gt;,&lt;/span&gt; drop &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        &lt;span class="c1"&gt;# Set the title, colors, legend position and other thematic options&lt;/span&gt;
        theme&lt;span class="p"&gt;(&lt;/span&gt;plot.title &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;hjust &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; color&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"#666666"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; face&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"bold"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; 
            axis.text &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt; 
            axis.line &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt; 
            axis.ticks &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
            axis.title &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
            panel.border &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
            legend.position &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0.93&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            legend.key.size &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            legend.text &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;12&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            legend.title &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;12&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            panel.grid &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
            panel.background &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        guides&lt;span class="p"&gt;(&lt;/span&gt;size&lt;span class="o"&gt;=&lt;/span&gt;guide_legend&lt;span class="p"&gt;(&lt;/span&gt;title&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"Transmitter\nPower (kW)"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; byrow &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        ggtitle&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Sinclair Stations in"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; year&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Phew! Now to test out our function. I know from looking at the data that there was a lot of action during the year 2013. Lets use this year as our test date.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;plot_sinclair_stations&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;2013&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAJYCAMAAACaSn8zAAABEVBMVEUAAAAPDw8zMzM9PT1N
TU1ZnohjuZ5lwKNmZmZmwaRmwqVnwaVnwqVnwqZoaGhpv6Rpw6dsvaBuv6JvvqBvvqFvv6Fv
xapwxqtzuKJ2haV8fHx/r5GFtZiHmcGIs5OJtZWJzriKtZWLtJSMjIyM0byOn8iQnr6Tpc6U
lJSZmZmampqcla6kpKSmmrCmtdWnp6eom7Cpm7GwsLCysrK6urq9vb3CwsLHx8fKdlbKysrQ
0NDR0dHTkWzWmHHXmnPX19fZ2dnd3d3h4eHjkHDj4+Po6Ojp6ent7e3vh1/w8PDx8fHyjmXy
kGby8vLzkGb2jmb29vb5i2H5pob6jWP7jGL7jWL7k2v8j2X8lGz9qon///+obtzDAAAACXBI
WXMAABJ0AAASdAHeZh94AAAgAElEQVR4nO2dj2Pbtpn3GUWiYucqtevdWdXe9r07Z7vQS09b
HCeO+m517NSVs+0c33pbwv//D3kJgAQBEAABECAJ6fludSgKeMAf+OjBbyQ5CASKVsnQFwAC
gdwFAINAEQsABoEiFgAMAkUsABgEilgAMAgUsQBgEChiAcAgUMQCgEGgiAUAg0ARCwAGgSIW
AAwCRSwAGASKWAAwCBSxAGAQKGIBwCBQxAKAQaCIBQCDQBELAAaBIhYADAJFLAAYBIpYADAI
FLEAYBAoYgHAIFDEAoBBoIgFAINAEQsABoEiFgAMAkUsABgEilgAMAgUsQBgEChiAcAgUMQC
gEGgiAUAg0ARCwAGgSIWAAwCRSwAGASKWAAwCBSxAGAQKGIBwCBQxPIJ8LtXz588efLy9Xt6
5gmSuQFNcANLzeQLfXyliVF9aXmZWhnbevcKXe3bn+sz79GZV++FcB9Zgx/fvnzy5PlrMQzo
YOUP4PfPn1R68VN5rkeAZcnn+Y+6SPTLAQD+iV7u2+rUy/LESz7ka8bgj1Uk3c8S6JDkDWCa
t7BKF9EfwNLkf3qhicR82T/APzMXWxL8kp7gCH7HGGRu8qVoEXSY8gXwBw6gJ8+djLiDJE9e
a88ntdZ6wV4tLjC8b/7+IP3wpL7Oj2ykHwe5btDY5Avgt5gblPPeuecvd6bkyY8WYEzr85/z
j9jtvkanXhBy8TcvqnAfKreMP2GYX3wkNwsuGITkC+DnKFORBpkfnfOXO1Py5EcL8OvqR+an
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" /&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Hey, not bad! In case you're wondering why the legend is so large, that was done on purpose. It might look wonky in this JUPYTER notebook, but this legend size looks perfect (in my opinion) when each image is saved as a png.&lt;/p&gt;
&lt;p&gt;Speaking of which, we just need to save our images and then we're done! The last bit of code that will do this needs to loop through every year and create an image like the one above. Later, I'll stitch the images together into one gif so that we can observe how Sinclair stations have spread from the east coast to the west throughout the last several years. We'll also save our earlier &lt;em&gt;Sinclair Growth&lt;/em&gt; plot as well.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;IMAGE_OUTPUT_PATH &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"Images"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [29]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Don't forget to save our earlier graph&lt;/span&gt;
ggsave&lt;span class="p"&gt;(&lt;/span&gt;filename &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;'Sinclair_Growth.png'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
    plot &lt;span class="o"&gt;=&lt;/span&gt; sinclair_growth_plot&lt;span class="p"&gt;,&lt;/span&gt;
    path &lt;span class="o"&gt;=&lt;/span&gt; IMAGE_OUTPUT_PATH&lt;span class="p"&gt;,&lt;/span&gt;
    width &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    height &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get the limits on the years&lt;/span&gt;
max_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;,&lt;/span&gt; na.rm &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
min_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;,&lt;/span&gt; na.rm &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Loop through each year, generate a plot, and save that plot.&lt;/span&gt;
&lt;span class="kr"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;year &lt;span class="kr"&gt;in&lt;/span&gt; min_year&lt;span class="o"&gt;:&lt;/span&gt;max_year&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    image &lt;span class="o"&gt;&lt;-&lt;/span&gt; plot_sinclair_stations&lt;span class="p"&gt;(&lt;/span&gt;year&lt;span class="p"&gt;)&lt;/span&gt;
    image.name &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Sinclair_Stations"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; year&lt;span class="p"&gt;,&lt;/span&gt; sep &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"_"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    image.name &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;image.name&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;".png"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; sep &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    ggsave&lt;span class="p"&gt;(&lt;/span&gt;filename &lt;span class="o"&gt;=&lt;/span&gt; image.name&lt;span class="p"&gt;,&lt;/span&gt; 
        plot &lt;span class="o"&gt;=&lt;/span&gt; image&lt;span class="p"&gt;,&lt;/span&gt;
        path &lt;span class="o"&gt;=&lt;/span&gt; IMAGE_OUTPUT_PATH&lt;span class="p"&gt;,&lt;/span&gt;
        width &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;14&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        height &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Finished! =)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="R"></category><category term="ggplot2"></category><category term="maps"></category><category term="sinclair"></category></entry><entry><title>Sinclair DMA Exploration</title><link href="/sinclair-dma-exploration.html" rel="alternate"></link><published>2017-08-30T12:00:00-07:00</published><updated>2017-08-30T12:00:00-07:00</updated><author><name>Dawid Minorczyk</name></author><id>tag:None,2017-08-30:/sinclair-dma-exploration.html</id><summary type="html">&lt;p&gt;A step-by-step guide through my analysis of Nielsen Designated Marketing Areas (DMAs) and how to apply them to explore Sinclair's TV market reach.&lt;/p&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;You can find the story that goes with this code &lt;a href="http://mimsy.io/sinclair_1_3.html"&gt;right here&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="Sinclair-DMA-Exploration"&gt;Sinclair DMA Exploration&lt;a class="anchor-link" href="#Sinclair-DMA-Exploration"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This JUPYTER notebook explores Nielsen Designated Market Areas (DMAs) in combination with data on the Sinclair Broadcast Group. Here, we will attempt to use Nielson DMAs to document/visualize the spread and growth of Sinclair over the last several decades.&lt;/p&gt;
&lt;p&gt;This post mirrors an earlier notebook titled &lt;strong&gt;Sinclair Station Exploration&lt;/strong&gt; and uses data generated in that notebook. As in &lt;strong&gt;Sinclair Station Exploration&lt;/strong&gt;, I'll assume that the current working directory is a clone of &lt;a href="https://github.com/theMimsy/Blog---Sinclair-Broadcast-Group"&gt;this github repo&lt;/a&gt;. If you want to find the earlier notebook, you can find it &lt;a href="http://mimsy.io/sinclair-station-exploration.html"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To analyze, combine, and graph the DMA/Sinclair data, we'll first load some libraries that we'll need throughout the notebook. These include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dplyr&lt;/code&gt;: Used for &lt;code&gt;group_by()&lt;/code&gt;, &lt;code&gt;filter()&lt;/code&gt;, &lt;code&gt;summarize()&lt;/code&gt;, and &lt;code&gt;mutate()&lt;/code&gt; as well as &lt;code&gt;%&gt;%&lt;/code&gt; pipes.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sp&lt;/code&gt;: The base R library used for manipulating geospatial data.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rgdal&lt;/code&gt;: The R implementation of Frank Warmerdam's Geospatial Data Abstraction Library (GDAL). Allows us to read and manipulate &lt;a href="https://en.wikipedia.org/wiki/Shapefile"&gt;shapefiles&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;maps&lt;/code&gt;: A very simple R library containing outlines of the USA and USA states. Although we won't be using these, this library also contains world maps, locations of large US cities, and the locations of large world cities.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rjson&lt;/code&gt;: Allows the user to convert &lt;a href="http://www.json.org/"&gt;JSON&lt;/a&gt; objects to R data frames.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;geojsonio&lt;/code&gt;: A library that allows us to convert spatial data from &lt;a href="https://en.wikipedia.org/wiki/GeoJSON"&gt;GeoJSON&lt;/a&gt; format to data frames (and vice-versa). We'll need this for plotting since my tool of choice (&lt;code&gt;ggplot2&lt;/code&gt;) requires clean data frames.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ggplot2&lt;/code&gt;: A flexible plotting tool that generates graphics using a &lt;a href="http://byrneslab.net/classes/biol607/readings/wickham_layered-grammar.pdf"&gt;layered grammar of graphics&lt;/a&gt;. If you want to know more, I'd recommend spending a bit of time reading through chapters 1 and 2 in &lt;a href="http://ms.mcmaster.ca/~bolker/misc/ggplot2-book.pdf"&gt;Hadley Wickham's ggplot2 book&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;broom&lt;/code&gt;: Used for cleaning up arbitrary R objects into tidy data frames.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RColorBrewer&lt;/code&gt;: Pretty colors for our graphs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Load up some libraries&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dplyr&lt;span class="p"&gt;,&lt;/span&gt; warn.conflicts &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sp&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;rgdal&lt;span class="p"&gt;,&lt;/span&gt; warn.conflicts &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;maps&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;rjson&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;geojsonio&lt;span class="p"&gt;,&lt;/span&gt; warn.conflicts &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;ggplot2&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;broom&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;stringr&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;RColorBrewer&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stderr output_text"&gt;
&lt;pre&gt;rgdal: version: 1.2-8, (SVN revision 663)
 Geospatial Data Abstraction Library extensions to R successfully loaded
 Loaded GDAL runtime: GDAL 2.0.1, released 2015/09/15
 Path to GDAL shared files: C:/Users/dmino/Documents/R/win-library/3.4/rgdal/gdal
 Loaded PROJ.4 runtime: Rel. 4.9.2, 08 September 2015, [PJ_VERSION: 492]
 Path to PROJ.4 shared files: C:/Users/dmino/Documents/R/win-library/3.4/rgdal/proj
 Linking to sp version: 1.2-5 
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Examining-the-Data"&gt;Examining the Data&lt;a class="anchor-link" href="#Examining-the-Data"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Our first order of business is to identify the data we have available. Our second order of business is to identify what we want to do with that data.&lt;/p&gt;
&lt;h4 id="First-Order-of-Business"&gt;First Order of Business&lt;a class="anchor-link" href="#First-Order-of-Business"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;We have two sources of data for use in this notebook. The first source &lt;code&gt;sinclair_station_all.csv&lt;/code&gt; contains all the data we cleaned and generated in the previous post called &lt;strong&gt;Sinclair Station Exploration&lt;/strong&gt;. As the name implies, this csv file holds information on TV stations owned by Sinclair. The columns of the csv include the station name, transmitter power, location, and the market of the station. Since we already cleaned this data beforehand, we don't need to do any work here.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_station_all_path &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"sinclair_station_all.csv"&lt;/span&gt;
sinclair_station_all_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; read.csv&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_path&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Channel.RF.&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power.kW&lt;/th&gt;&lt;th scope="col"&gt;Location&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WTTO                                  &lt;/td&gt;&lt;td&gt;21 (28)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt; 765                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807083                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80708                             &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;NA                                    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WABM                                  &lt;/td&gt;&lt;td&gt;68 (36)                               &lt;/td&gt;&lt;td&gt;2001                                  &lt;/td&gt;&lt;td&gt; 885                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;td&gt;2001                                  &lt;/td&gt;&lt;td&gt;NA                                    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WDBB                                  &lt;/td&gt;&lt;td&gt;17 (18)                               &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;  NA                                  &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;      NA                              &lt;/td&gt;&lt;td&gt;       NA                             &lt;/td&gt;&lt;td&gt;1995                                  &lt;/td&gt;&lt;td&gt;NA                                    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL&lt;/td&gt;&lt;td&gt;WBMA-LD                               &lt;/td&gt;&lt;td&gt;58 (40)                               &lt;/td&gt;&lt;td&gt;2014                                  &lt;/td&gt;&lt;td&gt; 885                                  &lt;/td&gt;&lt;td&gt;33.484583; -86.807056                 &lt;/td&gt;&lt;td&gt;33.48458                              &lt;/td&gt;&lt;td&gt;-86.80706                             &lt;/td&gt;&lt;td&gt;2014                                  &lt;/td&gt;&lt;td&gt;NA                                    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WEAR-TV                                                                           &lt;/td&gt;&lt;td&gt;3 (17)                                                                            &lt;/td&gt;&lt;td&gt;1997                                                                              &lt;/td&gt;&lt;td&gt;1000                                                                              &lt;/td&gt;&lt;td&gt;30.612611; -87.644889                                                             &lt;/td&gt;&lt;td&gt;30.61261                                                                          &lt;/td&gt;&lt;td&gt;-87.64489                                                                         &lt;/td&gt;&lt;td&gt;1997                                                                              &lt;/td&gt;&lt;td&gt;NA                                                                                &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WPMI-TV                                                                           &lt;/td&gt;&lt;td&gt;15 (15)                                                                           &lt;/td&gt;&lt;td&gt;2012                                                                              &lt;/td&gt;&lt;td&gt;1000                                                                              &lt;/td&gt;&lt;td&gt;30.61139; -87.607333                                                              &lt;/td&gt;&lt;td&gt;30.61139                                                                          &lt;/td&gt;&lt;td&gt;-87.60733                                                                         &lt;/td&gt;&lt;td&gt;2012                                                                              &lt;/td&gt;&lt;td&gt;NA                                                                                &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The second source of data for this notebook is a modified version of &lt;a href="http://bl.ocks.org/simzou/6459889"&gt;Simon Zou's D3 visualization of Nielsen's DMAs&lt;/a&gt;. The data resides in &lt;code&gt;Interactive_DMA_Map/nielsengeo.json&lt;/code&gt; and &lt;code&gt;Interactive_DMA_Map/nielsentopo.json&lt;/code&gt;. These two files hold essentially the same information, except in slightly different formats. See &lt;a href="https://stackoverflow.com/questions/14740705/difference-between-geojson-and-topojson"&gt;geojson vs topojson&lt;/a&gt; for more specifics.&lt;/p&gt;
&lt;p&gt;What you'll need to know for this exploration is that we'll be using the more verbose &lt;code&gt;nielsengeo.json&lt;/code&gt; file and that this file has all of the data necessary to draw the DMAs. We can load it in two ways:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;As a pure JSON object, using the &lt;code&gt;fromJSON()&lt;/code&gt; function.&lt;/li&gt;
&lt;li&gt;As a &lt;code&gt;SpatialPolygonsDataFrame&lt;/code&gt; using the &lt;code&gt;geojson_read()&lt;/code&gt; function.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While R does allow us to work with pure JSON, it's much more useful when programming in &lt;code&gt;javascript&lt;/code&gt; (especially when using &lt;code&gt;d3&lt;/code&gt;). As such, we'll go with the latter option and create a &lt;code&gt;SpatialPolygonsDataFrame&lt;/code&gt; object.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get the shapefile&lt;/span&gt;
dma_geo_path &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"Interactive_DMA_Map/nielsengeo.json"&lt;/span&gt;
dma_geo_sh &lt;span class="o"&gt;&lt;-&lt;/span&gt; geojson_read&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_path&lt;span class="p"&gt;,&lt;/span&gt; what &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"sp"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_sh&lt;span class="p"&gt;,&lt;/span&gt; n &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# Show only one Polygon in the DataFrame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_text output_subarea "&gt;
&lt;pre&gt;An object of class "SpatialPolygonsDataFrame"
Slot "data":
    name latitude tvperc dma                   dma1 cableperc adsperc longitude
662 dma: 32.40435   89.2 662 Abilene-Sweetwater, TX      38.2    51.8 -99.82936

Slot "polygons":
[[1]]
An object of class "Polygons"
Slot "Polygons":
[[1]]
An object of class "Polygon"
Slot "labpt":
[1] -99.80485  32.44001

Slot "area":
[1] 3.550962

Slot "hole":
[1] FALSE

Slot "ringDir":
[1] 1

Slot "coords":
            [,1]     [,2]
 [1,]  -98.66994 31.70139
 [2,]  -99.01090 31.47284
 [3,]  -99.23628 31.48278
 [4,]  -99.31718 31.41073
 [5,]  -99.62925 31.46787
 [6,]  -99.70437 31.57718
 [7,] -100.23604 31.58215
 [8,] -100.23604 32.08148
 [9,] -101.18378 32.08645
[10,] -101.17222 32.96340
[11,] -100.51920 32.96340
[12,] -100.51920 33.39814
[13,]  -99.47322 33.39814
[14,]  -99.47322 32.95594
[15,]  -98.57748 32.95346
[16,]  -98.57748 32.51623
[17,]  -98.47346 32.51375
[18,]  -98.47346 32.30010
[19,]  -98.92422 32.07900
[20,]  -98.66994 31.70139



Slot "plotOrder":
[1] 1

Slot "labpt":
[1] -99.80485  32.44001

Slot "ID":
[1] "662"

Slot "area":
[1] 3.550962



Slot "plotOrder":
[1] 1

Slot "bbox":
         min       max
x -101.18378 -98.47346
y   31.41073  33.39814

Slot "proj4string":
CRS arguments:
 +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0 
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;As you can see from the output above, a &lt;code&gt;SpatialPolygonsDataFrame&lt;/code&gt; isn't simply a table, but an object containing members (or "slots", in R parlance) that each describe polygons in different ways. For example, the &lt;code&gt;data&lt;/code&gt; slot contains a list of key-value pairs that provide possible labels for that polygon, the &lt;code&gt;coords&lt;/code&gt; slot contains a list of points used to draw the polygon, and the &lt;code&gt;area&lt;/code&gt; slot calculates the enclosed area.&lt;/p&gt;
&lt;p&gt;You can write whole tutorials on how these objects work (and people have), but I'm not going to do that here. Why? Because we'll only need this &lt;code&gt;SpatialPolygonsDataFrame&lt;/code&gt; for only a little while longer. If you really want to learn more about GIS and spatial objects in R (it's actually kind of cool), try the guides by &lt;a href="http://www.nickeubank.com/gis-in-r/"&gt;Nick Eubank&lt;/a&gt; and &lt;a href="http://www.rpubs.com/cengel248/172289"&gt;Claudia Engel&lt;/a&gt;; these guys do a much better job than I ever could.&lt;/p&gt;
&lt;p&gt;Now, to convert the &lt;code&gt;SpatialPolygonsDataFrame&lt;/code&gt; into a standard R data frame, we make clever use of the &lt;code&gt;merge()&lt;/code&gt; and &lt;code&gt;tidy()&lt;/code&gt; functions:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Convert the shapefile into a csv&lt;/span&gt;
dma_geo_sh&lt;span class="o"&gt;@&lt;/span&gt;data&lt;span class="o"&gt;$&lt;/span&gt;id &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;rownames&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_sh&lt;span class="o"&gt;@&lt;/span&gt;data&lt;span class="p"&gt;)&lt;/span&gt;
dma_geo_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;tidy&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_sh&lt;span class="p"&gt;),&lt;/span&gt; dma_geo_sh&lt;span class="o"&gt;@&lt;/span&gt;data&lt;span class="p"&gt;,&lt;/span&gt; by &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"id"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stderr output_text"&gt;
&lt;pre&gt;Regions defined for each Polygons
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;id&lt;/th&gt;&lt;th scope="col"&gt;long&lt;/th&gt;&lt;th scope="col"&gt;lat&lt;/th&gt;&lt;th scope="col"&gt;order&lt;/th&gt;&lt;th scope="col"&gt;hole&lt;/th&gt;&lt;th scope="col"&gt;piece&lt;/th&gt;&lt;th scope="col"&gt;group&lt;/th&gt;&lt;th scope="col"&gt;name&lt;/th&gt;&lt;th scope="col"&gt;latitude&lt;/th&gt;&lt;th scope="col"&gt;tvperc&lt;/th&gt;&lt;th scope="col"&gt;dma&lt;/th&gt;&lt;th scope="col"&gt;dma1&lt;/th&gt;&lt;th scope="col"&gt;cableperc&lt;/th&gt;&lt;th scope="col"&gt;adsperc&lt;/th&gt;&lt;th scope="col"&gt;longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-70.97725          &lt;/td&gt;&lt;td&gt;43.35754           &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-70.95991          &lt;/td&gt;&lt;td&gt;43.54138           &lt;/td&gt;&lt;td&gt;2                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.11016          &lt;/td&gt;&lt;td&gt;43.50660           &lt;/td&gt;&lt;td&gt;3                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.12750          &lt;/td&gt;&lt;td&gt;43.57367           &lt;/td&gt;&lt;td&gt;4                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.26042          &lt;/td&gt;&lt;td&gt;43.57119           &lt;/td&gt;&lt;td&gt;5                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.53203          &lt;/td&gt;&lt;td&gt;43.76496           &lt;/td&gt;&lt;td&gt;6                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Tada! This data frame holds basically all the same information as the &lt;code&gt;Spatial&lt;/code&gt; version above. Here, the &lt;code&gt;group&lt;/code&gt; column tells us which &lt;code&gt;long&lt;/code&gt;, &lt;code&gt;lat&lt;/code&gt; pairs belong to which polygon. The &lt;code&gt;order&lt;/code&gt; column tells us which order to connect the coordinates in. The &lt;code&gt;piece&lt;/code&gt; column tells us about DMAs that are made up of multiple polygons (or polygons with holes in them).&lt;/p&gt;
&lt;p&gt;For example, the DMA with &lt;code&gt;id = 500&lt;/code&gt; (Portland-Auburn, ME), is composed of 34 pieces. Piece 1 has &lt;code&gt;group = 500.1&lt;/code&gt;, piece 2 has &lt;code&gt;group = 500.2&lt;/code&gt;, piece 3 has &lt;code&gt;group = 500.3&lt;/code&gt;, etc.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get some pieces of the Portland-Auburn DMA&lt;/span&gt;
piece1_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; dma_geo_df&lt;span class="p"&gt;[&lt;/span&gt;dma_geo_df&lt;span class="o"&gt;$&lt;/span&gt;group &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;500.1&lt;/span&gt;&lt;span class="p"&gt;,]&lt;/span&gt;
piece2_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; dma_geo_df&lt;span class="p"&gt;[&lt;/span&gt;dma_geo_df&lt;span class="o"&gt;$&lt;/span&gt;group &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;500.2&lt;/span&gt;&lt;span class="p"&gt;,]&lt;/span&gt;
piece34_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; dma_geo_df&lt;span class="p"&gt;[&lt;/span&gt;dma_geo_df&lt;span class="o"&gt;$&lt;/span&gt;group &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;500.34&lt;/span&gt;&lt;span class="p"&gt;,]&lt;/span&gt;

&lt;span class="c1"&gt;# Get top three rows from each piece&lt;/span&gt;
example_portland_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;rbind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;piece1_df&lt;span class="p"&gt;,&lt;/span&gt; n &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; 
                             &lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;piece2_df&lt;span class="p"&gt;,&lt;/span&gt; n &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                             &lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;piece34_df&lt;span class="p"&gt;,&lt;/span&gt; n &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;# Print&lt;/span&gt;
example_portland_df
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th scope="col"&gt;id&lt;/th&gt;&lt;th scope="col"&gt;long&lt;/th&gt;&lt;th scope="col"&gt;lat&lt;/th&gt;&lt;th scope="col"&gt;order&lt;/th&gt;&lt;th scope="col"&gt;hole&lt;/th&gt;&lt;th scope="col"&gt;piece&lt;/th&gt;&lt;th scope="col"&gt;group&lt;/th&gt;&lt;th scope="col"&gt;name&lt;/th&gt;&lt;th scope="col"&gt;latitude&lt;/th&gt;&lt;th scope="col"&gt;tvperc&lt;/th&gt;&lt;th scope="col"&gt;dma&lt;/th&gt;&lt;th scope="col"&gt;dma1&lt;/th&gt;&lt;th scope="col"&gt;cableperc&lt;/th&gt;&lt;th scope="col"&gt;adsperc&lt;/th&gt;&lt;th scope="col"&gt;longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th scope="row"&gt;1&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-70.97725          &lt;/td&gt;&lt;td&gt;43.35754           &lt;/td&gt;&lt;td&gt;  1                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;2&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-70.95991          &lt;/td&gt;&lt;td&gt;43.54138           &lt;/td&gt;&lt;td&gt;  2                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;3&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.11016          &lt;/td&gt;&lt;td&gt;43.50660           &lt;/td&gt;&lt;td&gt;  3                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;75&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-68.82170          &lt;/td&gt;&lt;td&gt;44.03078           &lt;/td&gt;&lt;td&gt; 75                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;2                  &lt;/td&gt;&lt;td&gt;500.2              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;76&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-68.89683          &lt;/td&gt;&lt;td&gt;44.11524           &lt;/td&gt;&lt;td&gt; 76                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;2                  &lt;/td&gt;&lt;td&gt;500.2              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;77&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-68.90839          &lt;/td&gt;&lt;td&gt;44.09537           &lt;/td&gt;&lt;td&gt; 77                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;2                  &lt;/td&gt;&lt;td&gt;500.2              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;236&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-69.68276          &lt;/td&gt;&lt;td&gt;43.80968           &lt;/td&gt;&lt;td&gt;236                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;34                 &lt;/td&gt;&lt;td&gt;500.34             &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;237&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-69.68854          &lt;/td&gt;&lt;td&gt;43.81713           &lt;/td&gt;&lt;td&gt;237                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;34                 &lt;/td&gt;&lt;td&gt;500.34             &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;238&lt;/th&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-69.68276          &lt;/td&gt;&lt;td&gt;43.81713           &lt;/td&gt;&lt;td&gt;238                &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;34                 &lt;/td&gt;&lt;td&gt;500.34             &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;We can use &lt;code&gt;ggplot2&lt;/code&gt; to draw maps if we have data frames with a &lt;code&gt;group&lt;/code&gt; property. For all following maps, I'll be using the &lt;em&gt;Albers&lt;/em&gt; map projection with &lt;code&gt;lat0 = 37.5&lt;/code&gt; and &lt;code&gt;lat1 = 29.5&lt;/code&gt;. This map projection (unlike the Mercator projection, for example) works best when viewing just the US.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [34]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Set the size of output graphics&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;repr&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kp"&gt;options&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;repr.plot.width&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; repr.plot.height&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [50]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Define a function that creates a map using the Albers projection&lt;/span&gt;
ggalbers &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    ggplot&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    coord_map&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"albers"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; lat0 &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;37.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; lat1 &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;29.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    theme&lt;span class="p"&gt;(&lt;/span&gt;plot.title &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;hjust &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; color&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"#666666"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; face&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"bold"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; 
        axis.text &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt; 
        axis.line &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt; 
        axis.ticks &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
        axis.title &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
        panel.border &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
        panel.grid &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
        panel.background &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [51]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get only the Portland-Auburn DMA&lt;/span&gt;
dma_portland_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; dma_geo_df&lt;span class="p"&gt;[&lt;/span&gt;dma_geo_df&lt;span class="o"&gt;$&lt;/span&gt;dma &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,]&lt;/span&gt;

&lt;span class="c1"&gt;# Generate a graph of the Portland-Auburn DMA&lt;/span&gt;
ggalbers&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    geom_polygon&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; dma_portland_df&lt;span class="p"&gt;,&lt;/span&gt; 
                 color &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"red"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 fill &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"gray30"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; long&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; group &lt;span class="o"&gt;=&lt;/span&gt; group&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    ggtitle&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Portland-Auburn DMA"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
VOx/Wyty7lq4I2gAAAAASUVORK5CYII=" /&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;We can now see why this shape had so many pieces: small piece of land floating off in the Atlantic Ocean!&lt;/p&gt;
&lt;p&gt;Now that we have a cursory understanding of how to create these maps, let's stop focusing on Maine and consider the entire USA. We can generate some maps for each of the different &lt;code&gt;properties&lt;/code&gt; such as &lt;code&gt;tvperc&lt;/code&gt; and &lt;code&gt;cableperc&lt;/code&gt;, using almost the same code as above:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [49]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Generate a map for TV ownership by Neilson market&lt;/span&gt;
ggalbers&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    geom_polygon&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; dma_geo_df&lt;span class="p"&gt;,&lt;/span&gt; 
                 color &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"gray80"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; long&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; group &lt;span class="o"&gt;=&lt;/span&gt; group&lt;span class="p"&gt;,&lt;/span&gt; fill &lt;span class="o"&gt;=&lt;/span&gt; tvperc&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    ggtitle&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Neilson DMAs - Percent TV"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    guides&lt;span class="p"&gt;(&lt;/span&gt;fill &lt;span class="o"&gt;=&lt;/span&gt; guide_legend&lt;span class="p"&gt;(&lt;/span&gt;title &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"Percentage\nTV Ownership"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAJYCAMAAACaSn8zAAABj1BMVEUAAAATK0MULEUVL0gY
NFAkTXAnUngpVn0pV34qWYArWoIrW4MrW4QsXYYtXogtX4kvYo0vY44wZJAxZpIyaZYyaZc0
bJo0bZw1b541b582cKA2caE3c6Q4dKU4daY4dac5d6k5d6o6eKs7eq07eq47e647e688fLA9
frI9f7M9gLU+gLU+gbY+gbc/grg/grk/g7k/g7pAhLtAhbxBhr1Bhr5Bh75CicFCicJDisJD
isNDi8RDjMVEjMZEjcZEjcdEjshFjshFj8lFj8pFkMpGkMtGkctGkcxGks1Hks1Hk85Hk89I
lNBIlNFIldFJltNJl9RKmNVKmNZKmddLmthLmtlLm9lLm9pMnNtMndxMnd1NTU1Nnt1Nnt5N
n99OoOBOoeJPouNQpOZRp+lVrvRWsfdmZmZoaGh8fHyMjIyUlJSampqkpKSnp6ewsLCysrK6
urq9vb3CwsLHx8fKysrMzMzQ0NDR0dHX19fZ2dnd3d3h4eHj4+Po6Ojp6ent7e3w8PDx8fHy
8vL29vb///9sGOYOAAAACXBIWXMAABJ0AAASdAHeZh94AAAgAElEQVR4nO3djZ8cxXkn8M05
ju34DBiIHWRw5EASOENsJBJjJJs4lkGYNyO4M2cR7IQghAAhQI8QskBwmj/8ut7fnqqu7umZ
7ur5/T6gnZmd2Z3Z7e8+T1VX9xxtEARpNkdzPwEEQcYHgBGk4QAwgjQcAEaQhgPACNJwABhB
Gg4AI0jDAWAEaTgAjCANB4ARpOEAMII0HABGkIYDwAjScAAYQRoOACNIwwFgBGk4AIwgDQeA
EaThADCCNBwARpCGA8AI0nAAGEEaDgAjSMMBYARpOACMIA0HgBGk4QAwgjQcAEaQhgPACNJw
ABhBGg4AI0jDAWAEaTgAjCANB4ARpOEAMII0HABGkIYDwAjScAAYQRoOACNIwwFgBGk4AIwg
DQeAEaThADCCNBwARpCGA8AI0nAAGEEaDgAjSMMBYARpOACMIA0HgBGk4QAwgjQcAEaQhgPA
CNJwABhBGg4AI0jDAWAEaTgAjCANB4ARpOEAMII0HABGkIYDwAjScAAYQRoOACNIwwFgBGk4
AIwgDQeAEaThADCCNBwARpCGA8AI0nAAGEEaDgAjSMMBYARpOACMIA0HgBGk4QAwgjQcAEaQ
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
AAAAAElFTkSuQmCC" /&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [52]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Generate a map for cable subscriptions by Neilson market&lt;/span&gt;
ggalbers&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    geom_polygon&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; dma_geo_df&lt;span class="p"&gt;,&lt;/span&gt; 
                 color &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"gray80"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; long&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; group &lt;span class="o"&gt;=&lt;/span&gt; group&lt;span class="p"&gt;,&lt;/span&gt; fill &lt;span class="o"&gt;=&lt;/span&gt; cableperc&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    ggtitle&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Neilson DMAs - Percent Cable"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    guides&lt;span class="p"&gt;(&lt;/span&gt;fill &lt;span class="o"&gt;=&lt;/span&gt; guide_legend&lt;span class="p"&gt;(&lt;/span&gt;title &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"Percentage\nCable Subs"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAJYCAMAAACaSn8zAAAB2lBMVEUAAAATK0MZN1MaOFUa
OVcbOlgbPFkcPlwdPl0eQWEfQmIfQ2MfQ2QgRGUgRWYhRmghR2giSWsjSmwjSm0jS24kTG8l
TnIlT3QmUHUnUngnU3koVHooVXwpV34qWH8rWoIrWoMrW4MrW4QsXIUsXYYsXYctXoctXogt
X4kuYIouYIsuYYwvYo0vY44vY48wZI8wZJAwZZExZpIxZpMxZ5MyaJUyaZYyaZczapczapgz
a5kza5ozbJo0bJo0bJs0bZw1bp01bp41b541b582cJ82cKA2caE3cqI3cqM3c6Q4dKU4dKY4
daY4dac5dqg5d6k5d6o5eKo6eKo6eKs6eaw6eq07eq07eq47e647e688fLA8fbI9frM+gbc+
grc/grg/g7lAhLtAhbxBhr1Bh79CiMBCicFCisJDisNDi8VEjMZEjcZFjshFkMpHks1Hk85H
k89IlNFIldFIldJJltNMnt1NTU1Nnt5OoOBOouJPpOVSqu1Squ5Tq+9WsfdmZmZoaGh8fHyM
jIyUlJSampqkpKSnp6ewsLCysrK6urq9vb3CwsLHx8fKysrMzMzQ0NDR0dHX19fZ2dnd3d3h
4eHj4+Po6Ojp6ent7e3w8PDx8fHy8vL29vb///+/FLxDAAAACXBIWXMAABJ0AAASdAHeZh94
AAAgAElEQVR4nO3dib8cR3Uv8AvBgQeYxDgoebHyMEbEgDFLwOwKwfIGJIBZEiAYMEbmsZgl
CfLjQSzbsi1ko2MLWbasp/lfX9fatZyqrl6mu6vn9/vYunPnztyZube/95yqru452iEIUm2O
ln4CCIIMDwAjSMUBYASpOACMIBUHgBGk4gAwglQcAEaQigPACFJxABhBKg4AI0jFAWAEqTgA
jCAVB4ARpOIAMIJUHABGkIoDwAhScQAYQSoOACNIxQFgBKk4AIwgFQeAEaTiADCCVBwARpCK
A8AIUnEAGEEqDgAjSMUBYASpOACMIBUHgBGk4gAwglQcAEaQigPACFJxABhBKg4AI0jFAWAE
qTgAjCAVB4ARpOIAMIJUHABGkIoDwAhScQAYQSoOACNIxQFgBKk4AIwgFQeAEaTiADCCVBwA
RpCKA8AIUnEAGEEqDgAjSMUBYASpOACMIBUHgBGk4gAwglQcAEaQigPACFJxABhBKg4AI0jF
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" /&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Second-Order-of-Business"&gt;Second Order of Business&lt;a class="anchor-link" href="#Second-Order-of-Business"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Now that we have a good idea of what the data looks like, what are we going to do with it? Well, we want to answer similar questions to those we answered in &lt;strong&gt;Sinclair Station Exploration&lt;/strong&gt;. Namely:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;How has the number of markets Sincliar operates inside of changed over time?&lt;/li&gt;
&lt;li&gt;How does the spread of these markets look like spatially, from the viewpoint of the US as a whole?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To do this, we'll need to combine &lt;code&gt;dma_geo_df&lt;/code&gt; and &lt;code&gt;sinclair_station_all_df&lt;/code&gt; by matching each station in &lt;code&gt;sinclair_station_all_df&lt;/code&gt; to their designated market in &lt;code&gt;dma_geo_df&lt;/code&gt;. Once we do this we'll know which markets Sinclair operates in and when they started that operation.&lt;/p&gt;
&lt;p&gt;How can we do this? If you scroll up you'll see that &lt;code&gt;sinclair_station_all_df&lt;/code&gt; conveniently has a &lt;code&gt;Market&lt;/code&gt; column; this should be the obvious method for matching stations with their markets.&lt;/p&gt;
&lt;p&gt;Unfortunately, we won't be able to use this. If you look at the market names in both dataset for a single state (say Illinois), you'll find something like this:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Show markets in `sinclair_station_all_df` for Illinois&lt;/span&gt;
IL_mask &lt;span class="o"&gt;&lt;-&lt;/span&gt; str_sub&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="o"&gt;$&lt;/span&gt;Market&lt;span class="p"&gt;,&lt;/span&gt; start &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;-2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;"IL"&lt;/span&gt;
&lt;span class="kp"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="p"&gt;[&lt;/span&gt;IL_mask&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Market"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;ol class="list-inline"&gt;
&lt;li&gt;Champaign - Urbana - Decatur - Springfield, IL&lt;/li&gt;
&lt;li&gt;Peoria &amp; Bloomington, IL&lt;/li&gt;
&lt;li&gt;Cape Girardeau, MO - Paducah, KY - Harrisburg, IL&lt;/li&gt;
&lt;li&gt;Hannibal, MO - Quincy, IL&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Show markets in `dma_geo_df` for Illinois&lt;/span&gt;
IL_mask &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;sapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_df&lt;span class="o"&gt;$&lt;/span&gt;dma1&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="kp"&gt;grepl&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"IL"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; x&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="kp"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_df&lt;span class="p"&gt;[&lt;/span&gt;IL_mask&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"dma1"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;ol class="list-inline"&gt;
&lt;li&gt;Chicago, IL&lt;/li&gt;
&lt;li&gt;Rockford, IL&lt;/li&gt;
&lt;li&gt;Paducah, KY-Cape Girardeau, MO-Harrisburg, IL&lt;/li&gt;
&lt;li&gt;Champaign &amp; Springfield-Decatur, IL&lt;/li&gt;
&lt;li&gt;Peoria-Bloomington, IL&lt;/li&gt;
&lt;li&gt;Davenport, IA-Rock Island-Moline, IL&lt;/li&gt;
&lt;li&gt;Quincy, IL-Hannibal, MO-Keokuk, IA&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The example above suggests that market names between the two datasets do not seem to match well. Above, we would need to match:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th&gt;Sinclair Station Market Name&lt;/th&gt;
&lt;th&gt;Nielsen DMA Market Name&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Champaign - Urbana - Decatur - Springfield, IL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Champaign &amp; Springfield-Decatur, IL&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Peoria &amp; Bloomington, IL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Peoria-Bloomington, IL&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Cape Girardeau, MO - Paducah, KY - Harrisburg, IL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Paducah, KY-Cape Girardeau, MO-Harrisburg, IL&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Hannibal, MO - Quincy, IL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Quincy, IL-Hannibal, MO-Keokuk, IA&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;While we &lt;em&gt;can&lt;/em&gt; probably figure this out using a bit of regex engineering, we'll take a different approach in this notebook. To match a Sinclair owned station with its market, we'll look at the location (&lt;code&gt;Latitude&lt;/code&gt;, &lt;code&gt;Longitude&lt;/code&gt;) of the station and determine if it's geographically inside of a given market. This method, while initially more difficult, is a lot less error prone than trying to match strings.&lt;/p&gt;
&lt;h4 id="Merge-the-Datasets"&gt;Merge the Datasets&lt;a class="anchor-link" href="#Merge-the-Datasets"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Remember just a little while ago when I said that we won't need to worry about &lt;code&gt;dma_geo_sh&lt;/code&gt; because we converted it to a regular data frame called &lt;code&gt;dma_geo_df&lt;/code&gt;? I may have lied.&lt;/p&gt;
&lt;p&gt;There's a function in the spatial library &lt;code&gt;sp&lt;/code&gt; called &lt;code&gt;over&lt;/code&gt; (short for "overlay") that takes in two spatial objects (like &lt;code&gt;dma_geo_sh&lt;/code&gt;) and tells us whether one is inside of another one. This is exactly what we need to find out which stations are inside of which markets!&lt;/p&gt;
&lt;p&gt;It works like this: if we have a list of coordinates called &lt;code&gt;A&lt;/code&gt; and a list of polygons called &lt;code&gt;B&lt;/code&gt; then the code &lt;code&gt;A %over% B&lt;/code&gt; would result in a list that has the same length as &lt;code&gt;A&lt;/code&gt; and is composed of objects from &lt;code&gt;B&lt;/code&gt; that enclose each coordinate in &lt;code&gt;A&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I think a more concrete example is in order. Lets take a few rows from &lt;code&gt;sinclair_station_all_df&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [65]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get 5 rows from `sinclair_station_all_df`&lt;/span&gt;
test_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; na.omit&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_all_df&lt;span class="p"&gt;)&lt;/span&gt;
test_samples &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;sample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="kp"&gt;nrow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;test_df&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

test_df&lt;span class="p"&gt;[&lt;/span&gt;test_samples&lt;span class="p"&gt;,]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Channel.RF.&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;th scope="col"&gt;Power.kW&lt;/th&gt;&lt;th scope="col"&gt;Location&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th scope="row"&gt;203&lt;/th&gt;&lt;td&gt;Springfield - Holyoke, MA        &lt;/td&gt;&lt;td&gt;WGGB-TV                          &lt;/td&gt;&lt;td&gt;40 (40)                          &lt;/td&gt;&lt;td&gt;1998-2007                        &lt;/td&gt;&lt;td&gt; 460                             &lt;/td&gt;&lt;td&gt;42.241667; -72.649167            &lt;/td&gt;&lt;td&gt;42.24167                         &lt;/td&gt;&lt;td&gt; -72.64917                       &lt;/td&gt;&lt;td&gt;1998                             &lt;/td&gt;&lt;td&gt;2007                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;207&lt;/th&gt;&lt;td&gt;Kansas City, Missouri            &lt;/td&gt;&lt;td&gt;KSMO-TV                          &lt;/td&gt;&lt;td&gt;62 (47)                          &lt;/td&gt;&lt;td&gt;1996-2005                        &lt;/td&gt;&lt;td&gt;1000                             &lt;/td&gt;&lt;td&gt;39.090500; -94.472000            &lt;/td&gt;&lt;td&gt;39.09050                         &lt;/td&gt;&lt;td&gt; -94.47200                       &lt;/td&gt;&lt;td&gt;1996                             &lt;/td&gt;&lt;td&gt;2005                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;208&lt;/th&gt;&lt;td&gt;Plattsburgh, NY - Burlington, VT &lt;/td&gt;&lt;td&gt;WPTZ                             &lt;/td&gt;&lt;td&gt;5 (14)                           &lt;/td&gt;&lt;td&gt;1997-1998                        &lt;/td&gt;&lt;td&gt; 650                             &lt;/td&gt;&lt;td&gt;44.52556; -72.81556              &lt;/td&gt;&lt;td&gt;44.52556                         &lt;/td&gt;&lt;td&gt; -72.81556                       &lt;/td&gt;&lt;td&gt;1997                             &lt;/td&gt;&lt;td&gt;1998                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;194&lt;/th&gt;&lt;td&gt;Colorado Springs - Pueblo, CO    &lt;/td&gt;&lt;td&gt;KXRM-TV                          &lt;/td&gt;&lt;td&gt;21 (22)                          &lt;/td&gt;&lt;td&gt;2013-2014                        &lt;/td&gt;&lt;td&gt;  51                             &lt;/td&gt;&lt;td&gt;38.745389; -104.860889           &lt;/td&gt;&lt;td&gt;38.74539                         &lt;/td&gt;&lt;td&gt;-104.86089                       &lt;/td&gt;&lt;td&gt;2013                             &lt;/td&gt;&lt;td&gt;2014                             &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;197&lt;/th&gt;&lt;td&gt;Tallahassee, FL - Thomasville, GA&lt;/td&gt;&lt;td&gt;WTXL-TV                          &lt;/td&gt;&lt;td&gt;27 (27)                          &lt;/td&gt;&lt;td&gt;2001-2006                        &lt;/td&gt;&lt;td&gt;1000                             &lt;/td&gt;&lt;td&gt;30.66833; -83.96944              &lt;/td&gt;&lt;td&gt;30.66833                         &lt;/td&gt;&lt;td&gt; -83.96944                       &lt;/td&gt;&lt;td&gt;2001                             &lt;/td&gt;&lt;td&gt;2006                             &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Next, convert the locationo of each station into a &lt;code&gt;SpatialPoints&lt;/code&gt; object, which is just a list of &lt;code&gt;Longitude&lt;/code&gt;, &lt;code&gt;Latitude&lt;/code&gt; pairs:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [66]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Convert the data frame to a `SpatialPoints` object&lt;/span&gt;
test_sh &lt;span class="o"&gt;&lt;-&lt;/span&gt; SpatialPoints&lt;span class="p"&gt;(&lt;/span&gt;test_df&lt;span class="p"&gt;[&lt;/span&gt;test_samples&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Longitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Latitude"&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;

&lt;span class="c1"&gt;# Make sure that the projection from `test_sh` is the same as in `dma_geo_sh`&lt;/span&gt;
proj4string&lt;span class="p"&gt;(&lt;/span&gt;test_sh&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; proj4string&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_sh&lt;span class="p"&gt;)&lt;/span&gt;

test_sh
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_text output_subarea "&gt;
&lt;pre&gt;SpatialPoints:
     Longitude Latitude
203  -72.64917 42.24167
207  -94.47200 39.09050
208  -72.81556 44.52556
194 -104.86089 38.74539
197  -83.96944 30.66833
Coordinate Reference System (CRS) arguments: +proj=longlat +datum=WGS84
+no_defs +ellps=WGS84 +towgs84=0,0,0 &lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Finally, use the &lt;code&gt;over()&lt;/code&gt; function see which DMAs belong to which station:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [67]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;results_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; test_sh &lt;span class="o"&gt;%over%&lt;/span&gt; dma_geo_sh
results_df
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th scope="col"&gt;name&lt;/th&gt;&lt;th scope="col"&gt;latitude&lt;/th&gt;&lt;th scope="col"&gt;tvperc&lt;/th&gt;&lt;th scope="col"&gt;dma&lt;/th&gt;&lt;th scope="col"&gt;dma1&lt;/th&gt;&lt;th scope="col"&gt;cableperc&lt;/th&gt;&lt;th scope="col"&gt;adsperc&lt;/th&gt;&lt;th scope="col"&gt;longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th scope="row"&gt;203&lt;/th&gt;&lt;td&gt;dma:                           &lt;/td&gt;&lt;td&gt;42.38569                       &lt;/td&gt;&lt;td&gt;94.8                           &lt;/td&gt;&lt;td&gt;543                            &lt;/td&gt;&lt;td&gt;Springfield-Holyoke, MA        &lt;/td&gt;&lt;td&gt;81.5                           &lt;/td&gt;&lt;td&gt;14.0                           &lt;/td&gt;&lt;td&gt; -72.60171                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;207&lt;/th&gt;&lt;td&gt;dma:                           &lt;/td&gt;&lt;td&gt;39.30423                       &lt;/td&gt;&lt;td&gt;87.2                           &lt;/td&gt;&lt;td&gt;616                            &lt;/td&gt;&lt;td&gt;Kansas City, MO                &lt;/td&gt;&lt;td&gt;62.7                           &lt;/td&gt;&lt;td&gt;24.7                           &lt;/td&gt;&lt;td&gt; -94.20899                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;208&lt;/th&gt;&lt;td&gt;dma:                           &lt;/td&gt;&lt;td&gt;44.07130                       &lt;/td&gt;&lt;td&gt;90.8                           &lt;/td&gt;&lt;td&gt;523                            &lt;/td&gt;&lt;td&gt;Burlington, VT-Plattsburgh, NY &lt;/td&gt;&lt;td&gt;52.5                           &lt;/td&gt;&lt;td&gt;38.7                           &lt;/td&gt;&lt;td&gt; -73.03687                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;194&lt;/th&gt;&lt;td&gt;dma:                           &lt;/td&gt;&lt;td&gt;38.06138                       &lt;/td&gt;&lt;td&gt;86.5                           &lt;/td&gt;&lt;td&gt;752                            &lt;/td&gt;&lt;td&gt;Colorado Springs-Pueblo, CO    &lt;/td&gt;&lt;td&gt;43.6                           &lt;/td&gt;&lt;td&gt;43.5                           &lt;/td&gt;&lt;td&gt;-104.02717                     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;197&lt;/th&gt;&lt;td&gt;dma:                           &lt;/td&gt;&lt;td&gt;30.46230                       &lt;/td&gt;&lt;td&gt;93.0                           &lt;/td&gt;&lt;td&gt;530                            &lt;/td&gt;&lt;td&gt;Tallahassee, FL-Thomasville, GA&lt;/td&gt;&lt;td&gt;55.1                           &lt;/td&gt;&lt;td&gt;38.6                           &lt;/td&gt;&lt;td&gt; -83.67571                     &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Hey, it works! The column &lt;code&gt;dma1&lt;/code&gt; (the DMA names) from &lt;code&gt;results_df&lt;/code&gt; matches the &lt;code&gt;Market&lt;/code&gt; column from &lt;code&gt;test_df&lt;/code&gt;. And best of all, we didn't need to loop through every DMA polygon and check whether the station we're currently looking at is inside; all of that was done for us.&lt;/p&gt;
&lt;p&gt;Now, we can define a function that will repeat the work above:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [71]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# A function that looks through `geo_sh` (list of polygons) for the first polygon that&lt;/span&gt;
&lt;span class="c1"&gt;# contains the coordinates in `lon` and `lat`. Once found, it extracts the wanted attribute.&lt;/span&gt;
attribute_of_locations &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;geo_sh&lt;span class="p"&gt;,&lt;/span&gt; lon&lt;span class="p"&gt;,&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; attribute&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    
    &lt;span class="c1"&gt;# Turn `lon`, `lat` into a `SpatialPoints` object&lt;/span&gt;
    points_sh &lt;span class="o"&gt;&lt;-&lt;/span&gt; SpatialPoints&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;cbind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;lon&lt;span class="p"&gt;,&lt;/span&gt; lat&lt;span class="p"&gt;))&lt;/span&gt;
    proj4string&lt;span class="p"&gt;(&lt;/span&gt;points_sh&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; proj4string&lt;span class="p"&gt;(&lt;/span&gt;geo_sh&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# Overlay `points_sh` on top of `geo_sh`&lt;/span&gt;
    results_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; points_sh &lt;span class="o"&gt;%over%&lt;/span&gt; geo_sh
    
    results_df&lt;span class="p"&gt;[,&lt;/span&gt;attribute&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The &lt;code&gt;attribute_of_locations()&lt;/code&gt; function takes a list of coordinates (in the form of two separate vectors &lt;code&gt;lon&lt;/code&gt; and &lt;code&gt;lat&lt;/code&gt;), and for each coordinate, it finds the polygon inside of &lt;code&gt;geo_sh&lt;/code&gt; that contains the coordinate. After finding the polygon, i it extracts the wanted attribute from that polygon.&lt;/p&gt;
&lt;p&gt;Onto the long awaited moment! We will use &lt;code&gt;attrubute_of_locations()&lt;/code&gt; to merge our Sinclair station data and our Nielsen DMA data. The functions &lt;code&gt;filter()&lt;/code&gt; and &lt;code&gt;mutate()&lt;/code&gt; will be useful:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [75]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_station_dma_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_all_df &lt;span class="o"&gt;%&gt;%&lt;/span&gt; 
    select&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Market"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Station"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Latitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Longitude"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.Start"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.End"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
    filter&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Latitude&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Longitude&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
    mutate&lt;span class="p"&gt;(&lt;/span&gt;DMA &lt;span class="o"&gt;=&lt;/span&gt; attribute_of_locations&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_sh&lt;span class="p"&gt;,&lt;/span&gt; Longitude&lt;span class="p"&gt;,&lt;/span&gt; Latitude&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"dma1"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
    mutate&lt;span class="p"&gt;(&lt;/span&gt;DMA.Code &lt;span class="o"&gt;=&lt;/span&gt; attribute_of_locations&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_sh&lt;span class="p"&gt;,&lt;/span&gt; Longitude&lt;span class="p"&gt;,&lt;/span&gt; Latitude&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"dma"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [76]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_station_dma_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Market&lt;/th&gt;&lt;th scope="col"&gt;Station&lt;/th&gt;&lt;th scope="col"&gt;Latitude&lt;/th&gt;&lt;th scope="col"&gt;Longitude&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;th scope="col"&gt;DMA&lt;/th&gt;&lt;th scope="col"&gt;DMA.Code&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL     &lt;/td&gt;&lt;td&gt;WTTO                                       &lt;/td&gt;&lt;td&gt;33.48458                                   &lt;/td&gt;&lt;td&gt;-86.80708                                  &lt;/td&gt;&lt;td&gt;1995                                       &lt;/td&gt;&lt;td&gt;NA                                         &lt;/td&gt;&lt;td&gt;Birmingham (Anniston and Tuscaloosa), AL   &lt;/td&gt;&lt;td&gt;630                                        &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL     &lt;/td&gt;&lt;td&gt;WABM                                       &lt;/td&gt;&lt;td&gt;33.48458                                   &lt;/td&gt;&lt;td&gt;-86.80706                                  &lt;/td&gt;&lt;td&gt;2001                                       &lt;/td&gt;&lt;td&gt;NA                                         &lt;/td&gt;&lt;td&gt;Birmingham (Anniston and Tuscaloosa), AL   &lt;/td&gt;&lt;td&gt;630                                        &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Birmingham - Tuscaloosa - Anniston, AL     &lt;/td&gt;&lt;td&gt;WBMA-LD                                    &lt;/td&gt;&lt;td&gt;33.48458                                   &lt;/td&gt;&lt;td&gt;-86.80706                                  &lt;/td&gt;&lt;td&gt;2014                                       &lt;/td&gt;&lt;td&gt;NA                                         &lt;/td&gt;&lt;td&gt;Birmingham (Anniston and Tuscaloosa), AL   &lt;/td&gt;&lt;td&gt;630                                        &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WEAR-TV                                                                           &lt;/td&gt;&lt;td&gt;30.61261                                                                          &lt;/td&gt;&lt;td&gt;-87.64489                                                                         &lt;/td&gt;&lt;td&gt;1997                                                                              &lt;/td&gt;&lt;td&gt;NA                                                                                &lt;/td&gt;&lt;td&gt;Mobile, AL-Pensacola (Ft. Walton Beach), FL                                       &lt;/td&gt;&lt;td&gt;686                                                                               &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;WPMI-TV                                                                           &lt;/td&gt;&lt;td&gt;30.61139                                                                          &lt;/td&gt;&lt;td&gt;-87.60733                                                                         &lt;/td&gt;&lt;td&gt;2012                                                                              &lt;/td&gt;&lt;td&gt;NA                                                                                &lt;/td&gt;&lt;td&gt;Mobile, AL-Pensacola (Ft. Walton Beach), FL                                       &lt;/td&gt;&lt;td&gt;686                                                                               &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;Mobile, AL &amp; Pensacola, FL            &lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span style="white-space:pre-wrap"&gt;WFGX   &lt;/span&gt; &lt;/td&gt;&lt;td&gt;30.61261                                                                          &lt;/td&gt;&lt;td&gt;-87.64489                                                                         &lt;/td&gt;&lt;td&gt;2001                                                                              &lt;/td&gt;&lt;td&gt;NA                                                                                &lt;/td&gt;&lt;td&gt;Mobile, AL-Pensacola (Ft. Walton Beach), FL                                       &lt;/td&gt;&lt;td&gt;686                                                                               &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Now we have an association from each Sinclair TV station to one particular DMA. This is all we need to start answering our questions.&lt;/p&gt;
&lt;h3 id="Graphs-and-Analysis"&gt;Graphs and Analysis&lt;a class="anchor-link" href="#Graphs-and-Analysis"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Let's start our analysis by trying to answer question &lt;strong&gt;1&lt;/strong&gt;; that is, how many markets has Sinclair operated in over time? Using our merged dataset, we need to look at each DMA and find all the times when Sinclair had at least one station operating. The code below, using &lt;code&gt;group_by()&lt;/code&gt;, approximates this.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [77]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_dma_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_station_dma_df &lt;span class="o"&gt;%&gt;%&lt;/span&gt; 
    group_by&lt;span class="p"&gt;(&lt;/span&gt;DMA&lt;span class="p"&gt;,&lt;/span&gt; DMA.Code&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
    summarize&lt;span class="p"&gt;(&lt;/span&gt;Year.Start &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kp"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Year.Start&lt;span class="p"&gt;),&lt;/span&gt; Year.End &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kp"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Year.End&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [78]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_dma_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;DMA&lt;/th&gt;&lt;th scope="col"&gt;DMA.Code&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;Abilene-Sweetwater, TX     &lt;/td&gt;&lt;td&gt;662                        &lt;/td&gt;&lt;td&gt;2017                       &lt;/td&gt;&lt;td&gt;NA                         &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Albany-Schenectady-Troy, NY&lt;/td&gt;&lt;td&gt;532                        &lt;/td&gt;&lt;td&gt;2012                       &lt;/td&gt;&lt;td&gt;NA                         &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Albany, GA                 &lt;/td&gt;&lt;td&gt;525                        &lt;/td&gt;&lt;td&gt;2013                       &lt;/td&gt;&lt;td&gt;NA                         &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Amarillo, TX               &lt;/td&gt;&lt;td&gt;634                        &lt;/td&gt;&lt;td&gt;2013                       &lt;/td&gt;&lt;td&gt;NA                         &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Austin, TX                 &lt;/td&gt;&lt;td&gt;635                        &lt;/td&gt;&lt;td&gt;2012                       &lt;/td&gt;&lt;td&gt;NA                         &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Bakersfield, CA            &lt;/td&gt;&lt;td&gt;800                        &lt;/td&gt;&lt;td&gt;2013                       &lt;/td&gt;&lt;td&gt;NA                         &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [22]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dma_attributes_path &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"Interactive_DMA_Map/tv_2017.csv"&lt;/span&gt;
dma_attributes_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; read.csv&lt;span class="p"&gt;(&lt;/span&gt;dma_attributes_path&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kp"&gt;colnames&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_attributes_df&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"DMA.Code"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Rank"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"DMA"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"TV.Homes"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Percent.of.US"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [23]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_attributes_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;DMA.Code&lt;/th&gt;&lt;th scope="col"&gt;Rank&lt;/th&gt;&lt;th scope="col"&gt;DMA&lt;/th&gt;&lt;th scope="col"&gt;TV.Homes&lt;/th&gt;&lt;th scope="col"&gt;Percent.of.US&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;662                    &lt;/td&gt;&lt;td&gt;165                    &lt;/td&gt;&lt;td&gt;Abilene-Sweetwater     &lt;/td&gt;&lt;td&gt;113,080                &lt;/td&gt;&lt;td&gt;0.099                  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;525                    &lt;/td&gt;&lt;td&gt;152                    &lt;/td&gt;&lt;td&gt;Albany, GA             &lt;/td&gt;&lt;td&gt;142,800                &lt;/td&gt;&lt;td&gt;0.125                  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;532                    &lt;/td&gt;&lt;td&gt; 59                    &lt;/td&gt;&lt;td&gt;Albany-Schenectady-Troy&lt;/td&gt;&lt;td&gt;529,120                &lt;/td&gt;&lt;td&gt;0.461                  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;790                    &lt;/td&gt;&lt;td&gt; 48                    &lt;/td&gt;&lt;td&gt;Albuquerque-Santa Fe   &lt;/td&gt;&lt;td&gt;677,590                &lt;/td&gt;&lt;td&gt;0.591                  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;644                    &lt;/td&gt;&lt;td&gt;179                    &lt;/td&gt;&lt;td&gt;Alexandria, LA         &lt;/td&gt;&lt;td&gt;85,560                 &lt;/td&gt;&lt;td&gt;0.075                  &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;583                    &lt;/td&gt;&lt;td&gt;208                    &lt;/td&gt;&lt;td&gt;Alpena                 &lt;/td&gt;&lt;td&gt;16,010                 &lt;/td&gt;&lt;td&gt;0.014                  &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_dma_attr_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_attributes_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"DMA.Code"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"TV.Homes"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Percent.of.US"&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt; 
                              sinclair_dma_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"DMA.Code"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.Start"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Year.End"&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt; 
                              by &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"DMA.Code"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_dma_attr_df&lt;span class="o"&gt;$&lt;/span&gt;TV.Homes &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;gsub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;","&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; sinclair_dma_attr_df&lt;span class="o"&gt;$&lt;/span&gt;TV.Homes&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_dma_attr_df&lt;span class="o"&gt;$&lt;/span&gt;TV.Homes &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;as.character&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_dma_attr_df&lt;span class="o"&gt;$&lt;/span&gt;TV.Homes&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_dma_attr_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;DMA.Code&lt;/th&gt;&lt;th scope="col"&gt;TV.Homes&lt;/th&gt;&lt;th scope="col"&gt;Percent.of.US&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;500    &lt;/td&gt;&lt;td&gt; 383700&lt;/td&gt;&lt;td&gt;0.335  &lt;/td&gt;&lt;td&gt;  NA   &lt;/td&gt;&lt;td&gt;NA     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;503    &lt;/td&gt;&lt;td&gt; 232910&lt;/td&gt;&lt;td&gt;0.203  &lt;/td&gt;&lt;td&gt;2014   &lt;/td&gt;&lt;td&gt;NA     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;507    &lt;/td&gt;&lt;td&gt; 340050&lt;/td&gt;&lt;td&gt;0.296  &lt;/td&gt;&lt;td&gt;2014   &lt;/td&gt;&lt;td&gt;NA     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;508    &lt;/td&gt;&lt;td&gt;1160220&lt;/td&gt;&lt;td&gt;1.012  &lt;/td&gt;&lt;td&gt;1991   &lt;/td&gt;&lt;td&gt;NA     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;511    &lt;/td&gt;&lt;td&gt;2476680&lt;/td&gt;&lt;td&gt;2.159  &lt;/td&gt;&lt;td&gt;2014   &lt;/td&gt;&lt;td&gt;NA     &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;512    &lt;/td&gt;&lt;td&gt;1119480&lt;/td&gt;&lt;td&gt;0.976  &lt;/td&gt;&lt;td&gt;1971   &lt;/td&gt;&lt;td&gt;NA     &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [25]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;sapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_dma_attr_df&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kp"&gt;class&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;dl class="dl-horizontal"&gt;
&lt;dt&gt;DMA.Code&lt;/dt&gt;
&lt;dd&gt;'integer'&lt;/dd&gt;
&lt;dt&gt;TV.Homes&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;dt&gt;Percent.of.US&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;dt&gt;Year.Start&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;dt&gt;Year.End&lt;/dt&gt;
&lt;dd&gt;'numeric'&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get temporal limits of the data&lt;/span&gt;
max_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_dma_attr_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;,&lt;/span&gt; na.rm &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
min_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_dma_attr_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;,&lt;/span&gt; na.rm &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Get rid of data that has missing year values&lt;/span&gt;
no_na_year_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_dma_attr_df &lt;span class="o"&gt;%&gt;%&lt;/span&gt; filter&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Year.Start&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# Create aliases for the two year columns&lt;/span&gt;
start_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; no_na_year_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start
end_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; no_na_year_df&lt;span class="o"&gt;$&lt;/span&gt;Year.End

&lt;span class="c1"&gt;# Make a new data.frame and fill it using a for-loop&lt;/span&gt;
&lt;span class="c1"&gt;# This is a slow way to do it but our dataset is not huge &lt;/span&gt;
sinclair_population_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kt"&gt;data.frame&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="kr"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;year &lt;span class="kr"&gt;in&lt;/span&gt; min_year&lt;span class="o"&gt;:&lt;/span&gt;max_year&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;# Generate the station count&lt;/span&gt;
    &lt;span class="c1"&gt;# Remember to take care of possible NA values in `end_year`&lt;/span&gt;
    new_row &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_dma_attr_df &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
        filter&lt;span class="p"&gt;(&lt;/span&gt; Year.Start &lt;span class="o"&gt;&lt;=&lt;/span&gt; year &lt;span class="o"&gt;&amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;Year.End &lt;span class="o"&gt;&gt;=&lt;/span&gt; year &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Year.End&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
        summarize&lt;span class="p"&gt;(&lt;/span&gt;TV.Homes.Tot &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kp"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;TV.Homes&lt;span class="p"&gt;),&lt;/span&gt; Percent.of.US.Tot &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kp"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Percent.of.US&lt;span class="p"&gt;))&lt;/span&gt;
    new_row&lt;span class="o"&gt;$&lt;/span&gt;Year &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;year&lt;span class="p"&gt;)&lt;/span&gt;
    sinclair_population_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;rbind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_population_df&lt;span class="p"&gt;,&lt;/span&gt; new_row&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_population_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kp"&gt;sample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="kp"&gt;nrow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_population_df&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th scope="col"&gt;TV.Homes.Tot&lt;/th&gt;&lt;th scope="col"&gt;Percent.of.US.Tot&lt;/th&gt;&lt;th scope="col"&gt;Year&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th scope="row"&gt;30&lt;/th&gt;&lt;td&gt;25234410&lt;/td&gt;&lt;td&gt;22.001  &lt;/td&gt;&lt;td&gt;2000    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;2&lt;/th&gt;&lt;td&gt; 1119480&lt;/td&gt;&lt;td&gt; 0.976  &lt;/td&gt;&lt;td&gt;1972    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;17&lt;/th&gt;&lt;td&gt; 2040220&lt;/td&gt;&lt;td&gt; 1.779  &lt;/td&gt;&lt;td&gt;1987    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;21&lt;/th&gt;&lt;td&gt; 5109030&lt;/td&gt;&lt;td&gt; 4.455  &lt;/td&gt;&lt;td&gt;1991    &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;26&lt;/th&gt;&lt;td&gt;14184640&lt;/td&gt;&lt;td&gt;12.368  &lt;/td&gt;&lt;td&gt;1996    &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [46]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Create the plot&lt;/span&gt;
sinclair_population_plot &lt;span class="o"&gt;&lt;-&lt;/span&gt; ggplot&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; sinclair_population_df&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    geom_line&lt;span class="p"&gt;(&lt;/span&gt;aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; Year&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; Percent.of.US.Tot&lt;span class="p"&gt;),&lt;/span&gt; color &lt;span class="o"&gt;=&lt;/span&gt; brewer.pal&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Set2"&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    ggtitle&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Sinclair Viewership"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    xlab&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Year"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; ylab&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Percent of USA Population"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    theme&lt;span class="p"&gt;(&lt;/span&gt;plot.title &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;color&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"#666666"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; face&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"bold"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

sinclair_population_plot
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
RK5CYII=" /&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;As we can see, this plot shows a very similar story compared to its earlier counterpart in &lt;strong&gt;Sinclair Station Exploration&lt;/strong&gt;. Points of highest slope appear during large acquisitions in the mid-90s and 2011-2013. The last 5 years contain the all-time maximum:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [43]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_population_df&lt;span class="o"&gt;$&lt;/span&gt;Percent.of.US.Tot&lt;span class="p"&gt;,&lt;/span&gt; n &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;ol class="list-inline"&gt;
&lt;li&gt;31.055&lt;/li&gt;
&lt;li&gt;36.287&lt;/li&gt;
&lt;li&gt;34.314&lt;/li&gt;
&lt;li&gt;34.828&lt;/li&gt;
&lt;li&gt;35.494&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [29]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_population_df&lt;span class="o"&gt;$&lt;/span&gt;Percent.of.US.Tot&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
36.287
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;So, currently, Sinclair Broadcast delivers local news to 35.494% of the US population. This number was highest in 2014 with a value of 36.287%.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_population_df&lt;span class="o"&gt;$&lt;/span&gt;TV.Homes.Tot&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
41619730
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Nielson estimates the total number of TV homes for the 2016-2017 period is 118.4 million. Using this we number we validate our previous estimate because 41,619,730 / 118,400,000 = 0.3515 = 35.15%. The numbers differ slightly because not every "TV Home" will have the same number of people in it.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [31]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dma_geo_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;id&lt;/th&gt;&lt;th scope="col"&gt;long&lt;/th&gt;&lt;th scope="col"&gt;lat&lt;/th&gt;&lt;th scope="col"&gt;order&lt;/th&gt;&lt;th scope="col"&gt;hole&lt;/th&gt;&lt;th scope="col"&gt;piece&lt;/th&gt;&lt;th scope="col"&gt;group&lt;/th&gt;&lt;th scope="col"&gt;name&lt;/th&gt;&lt;th scope="col"&gt;latitude&lt;/th&gt;&lt;th scope="col"&gt;tvperc&lt;/th&gt;&lt;th scope="col"&gt;dma&lt;/th&gt;&lt;th scope="col"&gt;dma1&lt;/th&gt;&lt;th scope="col"&gt;cableperc&lt;/th&gt;&lt;th scope="col"&gt;adsperc&lt;/th&gt;&lt;th scope="col"&gt;longitude&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-70.97725          &lt;/td&gt;&lt;td&gt;43.35754           &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-70.95991          &lt;/td&gt;&lt;td&gt;43.54138           &lt;/td&gt;&lt;td&gt;2                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.11016          &lt;/td&gt;&lt;td&gt;43.50660           &lt;/td&gt;&lt;td&gt;3                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.12750          &lt;/td&gt;&lt;td&gt;43.57367           &lt;/td&gt;&lt;td&gt;4                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.26042          &lt;/td&gt;&lt;td&gt;43.57119           &lt;/td&gt;&lt;td&gt;5                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.53203          &lt;/td&gt;&lt;td&gt;43.76496           &lt;/td&gt;&lt;td&gt;6                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;dma:               &lt;/td&gt;&lt;td&gt;44.36667           &lt;/td&gt;&lt;td&gt;91.3               &lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;67.9               &lt;/td&gt;&lt;td&gt;23.7               &lt;/td&gt;&lt;td&gt;-70.18301          &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [32]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sinclair_final_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_dma_df&lt;span class="p"&gt;,&lt;/span&gt; dma_geo_df&lt;span class="p"&gt;,&lt;/span&gt; by.x &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"DMA"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; by.y &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"dma1"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_final_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_final_df &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
    select&lt;span class="p"&gt;(&lt;/span&gt;DMA&lt;span class="p"&gt;,&lt;/span&gt; id&lt;span class="p"&gt;,&lt;/span&gt; long&lt;span class="p"&gt;,&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kp"&gt;order&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; hole&lt;span class="p"&gt;,&lt;/span&gt; piece&lt;span class="p"&gt;,&lt;/span&gt; group&lt;span class="p"&gt;,&lt;/span&gt; Year.Start&lt;span class="p"&gt;,&lt;/span&gt; Year.End&lt;span class="p"&gt;)&lt;/span&gt;
sinclair_final_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_final_df&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kp"&gt;order&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;id&lt;span class="p"&gt;,&lt;/span&gt; sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="kp"&gt;order&lt;/span&gt;&lt;span class="p"&gt;),]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [33]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th scope="col"&gt;DMA&lt;/th&gt;&lt;th scope="col"&gt;id&lt;/th&gt;&lt;th scope="col"&gt;long&lt;/th&gt;&lt;th scope="col"&gt;lat&lt;/th&gt;&lt;th scope="col"&gt;order&lt;/th&gt;&lt;th scope="col"&gt;hole&lt;/th&gt;&lt;th scope="col"&gt;piece&lt;/th&gt;&lt;th scope="col"&gt;group&lt;/th&gt;&lt;th scope="col"&gt;Year.Start&lt;/th&gt;&lt;th scope="col"&gt;Year.End&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th scope="row"&gt;3227&lt;/th&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-70.97725          &lt;/td&gt;&lt;td&gt;43.35754           &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;3167&lt;/th&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-70.95991          &lt;/td&gt;&lt;td&gt;43.54138           &lt;/td&gt;&lt;td&gt;2                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;3316&lt;/th&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.11016          &lt;/td&gt;&lt;td&gt;43.50660           &lt;/td&gt;&lt;td&gt;3                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;3277&lt;/th&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.12750          &lt;/td&gt;&lt;td&gt;43.57367           &lt;/td&gt;&lt;td&gt;4                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;3278&lt;/th&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.26042          &lt;/td&gt;&lt;td&gt;43.57119           &lt;/td&gt;&lt;td&gt;5                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th scope="row"&gt;3209&lt;/th&gt;&lt;td&gt;Portland-Auburn, ME&lt;/td&gt;&lt;td&gt;500                &lt;/td&gt;&lt;td&gt;-71.53203          &lt;/td&gt;&lt;td&gt;43.76496           &lt;/td&gt;&lt;td&gt;6                  &lt;/td&gt;&lt;td&gt;FALSE              &lt;/td&gt;&lt;td&gt;1                  &lt;/td&gt;&lt;td&gt;500.1              &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;td&gt;NA                 &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [34]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;plot_sinclair_dmas &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;year&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;# Separate the spatial data into four datasets&lt;/span&gt;
    plot_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; sinclair_final_df &lt;span class="o"&gt;%&gt;%&lt;/span&gt;
        mutate&lt;span class="p"&gt;(&lt;/span&gt;Acquired &lt;span class="o"&gt;=&lt;/span&gt; case_when&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;Year.Start &lt;span class="o"&gt;&lt;&lt;/span&gt; year&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;Year.End &lt;span class="o"&gt;&gt;&lt;/span&gt; year &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="kp"&gt;is.na&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Year.End&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="s"&gt;"acquired\nprevious years"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            Year.Start &lt;span class="o"&gt;==&lt;/span&gt; year &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="s"&gt;"acquired\nthis year"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            Year.End &lt;span class="o"&gt;==&lt;/span&gt; year &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="s"&gt;"sold\nthis year"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="kc"&gt;TRUE&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="s"&gt;"not held"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# We don't want to show the DMAs that were not held during the given year&lt;/span&gt;
    held_mask &lt;span class="o"&gt;&lt;-&lt;/span&gt; plot_df&lt;span class="o"&gt;$&lt;/span&gt;Acquired &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s"&gt;"not held"&lt;/span&gt;
    plot_df &lt;span class="o"&gt;&lt;-&lt;/span&gt; plot_df&lt;span class="p"&gt;[&lt;/span&gt;held_mask&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
    factor_levels &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"acquired\nprevious years"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"acquired\nthis year"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"sold\nthis year"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    plot_df&lt;span class="o"&gt;$&lt;/span&gt;Acquired &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;factor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;plot_df&lt;span class="o"&gt;$&lt;/span&gt;Acquired&lt;span class="p"&gt;,&lt;/span&gt; levels &lt;span class="o"&gt;=&lt;/span&gt; factor_levels&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# Pick some nice colors&lt;/span&gt;
    nice_colors &lt;span class="o"&gt;&lt;-&lt;/span&gt; brewer.pal&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Set2"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# Make the plot&lt;/span&gt;
    ggplot&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        coord_map&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"albers"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; lat0 &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;37.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; lat1 &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;29.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
        geom_polygon&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; dma_geo_df&lt;span class="p"&gt;,&lt;/span&gt;
                     aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; long&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; group &lt;span class="o"&gt;=&lt;/span&gt; group&lt;span class="p"&gt;),&lt;/span&gt;
                     color &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"gray60"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        geom_polygon&lt;span class="p"&gt;(&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; plot_df&lt;span class="p"&gt;,&lt;/span&gt;
                     aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; long&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; lat&lt;span class="p"&gt;,&lt;/span&gt; group &lt;span class="o"&gt;=&lt;/span&gt; group&lt;span class="p"&gt;,&lt;/span&gt; fill &lt;span class="o"&gt;=&lt;/span&gt; Acquired&lt;span class="p"&gt;),&lt;/span&gt;
                     color &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"gray60"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        scale_fill_manual&lt;span class="p"&gt;(&lt;/span&gt;values &lt;span class="o"&gt;=&lt;/span&gt; nice_colors&lt;span class="p"&gt;,&lt;/span&gt; drop &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        theme&lt;span class="p"&gt;(&lt;/span&gt;plot.title &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;hjust &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; color&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"#666666"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; face&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"bold"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; 
            axis.text &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt; 
            axis.line &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt; 
            axis.ticks &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
            axis.title &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
            panel.border &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
            legend.position &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0.93&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            legend.key.size &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            legend.text &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;12&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            legend.title &lt;span class="o"&gt;=&lt;/span&gt; element_text&lt;span class="p"&gt;(&lt;/span&gt;size&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;12&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            panel.grid &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;(),&lt;/span&gt;
            panel.background &lt;span class="o"&gt;=&lt;/span&gt; element_blank&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        ggtitle&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Sinclair DMAs in"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; year&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [35]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;plot_sinclair_dmas&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;2013&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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" /&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [47]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;IMAGE_OUTPUT_PATH &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="s"&gt;"Images"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [48]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ggsave&lt;span class="p"&gt;(&lt;/span&gt;filename &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;'Sinclair_Viewership.png'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
    plot &lt;span class="o"&gt;=&lt;/span&gt; sinclair_population_plot&lt;span class="p"&gt;,&lt;/span&gt;
    path &lt;span class="o"&gt;=&lt;/span&gt; IMAGE_OUTPUT_PATH&lt;span class="p"&gt;,&lt;/span&gt;
    width &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    height &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-r"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;max_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;,&lt;/span&gt; na.rm &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
min_year &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sinclair_final_df&lt;span class="o"&gt;$&lt;/span&gt;Year.Start&lt;span class="p"&gt;,&lt;/span&gt; na.rm &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kr"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;year &lt;span class="kr"&gt;in&lt;/span&gt; min_year&lt;span class="o"&gt;:&lt;/span&gt;max_year&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    image &lt;span class="o"&gt;&lt;-&lt;/span&gt; plot_sinclair_dmas&lt;span class="p"&gt;(&lt;/span&gt;year&lt;span class="p"&gt;)&lt;/span&gt;
    image.name &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Sinclair_DMAs"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; year&lt;span class="p"&gt;,&lt;/span&gt; sep &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"_"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    image.name &lt;span class="o"&gt;&lt;-&lt;/span&gt; &lt;span class="kp"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;image.name&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;".png"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; sep &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;""&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    ggsave&lt;span class="p"&gt;(&lt;/span&gt;filename &lt;span class="o"&gt;=&lt;/span&gt; image.name&lt;span class="p"&gt;,&lt;/span&gt; 
        plot &lt;span class="o"&gt;=&lt;/span&gt; image&lt;span class="p"&gt;,&lt;/span&gt;
        path &lt;span class="o"&gt;=&lt;/span&gt; IMAGE_OUTPUT_PATH&lt;span class="p"&gt;,&lt;/span&gt;
        width &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;14&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        height &lt;span class="o"&gt;=&lt;/span&gt; unit&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"cm"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="R"></category><category term="ggplot2"></category><category term="maps"></category><category term="sinclair"></category></entry><entry><title>I'm Starting a Blog!</title><link href="/first_post.html" rel="alternate"></link><published>2017-08-30T12:00:00-07:00</published><updated>2017-08-30T12:00:00-07:00</updated><author><name>Dawid Minorczyk</name></author><id>tag:None,2017-08-30:/first_post.html</id><summary type="html">&lt;p class="first last"&gt;An introduction to the &lt;em&gt;mimsy.io&lt;/em&gt; blog&lt;/p&gt;
</summary><content type="html">&lt;div class="section" id="i-m-starting-a-blog"&gt;
&lt;h2&gt;I'm Starting a Blog!&lt;/h2&gt;
&lt;p&gt;Welcome to &lt;em&gt;mimsy.io&lt;/em&gt;! Just another blog about data science, learning, and general tomfoolery
involving cool visualizations.&lt;/p&gt;
&lt;p&gt;Like many blogs, this site doesn't have much structure. However, I do file the different post under
different categories. If you need some guidance, theses are the different types of posts I'll be
writing:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="category/announcements.html"&gt;Announcements&lt;/a&gt;: Post like this one that provide information about
the site itself.&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="category/stories.html"&gt;Stories&lt;/a&gt;: Posts that read more like news articles. Here, I take a story
I've heard somewhere else and try to explore it further using data.&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="category/notebooks.html"&gt;Notebooks&lt;/a&gt;: Blog post versions of JUPYTER notebooks. I usually post
these a supplementary material to other posts (like &lt;em&gt;Stories&lt;/em&gt;). These involve code (usually &lt;strong&gt;R&lt;/strong&gt;
or &lt;strong&gt;Python&lt;/strong&gt;) and detail steps I took to create graphs, maps, and visualizations.&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="category/tutorials.html"&gt;Tutorials&lt;/a&gt;: Post where I explore and try to explain various topics in
data science, statistics, and machine learning.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As of right now, there's not much content on the site, but this will hopefully change soon!&lt;/p&gt;
&lt;/div&gt;
</content><category term="firsts"></category></entry></feed>